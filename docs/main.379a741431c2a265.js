(self.webpackChunkportfolio=self.webpackChunkportfolio||[]).push([[179],{2011:(ft,le,V)=>{"use strict";V.d(le,{Dh:()=>re,GT:()=>ne,cc:()=>ke,hO:()=>Fe,on:()=>H,pX:()=>de,xv:()=>ce});var h=V(4650),F=V(127),L=V(5813);ft=V.hmd(ft);const ae=["ngOnDestroy"],de=(ge,Pe,rt,De={})=>new Proxy(ge,{get:(Ee,Te)=>rt.runOutsideAngular(()=>{var Ie;if(ge[Te])return!(null===(Ie=De?.spy)||void 0===Ie)&&Ie.get&&De.spy.get(Te,ge[Te]),ge[Te];if(ae.indexOf(Te)>-1)return()=>{};const ve=Pe.toPromise().then(j=>{const ee=j&&j[Te];return"function"==typeof ee?ee.bind(j):ee&&ee.then?ee.then(W=>rt.run(()=>W)):rt.run(()=>ee)});return new Proxy(()=>{},{get:(j,ee)=>ve[ee],apply:(j,ee,W)=>ve.then(ie=>{var fe;const ue=ie&&ie(...W);return!(null===(fe=De?.spy)||void 0===fe)&&fe.apply&&De.spy.apply(Te,W,ue),ue})})})}),ne=(ge,Pe)=>{Pe.forEach(rt=>{Object.getOwnPropertyNames(rt.prototype||rt).forEach(De=>{Object.defineProperty(ge.prototype,De,Object.getOwnPropertyDescriptor(rt.prototype||rt,De))})})};class se{constructor(Pe){return Pe}}const re=new h.OlP("angularfire2.app.options"),ce=new h.OlP("angularfire2.app.name");function H(ge,Pe,rt){const Ee="object"==typeof rt&&rt||{};Ee.name=Ee.name||"string"==typeof rt&&rt||"[DEFAULT]";const Ie=F.Z.apps.filter(ve=>ve&&ve.name===Ee.name)[0]||Pe.runOutsideAngular(()=>F.Z.initializeApp(ge,Ee));try{JSON.stringify(ge)!==JSON.stringify(Ie.options)&&G("error",`${Ie.name} Firebase App already initialized with different options${ft.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new se(Ie)}const G=(ge,...Pe)=>{(0,h.X6Q)()&&typeof console<"u"&&console[ge](...Pe)},Y={provide:se,useFactory:H,deps:[re,h.R0b,[new h.FiY,ce]]};let Fe=(()=>{class ge{constructor(rt){F.Z.registerVersion("angularfire",L.q4.full,"core"),F.Z.registerVersion("angularfire",L.q4.full,"app-compat"),F.Z.registerVersion("angular",h.q4F.full,rt.toString())}static initializeApp(rt,De){return{ngModule:ge,providers:[{provide:re,useValue:rt},{provide:ce,useValue:De}]}}}return ge.\u0275fac=function(rt){return new(rt||ge)(h.LFG(h.Lbi))},ge.\u0275mod=h.oAB({type:ge}),ge.\u0275inj=h.cJS({providers:[Y]}),ge})();function ke(ge,Pe,rt,De,Ee){const[,Te,Ie]=globalThis.\u0275AngularfireInstanceCache.find(ve=>ve[0]===ge)||[];if(Te)return function Ae(ge,Pe){try{return ge.toString()===Pe.toString()}catch{return ge===Pe}}(Ee,Ie)||(we("error",`${Pe} was already initialized on the ${rt} Firebase App with different settings.${Qe?" You may need to reload as Firebase is not HMR aware.":""}`),we("warn",{is:Ee,was:Ie})),Te;{const ve=De();return globalThis.\u0275AngularfireInstanceCache.push([ge,ve,Ee]),ve}}const Qe=!!ft.hot,we=(ge,...Pe)=>{(0,h.X6Q)()&&typeof console<"u"&&console[ge](...Pe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(ft,le,V)=>{"use strict";V.d(le,{q4:()=>ut,iC:()=>Vs,HU:()=>Na,vb:()=>co,JM:()=>ku});var h=V(4650),F=V(5867),L=V(5861),ae=V(9681),de=V(2090),ne=V(4859),se=V(1877),re=V(8766);const ce="@firebase/installations",H="0.5.15",Y=`w:${H}`,Fe="FIS_v2",Pe=new de.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function rt(D){return D instanceof de.ZR&&D.code.includes("request-failed")}function De({projectId:D}){return`https://firebaseinstallations.googleapis.com/v1/projects/${D}/installations`}function Ee(D){return{token:D.token,requestStatus:2,expiresIn:ie(D.expiresIn),creationTime:Date.now()}}function Te(D,A){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,L.Z)(function*(D,A){const B=(yield A.json()).error;return Pe.create("request-failed",{requestName:D,serverCode:B.code,serverMessage:B.message,serverStatus:B.status})})).apply(this,arguments)}function ve({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function j(D,{refreshToken:A}){const N=ve(D);return N.append("Authorization",function fe(D){return`${Fe} ${D}`}(A)),N}function ee(D){return W.apply(this,arguments)}function W(){return(W=(0,L.Z)(function*(D){const A=yield D();return A.status>=500&&A.status<600?D():A})).apply(this,arguments)}function ie(D){return Number(D.replace("s","000"))}function ue(D,A){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,L.Z)(function*({appConfig:D,heartbeatServiceProvider:A},{fid:N}){const B=De(D),te=ve(D),me=A.getImmediate({optional:!0});if(me){const Nt=yield me.getHeartbeatsHeader();Nt&&te.append("x-firebase-client",Nt)}const $e={method:"POST",headers:te,body:JSON.stringify({fid:N,authVersion:Fe,appId:D.appId,sdkVersion:Y})},ct=yield ee(()=>fetch(B,$e));if(ct.ok){const Nt=yield ct.json();return{fid:Nt.fid||N,registrationStatus:2,refreshToken:Nt.refreshToken,authToken:Ee(Nt.authToken)}}throw yield Te("Create Installation",ct)})).apply(this,arguments)}function Be(D){return new Promise(A=>{setTimeout(A,D)})}const qt=/^[cdef][\w-]{21}$/;function We(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const N=function jt(D){return function lt(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return qt.test(N)?N:""}catch{return""}}function Xt(D){return`${D.appName}!${D.appId}`}const Ct=new Map;function yt(D,A){const N=Xt(D);rn(N,A),function dn(D,A){const N=function Ft(){return!nn&&"BroadcastChannel"in self&&(nn=new BroadcastChannel("[Firebase] FID Change"),nn.onmessage=D=>{rn(D.data.key,D.data.fid)}),nn}();N&&N.postMessage({key:D,fid:A}),function gn(){0===Ct.size&&nn&&(nn.close(),nn=null)}()}(N,A)}function rn(D,A){const N=Ct.get(D);if(N)for(const B of N)B(A)}let nn=null;const Qn="firebase-installations-store";let hr=null;function Un(){return hr||(hr=(0,re.X3)("firebase-installations-database",1,{upgrade:(D,A)=>{0===A&&D.createObjectStore(Qn)}})),hr}function Ke(D,A){return Er.apply(this,arguments)}function Er(){return(Er=(0,L.Z)(function*(D,A){const N=Xt(D),te=(yield Un()).transaction(Qn,"readwrite"),me=te.objectStore(Qn),Ne=yield me.get(N);return yield me.put(A,N),yield te.done,(!Ne||Ne.fid!==A.fid)&&yt(D,A.fid),A})).apply(this,arguments)}function di(D){return hn.apply(this,arguments)}function hn(){return(hn=(0,L.Z)(function*(D){const A=Xt(D),B=(yield Un()).transaction(Qn,"readwrite");yield B.objectStore(Qn).delete(A),yield B.done})).apply(this,arguments)}function ei(D,A){return hi.apply(this,arguments)}function hi(){return(hi=(0,L.Z)(function*(D,A){const N=Xt(D),te=(yield Un()).transaction(Qn,"readwrite"),me=te.objectStore(Qn),Ne=yield me.get(N),$e=A(Ne);return void 0===$e?yield me.delete(N):yield me.put($e,N),yield te.done,$e&&(!Ne||Ne.fid!==$e.fid)&&yt(D,$e.fid),$e})).apply(this,arguments)}function Bn(D){return jn.apply(this,arguments)}function jn(){return(jn=(0,L.Z)(function*(D){let A;const N=yield ei(D.appConfig,B=>{const te=Tn(B),me=wt(D,te);return A=me.registrationPromise,me.installationEntry});return""===N.fid?{installationEntry:yield A}:{installationEntry:N,registrationPromise:A}})).apply(this,arguments)}function Tn(D){return Pt(D||{fid:We(),registrationStatus:0})}function wt(D,A){if(0===A.registrationStatus){if(!navigator.onLine)return{installationEntry:A,registrationPromise:Promise.reject(Pe.create("app-offline"))};const N={fid:A.fid,registrationStatus:1,registrationTime:Date.now()},B=function He(D,A){return mn.apply(this,arguments)}(D,N);return{installationEntry:N,registrationPromise:B}}return 1===A.registrationStatus?{installationEntry:A,registrationPromise:Ir(D)}:{installationEntry:A}}function mn(){return(mn=(0,L.Z)(function*(D,A){try{const N=yield ue(D,A);return Ke(D.appConfig,N)}catch(N){throw rt(N)&&409===N.customData.serverCode?yield di(D.appConfig):yield Ke(D.appConfig,{fid:A.fid,registrationStatus:0}),N}})).apply(this,arguments)}function Ir(D){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,L.Z)(function*(D){let A=yield jr(D.appConfig);for(;1===A.registrationStatus;)yield Be(100),A=yield jr(D.appConfig);if(0===A.registrationStatus){const{installationEntry:N,registrationPromise:B}=yield Bn(D);return B||N}return A})).apply(this,arguments)}function jr(D){return ei(D,A=>{if(!A)throw Pe.create("installation-not-found");return Pt(A)})}function Pt(D){return function Fr(D){return 1===D.registrationStatus&&D.registrationTime+1e4<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function fn(D,A){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,L.Z)(function*({appConfig:D,heartbeatServiceProvider:A},N){const B=pn(D,N),te=j(D,N),me=A.getImmediate({optional:!0});if(me){const Nt=yield me.getHeartbeatsHeader();Nt&&te.append("x-firebase-client",Nt)}const $e={method:"POST",headers:te,body:JSON.stringify({installation:{sdkVersion:Y,appId:D.appId}})},ct=yield ee(()=>fetch(B,$e));if(ct.ok)return Ee(yield ct.json());throw yield Te("Generate Auth Token",ct)})).apply(this,arguments)}function pn(D,{fid:A}){return`${De(D)}/${A}/authTokens:generate`}function rr(D){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,L.Z)(function*(D,A=!1){let N;const B=yield ei(D.appConfig,me=>{if(!$t(me))throw Pe.create("not-registered");const Ne=me.authToken;if(!A&&Z(Ne))return me;if(1===Ne.requestStatus)return N=st(D,A),me;{if(!navigator.onLine)throw Pe.create("app-offline");const $e=J(me);return N=It(D,$e),$e}});return N?yield N:B.authToken})).apply(this,arguments)}function st(D,A){return Re.apply(this,arguments)}function Re(){return(Re=(0,L.Z)(function*(D,A){let N=yield ot(D.appConfig);for(;1===N.authToken.requestStatus;)yield Be(100),N=yield ot(D.appConfig);const B=N.authToken;return 0===B.requestStatus?rr(D,A):B})).apply(this,arguments)}function ot(D){return ei(D,A=>{if(!$t(A))throw Pe.create("not-registered");return function xe(D){return 1===D.requestStatus&&D.requestTime+1e4<Date.now()}(A.authToken)?Object.assign(Object.assign({},A),{authToken:{requestStatus:0}}):A})}function It(D,A){return At.apply(this,arguments)}function At(){return(At=(0,L.Z)(function*(D,A){try{const N=yield fn(D,A),B=Object.assign(Object.assign({},A),{authToken:N});return yield Ke(D.appConfig,B),N}catch(N){if(!rt(N)||401!==N.customData.serverCode&&404!==N.customData.serverCode){const B=Object.assign(Object.assign({},A),{authToken:{requestStatus:0}});yield Ke(D.appConfig,B)}else yield di(D.appConfig);throw N}})).apply(this,arguments)}function $t(D){return void 0!==D&&2===D.registrationStatus}function Z(D){return 2===D.requestStatus&&!function z(D){const A=Date.now();return A<D.creationTime||D.creationTime+D.expiresIn<A+36e5}(D)}function J(D){const A={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:A})}function Xe(){return(Xe=(0,L.Z)(function*(D){const A=D,{installationEntry:N,registrationPromise:B}=yield Bn(A);return B?B.catch(console.error):rr(A).catch(console.error),N.fid})).apply(this,arguments)}function ln(){return(ln=(0,L.Z)(function*(D,A=!1){const N=D;return yield En(N),(yield rr(N,A)).token})).apply(this,arguments)}function En(D){return an.apply(this,arguments)}function an(){return(an=(0,L.Z)(function*(D){const{registrationPromise:A}=yield Bn(D);A&&(yield A)})).apply(this,arguments)}function Hn(D){return Pe.create("missing-app-config-values",{valueName:D})}const Ks="installations",kn=D=>{const A=D.getProvider("app").getImmediate(),N=function wn(D){if(!D||!D.options)throw Hn("App Configuration");if(!D.name)throw Hn("App Name");const A=["projectId","apiKey","appId"];for(const N of A)if(!D.options[N])throw Hn(N);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(A);return{app:A,appConfig:N,heartbeatServiceProvider:(0,ae._getProvider)(A,"heartbeat"),_delete:()=>Promise.resolve()}},ds=D=>{const A=D.getProvider("app").getImmediate(),N=(0,ae._getProvider)(A,Ks).getImmediate();return{getId:()=>function oe(D){return Xe.apply(this,arguments)}(N),getToken:te=>function vt(D){return ln.apply(this,arguments)}(N,te)}};(function sa(){(0,ae._registerComponent)(new ne.wA(Ks,kn,"PUBLIC")),(0,ae._registerComponent)(new ne.wA("installations-internal",ds,"PRIVATE"))})(),(0,ae.registerVersion)(ce,H),(0,ae.registerVersion)(ce,H,"esm2017");const Di="@firebase/remote-config",Xn=new de.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ec{constructor(A,N,B,te){this.client=A,this.storage=N,this.storageCache=B,this.logger=te}isCachedDataFresh(A,N){if(!N)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const B=Date.now()-N,te=B<=A;return this.logger.debug(`Config fetch cache check. Cache age millis: ${B}. Cache max age millis (minimumFetchIntervalMillis setting): ${A}. Is cache hit: ${te}.`),te}fetch(A){var N=this;return(0,L.Z)(function*(){const[B,te]=yield Promise.all([N.storage.getLastSuccessfulFetchTimestampMillis(),N.storage.getLastSuccessfulFetchResponse()]);if(te&&N.isCachedDataFresh(A.cacheMaxAgeMillis,B))return te;A.eTag=te&&te.eTag;const me=yield N.client.fetch(A),Ne=[N.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===me.status&&Ne.push(N.storage.setLastSuccessfulFetchResponse(me)),yield Promise.all(Ne),me})()}}function ru(D=navigator){return D.languages&&D.languages[0]||D.language}class iu{constructor(A,N,B,te,me,Ne){this.firebaseInstallations=A,this.sdkVersion=N,this.namespace=B,this.projectId=te,this.apiKey=me,this.appId=Ne}fetch(A){var N=this;return(0,L.Z)(function*(){var B,te,me;const[Ne,$e]=yield Promise.all([N.firebaseInstallations.getId(),N.firebaseInstallations.getToken()]),Nt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${N.projectId}/namespaces/${N.namespace}:fetch?key=${N.apiKey}`,Vt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":A.eTag||"*"},bt={sdk_version:N.sdkVersion,app_instance_id:Ne,app_instance_id_token:$e,app_id:N.appId,language_code:ru()},Gn={method:"POST",headers:Vt,body:JSON.stringify(bt)},Ur=fetch(Nt,Gn),Ra=new Promise((Oa,zo)=>{A.signal.addEventListener(()=>{const is=new Error("The operation was aborted.");is.name="AbortError",zo(is)})});let po;try{yield Promise.race([Ur,Ra]),po=yield Ur}catch(Oa){let zo="fetch-client-network";throw"AbortError"===(null===(B=Oa)||void 0===B?void 0:B.name)&&(zo="fetch-timeout"),Xn.create(zo,{originalErrorMessage:null===(te=Oa)||void 0===te?void 0:te.message})}let Ut=po.status;const _s=po.headers.get("ETag")||void 0;let go,Ri;if(200===po.status){let Oa;try{Oa=yield po.json()}catch(zo){throw Xn.create("fetch-client-parse",{originalErrorMessage:null===(me=zo)||void 0===me?void 0:me.message})}go=Oa.entries,Ri=Oa.state}if("INSTANCE_STATE_UNSPECIFIED"===Ri?Ut=500:"NO_CHANGE"===Ri?Ut=304:("NO_TEMPLATE"===Ri||"EMPTY_CONFIG"===Ri)&&(go={}),304!==Ut&&200!==Ut)throw Xn.create("fetch-status",{httpStatus:Ut});return{status:Ut,eTag:_s,config:go}})()}}class nd{constructor(A,N){this.client=A,this.storage=N}fetch(A){var N=this;return(0,L.Z)(function*(){const B=(yield N.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return N.attemptFetch(A,B)})()}attemptFetch(A,{throttleEndTimeMillis:N,backoffCount:B}){var te=this;return(0,L.Z)(function*(){yield function or(D,A){return new Promise((N,B)=>{const te=Math.max(A-Date.now(),0),me=setTimeout(N,te);D.addEventListener(()=>{clearTimeout(me),B(Xn.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}(A.signal,N);try{const me=yield te.client.fetch(A);return yield te.storage.deleteThrottleMetadata(),me}catch(me){if(!function nl(D){if(!(D instanceof de.ZR&&D.customData))return!1;const A=Number(D.customData.httpStatus);return 429===A||500===A||503===A||504===A}(me))throw me;const Ne={throttleEndTimeMillis:Date.now()+(0,de.$s)(B),backoffCount:B+1};return yield te.storage.setThrottleMetadata(Ne),te.attemptFetch(A,Ne)}})()}}class Ys{constructor(A,N,B,te,me){this.app=A,this._client=N,this._storageCache=B,this._storage=te,this._logger=me,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function su(D,A){var N;const B=D.target.error||void 0;return Xn.create(A,{originalErrorMessage:B&&(null===(N=B)||void 0===N?void 0:N.message)})}const fs="app_namespace_store";class od{constructor(A,N,B,te=function sd(){return new Promise((D,A)=>{var N;try{const B=indexedDB.open("firebase_remote_config",1);B.onerror=te=>{A(su(te,"storage-open"))},B.onsuccess=te=>{D(te.target.result)},B.onupgradeneeded=te=>{0===te.oldVersion&&te.target.result.createObjectStore(fs,{keyPath:"compositeKey"})}}catch(B){A(Xn.create("storage-open",{originalErrorMessage:null===(N=B)||void 0===N?void 0:N.message}))}})}()){this.appId=A,this.appName=N,this.namespace=B,this.openDbPromise=te}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(A){return this.set("last_fetch_status",A)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(A){return this.set("last_successful_fetch_timestamp_millis",A)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(A){return this.set("last_successful_fetch_response",A)}getActiveConfig(){return this.get("active_config")}setActiveConfig(A){return this.set("active_config",A)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(A){return this.set("active_config_etag",A)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(A){return this.set("throttle_metadata",A)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(A){var N=this;return(0,L.Z)(function*(){const B=yield N.openDbPromise;return new Promise((te,me)=>{var Ne;const ct=B.transaction([fs],"readonly").objectStore(fs),Nt=N.createCompositeKey(A);try{const Vt=ct.get(Nt);Vt.onerror=bt=>{me(su(bt,"storage-get"))},Vt.onsuccess=bt=>{const Gn=bt.target.result;te(Gn?Gn.value:void 0)}}catch(Vt){me(Xn.create("storage-get",{originalErrorMessage:null===(Ne=Vt)||void 0===Ne?void 0:Ne.message}))}})})()}set(A,N){var B=this;return(0,L.Z)(function*(){const te=yield B.openDbPromise;return new Promise((me,Ne)=>{var $e;const Nt=te.transaction([fs],"readwrite").objectStore(fs),Vt=B.createCompositeKey(A);try{const bt=Nt.put({compositeKey:Vt,value:N});bt.onerror=Gn=>{Ne(su(Gn,"storage-set"))},bt.onsuccess=()=>{me()}}catch(bt){Ne(Xn.create("storage-set",{originalErrorMessage:null===($e=bt)||void 0===$e?void 0:$e.message}))}})})()}delete(A){var N=this;return(0,L.Z)(function*(){const B=yield N.openDbPromise;return new Promise((te,me)=>{var Ne;const ct=B.transaction([fs],"readwrite").objectStore(fs),Nt=N.createCompositeKey(A);try{const Vt=ct.delete(Nt);Vt.onerror=bt=>{me(su(bt,"storage-delete"))},Vt.onsuccess=()=>{te()}}catch(Vt){me(Xn.create("storage-delete",{originalErrorMessage:null===(Ne=Vt)||void 0===Ne?void 0:Ne.message}))}})})()}createCompositeKey(A){return[this.appId,this.appName,this.namespace,A].join()}}class il{constructor(A){this.storage=A}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var A=this;return(0,L.Z)(function*(){const N=A.storage.getLastFetchStatus(),B=A.storage.getLastSuccessfulFetchTimestampMillis(),te=A.storage.getActiveConfig(),me=yield N;me&&(A.lastFetchStatus=me);const Ne=yield B;Ne&&(A.lastSuccessfulFetchTimestampMillis=Ne);const $e=yield te;$e&&(A.activeConfig=$e)})()}setLastFetchStatus(A){return this.lastFetchStatus=A,this.storage.setLastFetchStatus(A)}setLastSuccessfulFetchTimestampMillis(A){return this.lastSuccessfulFetchTimestampMillis=A,this.storage.setLastSuccessfulFetchTimestampMillis(A)}setActiveConfig(A){return this.activeConfig=A,this.storage.setActiveConfig(A)}}function ua(){return la.apply(this,arguments)}function la(){return(la=(0,L.Z)(function*(){if(!(0,de.hl)())return!1;try{return yield(0,de.eu)()}catch{return!1}})).apply(this,arguments)}!function ps(){(0,ae._registerComponent)(new ne.wA("remote-config",function D(A,{instanceIdentifier:N}){const B=A.getProvider("app").getImmediate(),te=A.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Xn.create("registration-window");if(!(0,de.hl)())throw Xn.create("indexed-db-unavailable");const{projectId:me,apiKey:Ne,appId:$e}=B.options;if(!me)throw Xn.create("registration-project-id");if(!Ne)throw Xn.create("registration-api-key");if(!$e)throw Xn.create("registration-app-id");const ct=new od($e,B.name,N=N||"firebase"),Nt=new il(ct),Vt=new se.Yd(Di);Vt.logLevel=se.in.ERROR;const bt=new iu(te,ae.SDK_VERSION,N,me,Ne,$e),Gn=new nd(bt,ct),Ur=new ec(Gn,ct,Nt,Vt),Ra=new Ys(B,Ur,Nt,ct,Vt);return function ir(D){const A=(0,de.m9)(D);A._initializePromise||(A._initializePromise=A._storageCache.loadFromStorage().then(()=>{A._isInitializationComplete=!0}))}(Ra),Ra},"PUBLIC").setMultipleInstances(!0)),(0,ae.registerVersion)(Di,"0.3.14"),(0,ae.registerVersion)(Di,"0.3.14","esm2017")}();const Si="/firebase-messaging-sw.js",Wi="/firebase-cloud-messaging-push-scope",Zi="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",xo="google.c.a.c_id",ca="google.c.a.c_l",au="google.c.a.ts",ol="google.c.a.e";var xi=(()=>{return(D=xi||(xi={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",xi;var D})();function ti(D){const A=new Uint8Array(D);return btoa(String.fromCharCode(...A)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function $r(D){const N=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),B=atob(N),te=new Uint8Array(B.length);for(let me=0;me<B.length;++me)te[me]=B.charCodeAt(me);return te}const Qs="fcm_token_details_db",Cr="fcm_token_object_Store";function tc(D){return nc.apply(this,arguments)}function nc(){return nc=(0,L.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(me=>me.name).includes(Qs))return null;let A=null;return(yield(0,re.X3)(Qs,5,{upgrade:(B=(0,L.Z)(function*(te,me,Ne,$e){var ct;if(me<2||!te.objectStoreNames.contains(Cr))return;const Nt=$e.objectStore(Cr),Vt=yield Nt.index("fcmSenderId").get(D);if(yield Nt.clear(),Vt)if(2===me){const bt=Vt;if(!bt.auth||!bt.p256dh||!bt.endpoint)return;A={token:bt.fcmToken,createTime:null!==(ct=bt.createTime)&&void 0!==ct?ct:Date.now(),subscriptionOptions:{auth:bt.auth,p256dh:bt.p256dh,endpoint:bt.endpoint,swScope:bt.swScope,vapidKey:"string"==typeof bt.vapidKey?bt.vapidKey:ti(bt.vapidKey)}}}else if(3===me){const bt=Vt;A={token:bt.fcmToken,createTime:bt.createTime,subscriptionOptions:{auth:ti(bt.auth),p256dh:ti(bt.p256dh),endpoint:bt.endpoint,swScope:bt.swScope,vapidKey:ti(bt.vapidKey)}}}else if(4===me){const bt=Vt;A={token:bt.fcmToken,createTime:bt.createTime,subscriptionOptions:{auth:ti(bt.auth),p256dh:ti(bt.p256dh),endpoint:bt.endpoint,swScope:bt.swScope,vapidKey:ti(bt.vapidKey)}}}}),function(me,Ne,$e,ct){return B.apply(this,arguments)})})).close(),yield(0,re.Lj)(Qs),yield(0,re.Lj)("fcm_vapid_details_db"),yield(0,re.Lj)("undefined"),In(A)?A:null;var B}),nc.apply(this,arguments)}function In(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:A}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof A.auth&&A.auth.length>0&&"string"==typeof A.p256dh&&A.p256dh.length>0&&"string"==typeof A.endpoint&&A.endpoint.length>0&&"string"==typeof A.swScope&&A.swScope.length>0&&"string"==typeof A.vapidKey&&A.vapidKey.length>0}const ni="firebase-messaging-store";let Nr=null;function Mo(){return Nr||(Nr=(0,re.X3)("firebase-messaging-database",1,{upgrade:(D,A)=>{0===A&&D.createObjectStore(ni)}})),Nr}function Ki(D){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,L.Z)(function*(D){const A=gi(D),B=yield(yield Mo()).transaction(ni).objectStore(ni).get(A);if(B)return B;{const te=yield tc(D.appConfig.senderId);if(te)return yield un(D,te),te}})).apply(this,arguments)}function un(D,A){return ha.apply(this,arguments)}function ha(){return(ha=(0,L.Z)(function*(D,A){const N=gi(D),te=(yield Mo()).transaction(ni,"readwrite");return yield te.objectStore(ni).put(A,N),yield te.done,A})).apply(this,arguments)}function As(D){return fa.apply(this,arguments)}function fa(){return(fa=(0,L.Z)(function*(D){const A=gi(D),B=(yield Mo()).transaction(ni,"readwrite");yield B.objectStore(ni).delete(A),yield B.done})).apply(this,arguments)}function gi({appConfig:D}){return D.appId}const Fn=new de.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function kt(D,A){return Js.apply(this,arguments)}function Js(){return(Js=(0,L.Z)(function*(D,A){var N;const B=yield lu(D),te=Oe(A),me={method:"POST",headers:B,body:JSON.stringify(te)};let Ne;try{Ne=yield(yield fetch(Ji(D.appConfig),me)).json()}catch($e){throw Fn.create("token-subscribe-failed",{errorInfo:null===(N=$e)||void 0===N?void 0:N.toString()})}if(Ne.error)throw Fn.create("token-subscribe-failed",{errorInfo:Ne.error.message});if(!Ne.token)throw Fn.create("token-subscribe-no-token");return Ne.token})).apply(this,arguments)}function ul(D,A){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,L.Z)(function*(D,A){var N;const B=yield lu(D),te=Oe(A.subscriptionOptions),me={method:"PATCH",headers:B,body:JSON.stringify(te)};let Ne;try{Ne=yield(yield fetch(`${Ji(D.appConfig)}/${A.token}`,me)).json()}catch($e){throw Fn.create("token-update-failed",{errorInfo:null===(N=$e)||void 0===N?void 0:N.toString()})}if(Ne.error)throw Fn.create("token-update-failed",{errorInfo:Ne.error.message});if(!Ne.token)throw Fn.create("token-update-no-token");return Ne.token})).apply(this,arguments)}function ga(D,A){return uu.apply(this,arguments)}function uu(){return(uu=(0,L.Z)(function*(D,A){var N;const te={method:"DELETE",headers:yield lu(D)};try{const Ne=yield(yield fetch(`${Ji(D.appConfig)}/${A}`,te)).json();if(Ne.error)throw Fn.create("token-unsubscribe-failed",{errorInfo:Ne.error.message})}catch(me){throw Fn.create("token-unsubscribe-failed",{errorInfo:null===(N=me)||void 0===N?void 0:N.toString()})}})).apply(this,arguments)}function Ji({projectId:D}){return`https://fcmregistrations.googleapis.com/v1/projects/${D}/registrations`}function lu(D){return ko.apply(this,arguments)}function ko(){return(ko=(0,L.Z)(function*({appConfig:D,installations:A}){const N=yield A.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${N}`})})).apply(this,arguments)}function Oe({p256dh:D,auth:A,endpoint:N,vapidKey:B}){const te={web:{endpoint:N,auth:A,p256dh:D}};return B!==Zi&&(te.web.applicationPubKey=B),te}const sn=6048e5;function cu(D){return du.apply(this,arguments)}function du(){return(du=(0,L.Z)(function*(D){const A=yield hu(D.swRegistration,D.vapidKey),N={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:A.endpoint,auth:ti(A.getKey("auth")),p256dh:ti(A.getKey("p256dh"))},B=yield Ki(D.firebaseDependencies);if(B){if(fu(B.subscriptionOptions,N))return Date.now()>=B.createTime+sn?Xs(D,{token:B.token,createTime:Date.now(),subscriptionOptions:N}):B.token;try{yield ga(D.firebaseDependencies,B.token)}catch(te){console.warn(te)}return Ro(D.firebaseDependencies,N)}return Ro(D.firebaseDependencies,N)})).apply(this,arguments)}function Nn(D){return No.apply(this,arguments)}function No(){return(No=(0,L.Z)(function*(D){const A=yield Ki(D.firebaseDependencies);A&&(yield ga(D.firebaseDependencies,A.token),yield As(D.firebaseDependencies));const N=yield D.swRegistration.pushManager.getSubscription();return!N||N.unsubscribe()})).apply(this,arguments)}function Xs(D,A){return ri.apply(this,arguments)}function ri(){return(ri=(0,L.Z)(function*(D,A){try{const N=yield ul(D.firebaseDependencies,A),B=Object.assign(Object.assign({},A),{token:N,createTime:Date.now()});return yield un(D.firebaseDependencies,B),N}catch(N){throw yield Nn(D),N}})).apply(this,arguments)}function Ro(D,A){return eo.apply(this,arguments)}function eo(){return(eo=(0,L.Z)(function*(D,A){const B={token:yield kt(D,A),createTime:Date.now(),subscriptionOptions:A};return yield un(D,B),B.token})).apply(this,arguments)}function hu(D,A){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,L.Z)(function*(D,A){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:$r(A)})})).apply(this,arguments)}function fu(D,A){return A.vapidKey===D.vapidKey&&A.endpoint===D.endpoint&&A.auth===D.auth&&A.p256dh===D.p256dh}function to(D){const A={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function Rn(D,A){if(!A.notification)return;D.notification={};const N=A.notification.title;N&&(D.notification.title=N);const B=A.notification.body;B&&(D.notification.body=B);const te=A.notification.image;te&&(D.notification.image=te)}(A,D),function Mi(D,A){!A.data||(D.data=A.data)}(A,D),function pu(D,A){var N,B,te,me,Ne;if(!(A.fcmOptions||null!==(N=A.notification)&&void 0!==N&&N.click_action))return;D.fcmOptions={};const $e=null!==(te=null===(B=A.fcmOptions)||void 0===B?void 0:B.link)&&void 0!==te?te:null===(me=A.notification)||void 0===me?void 0:me.click_action;$e&&(D.fcmOptions.link=$e);const ct=null===(Ne=A.fcmOptions)||void 0===Ne?void 0:Ne.analytics_label;ct&&(D.fcmOptions.analyticsLabel=ct)}(A,D),A}function Ss(D){return"object"==typeof D&&!!D&&xo in D}function ii(D,A){const N=[];for(let B=0;B<D.length;B++)N.push(D.charAt(B)),B<A.length&&N.push(A.charAt(B));return N.join("")}function Po(D){return Fn.create("missing-app-config-values",{valueName:D})}ii("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ii("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ud{constructor(A,N,B){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const te=function ad(D){if(!D||!D.options)throw Po("App Configuration Object");if(!D.name)throw Po("App Name");const A=["projectId","apiKey","appId","messagingSenderId"],{options:N}=D;for(const B of A)if(!N[B])throw Po(B);return{appName:D.name,projectId:N.projectId,apiKey:N.apiKey,appId:N.appId,senderId:N.messagingSenderId}}(A);this.firebaseDependencies={app:A,appConfig:te,installations:N,analyticsProvider:B}}_delete(){return Promise.resolve()}}function gu(D){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,L.Z)(function*(D){var A;try{D.swRegistration=yield navigator.serviceWorker.register(Si,{scope:Wi}),D.swRegistration.update().catch(()=>{})}catch(N){throw Fn.create("failed-service-worker-registration",{browserErrorMessage:null===(A=N)||void 0===A?void 0:A.message})}})).apply(this,arguments)}function Lo(D,A){return mu.apply(this,arguments)}function mu(){return(mu=(0,L.Z)(function*(D,A){if(!A&&!D.swRegistration&&(yield gu(D)),A||!D.swRegistration){if(!(A instanceof ServiceWorkerRegistration))throw Fn.create("invalid-sw-registration");D.swRegistration=A}})).apply(this,arguments)}function Vo(D,A){return yu.apply(this,arguments)}function yu(){return(yu=(0,L.Z)(function*(D,A){A?D.vapidKey=A:D.vapidKey||(D.vapidKey=Zi)})).apply(this,arguments)}function Bo(){return(Bo=(0,L.Z)(function*(D,A){if(!navigator)throw Fn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Fn.create("permission-blocked");return yield Vo(D,A?.vapidKey),yield Lo(D,A?.serviceWorkerRegistration),cu(D)})).apply(this,arguments)}function vu(D,A,N){return _u.apply(this,arguments)}function _u(){return(_u=(0,L.Z)(function*(D,A,N){const B=wu(A);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(B,{message_id:N[xo],message_name:N[ca],message_time:N[au],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function wu(D){switch(D){case xi.NOTIFICATION_CLICKED:return"notification_open";case xi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Xi(){return(Xi=(0,L.Z)(function*(D,A){const N=A.data;if(!N.isFirebaseMessaging)return;D.onMessageHandler&&N.messageType===xi.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(to(N)):D.onMessageHandler.next(to(N)));const B=N.data;Ss(B)&&"1"===B[ol]&&(yield vu(D,N.messageType,B))})).apply(this,arguments)}const xs="@firebase/messaging",ar=D=>{const A=new ud(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",N=>function bu(D,A){return Xi.apply(this,arguments)}(A,N)),A},Gr=D=>{const A=D.getProvider("messaging").getImmediate();return{getToken:B=>function Uo(D,A){return Bo.apply(this,arguments)}(A,B)}};function ll(){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,L.Z)(function*(){try{yield(0,de.eu)()}catch{return!1}return typeof window<"u"&&(0,de.hl)()&&(0,de.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function An(){(0,ae._registerComponent)(new ne.wA("messaging",ar,"PUBLIC")),(0,ae._registerComponent)(new ne.wA("messaging-internal",Gr,"PRIVATE")),(0,ae.registerVersion)(xs,"0.9.19"),(0,ae.registerVersion)(xs,"0.9.19","esm2017")}();const ks="analytics",dl="firebase_id",Ns="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",_a="https://www.googletagmanager.com/gtag/js",Ln=new se.Yd("@firebase/analytics");function wa(D){return Promise.all(D.map(A=>A.catch(N=>N)))}function ba(D,A){const N=document.createElement("script");N.src=`${_a}?l=${D}&id=${A}`,N.async=!0,document.head.appendChild(N)}function ki(D,A,N,B,te,me){return mi.apply(this,arguments)}function mi(){return(mi=(0,L.Z)(function*(D,A,N,B,te,me){const Ne=B[te];try{if(Ne)yield A[Ne];else{const ct=(yield wa(N)).find(Nt=>Nt.measurementId===te);ct&&(yield A[ct.appId])}}catch($e){Ln.error($e)}D("config",te,me)})).apply(this,arguments)}function ro(D,A,N,B,te){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,L.Z)(function*(D,A,N,B,te){try{let me=[];if(te&&te.send_to){let Ne=te.send_to;Array.isArray(Ne)||(Ne=[Ne]);const $e=yield wa(N);for(const ct of Ne){const Nt=$e.find(bt=>bt.measurementId===ct),Vt=Nt&&A[Nt.appId];if(!Vt){me=[];break}me.push(Vt)}}0===me.length&&(me=Object.values(A)),yield Promise.all(me),D("event",B,te||{})}catch(me){Ln.error(me)}})).apply(this,arguments)}function fl(D){const A=window.document.getElementsByTagName("script");for(const N of Object.values(A))if(N.src&&N.src.includes(_a)&&N.src.includes(D))return N;return null}const gr=new de.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),k=new class I{constructor(A={},N=1e3){this.throttleMetadata=A,this.intervalMillis=N}getThrottleMetadata(A){return this.throttleMetadata[A]}setThrottleMetadata(A,N){this.throttleMetadata[A]=N}deleteThrottleMetadata(A){delete this.throttleMetadata[A]}};function $(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function Ce(D){return it.apply(this,arguments)}function it(){return(it=(0,L.Z)(function*(D){var A;const{appId:N,apiKey:B}=D,te={method:"GET",headers:$(B)},me=Ns.replace("{app-id}",N),Ne=yield fetch(me,te);if(200!==Ne.status&&304!==Ne.status){let $e="";try{const ct=yield Ne.json();null!==(A=ct.error)&&void 0!==A&&A.message&&($e=ct.error.message)}catch{}throw gr.create("config-fetch-failed",{httpStatus:Ne.status,responseMessage:$e})}return Ne.json()})).apply(this,arguments)}function zt(D){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,L.Z)(function*(D,A=k,N){const{appId:B,apiKey:te,measurementId:me}=D.options;if(!B)throw gr.create("no-app-id");if(!te){if(me)return{measurementId:me,appId:B};throw gr.create("no-api-key")}const Ne=A.getThrottleMetadata(B)||{backoffCount:0,throttleEndTimeMillis:Date.now()},$e=new ml;return setTimeout((0,L.Z)(function*(){$e.abort()}),void 0!==N?N:6e4),ur({appId:B,apiKey:te,measurementId:me},Ne,$e,A)})).apply(this,arguments)}function ur(D,A,N){return si.apply(this,arguments)}function si(){return(si=(0,L.Z)(function*(D,{throttleEndTimeMillis:A,backoffCount:N},B,te=k){var me,Ne;const{appId:$e,measurementId:ct}=D;try{yield Os(B,A)}catch(Nt){if(ct)return Ln.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ct} provided in the "measurementId" field in the local Firebase config. [${null===(me=Nt)||void 0===me?void 0:me.message}]`),{appId:$e,measurementId:ct};throw Nt}try{const Nt=yield Ce(D);return te.deleteThrottleMetadata($e),Nt}catch(Nt){const Vt=Nt;if(!gl(Vt)){if(te.deleteThrottleMetadata($e),ct)return Ln.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ct} provided in the "measurementId" field in the local Firebase config. [${Vt?.message}]`),{appId:$e,measurementId:ct};throw Nt}const bt=503===Number(null===(Ne=Vt?.customData)||void 0===Ne?void 0:Ne.httpStatus)?(0,de.$s)(N,te.intervalMillis,30):(0,de.$s)(N,te.intervalMillis),Gn={throttleEndTimeMillis:Date.now()+bt,backoffCount:N+1};return te.setThrottleMetadata($e,Gn),Ln.debug(`Calling attemptFetch again in ${bt} millis`),ur(D,Gn,B,te)}})).apply(this,arguments)}function Os(D,A){return new Promise((N,B)=>{const te=Math.max(A-Date.now(),0),me=setTimeout(N,te);D.addEventListener(()=>{clearTimeout(me),B(gr.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}function gl(D){if(!(D instanceof de.ZR&&D.customData))return!1;const A=Number(D.customData.httpStatus);return 429===A||500===A||503===A||504===A}class ml{constructor(){this.listeners=[]}addEventListener(A){this.listeners.push(A)}abort(){this.listeners.forEach(A=>A())}}let io,Du;function so(){return(so=(0,L.Z)(function*(D,A,N,B,te){if(te&&te.global)D("event",N,B);else{const me=yield A;D("event",N,Object.assign(Object.assign({},B),{send_to:me}))}})).apply(this,arguments)}function $o(D){Du=D}function ac(D){io=D}function Fs(){return vl.apply(this,arguments)}function vl(){return(vl=(0,L.Z)(function*(){var D;if(!(0,de.hl)())return Ln.warn(gr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,de.eu)()}catch(A){return Ln.warn(gr.create("indexeddb-unavailable",{errorInfo:null===(D=A)||void 0===D?void 0:D.toString()}).message),!1}return!0})).apply(this,arguments)}function Da(){return(Da=(0,L.Z)(function*(D,A,N,B,te,me,Ne){var $e;const ct=zt(D);ct.then(Ur=>{N[Ur.measurementId]=Ur.appId,D.options.measurementId&&Ur.measurementId!==D.options.measurementId&&Ln.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${Ur.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ur=>Ln.error(Ur)),A.push(ct);const Nt=Fs().then(Ur=>{if(Ur)return B.getId()}),[Vt,bt]=yield Promise.all([ct,Nt]);fl(me)||ba(me,Vt.measurementId),Du&&(te("consent","default",Du),$o(void 0)),te("js",new Date);const Gn=null!==($e=Ne?.config)&&void 0!==$e?$e:{};return Gn.origin="firebase",Gn.update=!0,null!=bt&&(Gn[dl]=bt),te("config",Vt.measurementId,Gn),io&&(te("set",io),ac(void 0)),Vt.measurementId})).apply(this,arguments)}class _l{constructor(A){this.app=A}_delete(){return delete yi[this.app.options.appId],Promise.resolve()}}let yi={},oo=[];const Ta={};let Sa,Go,Aa="dataLayer",Tu=!1;function Xm(D,A,N){!function _p(){const D=[];if((0,de.ru)()&&D.push("This is a browser extension environment."),(0,de.zI)()||D.push("Cookies are not available."),D.length>0){const A=D.map((B,te)=>`(${te+1}) ${B}`).join(" "),N=gr.create("invalid-analytics-context",{errorInfo:A});Ln.warn(N.message)}}();const B=D.options.appId;if(!B)throw gr.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw gr.create("no-api-key");Ln.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=yi[B])throw gr.create("already-exists",{id:B});if(!Tu){!function hl(D){let A=[];Array.isArray(window[D])?A=window[D]:window[D]=A}(Aa);const{wrappedGtag:me,gtagCore:Ne}=function jo(D,A,N,B,te){let me=function(...Ne){window[B].push(arguments)};return window[te]&&"function"==typeof window[te]&&(me=window[te]),window[te]=function Ea(D,A,N,B){function me(){return(me=(0,L.Z)(function*(Ne,$e,ct){try{"event"===Ne?yield ro(D,A,N,$e,ct):"config"===Ne?yield ki(D,A,N,B,$e,ct):"consent"===Ne?D("consent","update",ct):D("set",$e)}catch(Nt){Ln.error(Nt)}})).apply(this,arguments)}return function te(Ne,$e,ct){return me.apply(this,arguments)}}(me,D,A,N),{gtagCore:me,wrappedGtag:window[te]}}(yi,oo,Ta,Aa,"gtag");Go=me,Sa=Ne,Tu=!0}return yi[B]=function Ca(D,A,N,B,te,me,Ne){return Da.apply(this,arguments)}(D,oo,Ta,A,Sa,Aa,N),new _l(D)}function ty(){return kh.apply(this,arguments)}function kh(){return(kh=(0,L.Z)(function*(){if((0,de.ru)()||!(0,de.zI)()||!(0,de.hl)())return!1;try{return yield(0,de.eu)()}catch{return!1}})).apply(this,arguments)}const mt="@firebase/analytics";!function $n(){(0,ae._registerComponent)(new ne.wA(ks,(A,{options:N})=>Xm(A.getProvider("app").getImmediate(),A.getProvider("installations-internal").getImmediate(),N),"PUBLIC")),(0,ae._registerComponent)(new ne.wA("analytics-internal",function D(A){try{const N=A.getProvider(ks).getImmediate();return{logEvent:(B,te,me)=>function Sn(D,A,N,B){D=(0,de.m9)(D),function ld(D,A,N,B,te){return so.apply(this,arguments)}(Go,yi[D.app.options.appId],A,N,B).catch(te=>Ln.error(te))}(N,B,te,me)}}catch(N){throw gr.create("interop-component-reg-failed",{reason:N})}},"PRIVATE")),(0,ae.registerVersion)(mt,"0.8.3"),(0,ae.registerVersion)(mt,"0.8.3","esm2017")}();var ns=V(4408),zr=V(7565);const bl=new class ao extends zr.v{}(class Au extends ns.o{constructor(A,N){super(A,N),this.scheduler=A,this.work=N}schedule(A,N=0){return N>0?super.schedule(A,N):(this.delay=N,this.state=A,this.scheduler.flush(this),this)}execute(A,N){return N>0||this.closed?super.execute(A,N):this._execute(A,N)}requestAsyncId(A,N,B=0){return null!=B&&B>0||null==B&&this.delay>0?super.requestAsyncId(A,N,B):(A.flush(this),0)}});var lc=V(4986),Su=V(8505),xa=V(9468),uo=V(5363);const ut=new h.GfV("7.4.1"),xu="__angularfire_symbol__analyticsIsSupportedValue",lo="__angularfire_symbol__analyticsIsSupported",Mu="__angularfire_symbol__remoteConfigIsSupportedValue",Ma="__angularfire_symbol__remoteConfigIsSupported",Dr="__angularfire_symbol__messagingIsSupportedValue",cc="__angularfire_symbol__messagingIsSupported";function ku(D,A,N){if(A){if(1===A.length)return A[0];const me=A.filter(Ne=>Ne.app===N);if(1===me.length)return me[0]}return N.container.getProvider(D).getImmediate({optional:!0})}globalThis[lo]||(globalThis[lo]=ty().then(D=>globalThis[xu]=D).catch(()=>globalThis[xu]=!1)),globalThis[cc]||(globalThis[cc]=ll().then(D=>globalThis[Dr]=D).catch(()=>globalThis[Dr]=!1)),globalThis[Ma]||(globalThis[Ma]=ua().then(D=>globalThis[Mu]=D).catch(()=>globalThis[Mu]=!1));const co=(D,A)=>{const N=A?[A]:(0,F.C6)(),B=[];return N.forEach(te=>{te.container.getProvider(D).instances.forEach(Ne=>{B.includes(Ne)||B.push(Ne)})}),B};function ho(){}class rs{constructor(A,N=bl){this.zone=A,this.delegate=N}now(){return this.delegate.now()}schedule(A,N,B){const te=this.zone;return this.delegate.schedule(function(Ne){te.runGuarded(()=>{A.apply(this,[Ne])})},N,B)}}class hc{constructor(A){this.zone=A,this.task=null}call(A,N){const B=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ho,{},ho,ho)),N.pipe((0,Su.b)({next:B,complete:B,error:B})).subscribe(A).add(B)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Na=(()=>{class D{constructor(N){this.ngZone=N,this.outsideAngular=N.runOutsideAngular(()=>new rs(Zone.current)),this.insideAngular=N.run(()=>new rs(Zone.current,lc.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(N){return new(N||D)(h.LFG(h.R0b))},D.\u0275prov=h.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function vi(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function Vs(D){return vi(),function mr(D){return function(N){return(N=N.lift(new hc(D.ngZone))).pipe((0,xa.R)(D.outsideAngular),(0,uo.Q)(D.insideAngular))}}(vi())(D)}},2090:(ft,le,V)=>{"use strict";V.d(le,{$s:()=>ot,BH:()=>Dt,G6:()=>Te,L:()=>re,LL:()=>Ct,Pz:()=>qt,Sg:()=>We,UG:()=>Ae,US:()=>ne,ZB:()=>G,ZR:()=>Xt,aH:()=>lt,b$:()=>ge,eu:()=>ve,hl:()=>Ie,jU:()=>Qe,m9:()=>$t,ne:()=>jn,pd:()=>hi,r3:()=>Mn,ru:()=>we,tV:()=>ce,uI:()=>ke,vZ:()=>Ke,w1:()=>rt,xO:()=>hn,xb:()=>hr,z$:()=>Fe,zI:()=>j,zd:()=>ei});const ae=function(Z){const z=[];let J=0;for(let xe=0;xe<Z.length;xe++){let oe=Z.charCodeAt(xe);oe<128?z[J++]=oe:oe<2048?(z[J++]=oe>>6|192,z[J++]=63&oe|128):55296==(64512&oe)&&xe+1<Z.length&&56320==(64512&Z.charCodeAt(xe+1))?(oe=65536+((1023&oe)<<10)+(1023&Z.charCodeAt(++xe)),z[J++]=oe>>18|240,z[J++]=oe>>12&63|128,z[J++]=oe>>6&63|128,z[J++]=63&oe|128):(z[J++]=oe>>12|224,z[J++]=oe>>6&63|128,z[J++]=63&oe|128)}return z},ne={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Z,z){if(!Array.isArray(Z))throw Error("encodeByteArray takes an array as a parameter");this.init_();const J=z?this.byteToCharMapWebSafe_:this.byteToCharMap_,xe=[];for(let oe=0;oe<Z.length;oe+=3){const Xe=Z[oe],vt=oe+1<Z.length,ln=vt?Z[oe+1]:0,En=oe+2<Z.length,an=En?Z[oe+2]:0;let Wt=(15&ln)<<2|an>>6,fr=63&an;En||(fr=64,vt||(Wt=64)),xe.push(J[Xe>>2],J[(3&Xe)<<4|ln>>4],J[Wt],J[fr])}return xe.join("")},encodeString(Z,z){return this.HAS_NATIVE_SUPPORT&&!z?btoa(Z):this.encodeByteArray(ae(Z),z)},decodeString(Z,z){return this.HAS_NATIVE_SUPPORT&&!z?atob(Z):function(Z){const z=[];let J=0,xe=0;for(;J<Z.length;){const oe=Z[J++];if(oe<128)z[xe++]=String.fromCharCode(oe);else if(oe>191&&oe<224){const Xe=Z[J++];z[xe++]=String.fromCharCode((31&oe)<<6|63&Xe)}else if(oe>239&&oe<365){const En=((7&oe)<<18|(63&Z[J++])<<12|(63&Z[J++])<<6|63&Z[J++])-65536;z[xe++]=String.fromCharCode(55296+(En>>10)),z[xe++]=String.fromCharCode(56320+(1023&En))}else{const Xe=Z[J++],vt=Z[J++];z[xe++]=String.fromCharCode((15&oe)<<12|(63&Xe)<<6|63&vt)}}return z.join("")}(this.decodeStringToByteArray(Z,z))},decodeStringToByteArray(Z,z){this.init_();const J=z?this.charToByteMapWebSafe_:this.charToByteMap_,xe=[];for(let oe=0;oe<Z.length;){const Xe=J[Z.charAt(oe++)],ln=oe<Z.length?J[Z.charAt(oe)]:0;++oe;const an=oe<Z.length?J[Z.charAt(oe)]:64;++oe;const Je=oe<Z.length?J[Z.charAt(oe)]:64;if(++oe,null==Xe||null==ln||null==an||null==Je)throw Error();xe.push(Xe<<2|ln>>4),64!==an&&(xe.push(ln<<4&240|an>>2),64!==Je&&xe.push(an<<6&192|Je))}return xe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Z=0;Z<this.ENCODED_VALS.length;Z++)this.byteToCharMap_[Z]=this.ENCODED_VALS.charAt(Z),this.charToByteMap_[this.byteToCharMap_[Z]]=Z,this.byteToCharMapWebSafe_[Z]=this.ENCODED_VALS_WEBSAFE.charAt(Z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Z]]=Z,Z>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Z)]=Z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Z)]=Z)}}},re=function(Z){return function(Z){const z=ae(Z);return ne.encodeByteArray(z,!0)}(Z).replace(/\./g,"")},ce=function(Z){try{return ne.decodeString(Z,!0)}catch(z){console.error("base64Decode failed: ",z)}return null};function G(Z,z){if(!(z instanceof Object))return z;switch(z.constructor){case Date:return new Date(z.getTime());case Object:void 0===Z&&(Z={});break;case Array:Z=[];break;default:return z}for(const J in z)!z.hasOwnProperty(J)||!Y(J)||(Z[J]=G(Z[J],z[J]));return Z}function Y(Z){return"__proto__"!==Z}function Fe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ke(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fe())}function Ae(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Qe(){return"object"==typeof self&&self.self===self}function we(){const Z="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Z&&void 0!==Z.id}function ge(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function rt(){const Z=Fe();return Z.indexOf("MSIE ")>=0||Z.indexOf("Trident/")>=0}function Te(){return!Ae()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ie(){return"object"==typeof indexedDB}function ve(){return new Promise((Z,z)=>{try{let J=!0;const xe="validate-browser-context-for-indexeddb-analytics-module",oe=self.indexedDB.open(xe);oe.onsuccess=()=>{oe.result.close(),J||self.indexedDB.deleteDatabase(xe),Z(!0)},oe.onupgradeneeded=()=>{J=!1},oe.onerror=()=>{var Xe;z((null===(Xe=oe.error)||void 0===Xe?void 0:Xe.message)||"")}}catch(J){z(J)}})}function j(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const ue=()=>{try{return function ee(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Z=process.env.__FIREBASE_DEFAULTS__;return Z?JSON.parse(Z):void 0})()||(()=>{if(typeof document>"u")return;let Z;try{Z=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const z=Z&&ce(Z[1]);return z&&JSON.parse(z)})()}catch(Z){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Z}`)}},lt=()=>{var Z;return null===(Z=ue())||void 0===Z?void 0:Z.config},qt=Z=>{var z;return null===(z=ue())||void 0===z?void 0:z[`_${Z}`]};class Dt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((z,J)=>{this.resolve=z,this.reject=J})}wrapCallback(z){return(J,xe)=>{J?this.reject(J):this.resolve(xe),"function"==typeof z&&(this.promise.catch(()=>{}),1===z.length?z(J):z(J,xe))}}}function We(Z,z){if(Z.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const xe=z||"demo-project",oe=Z.iat||0,Xe=Z.sub||Z.user_id;if(!Xe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const vt=Object.assign({iss:`https://securetoken.google.com/${xe}`,aud:xe,iat:oe,exp:oe+3600,auth_time:oe,sub:Xe,user_id:Xe,firebase:{sign_in_provider:"custom",identities:{}}},Z);return[re(JSON.stringify({alg:"none",type:"JWT"})),re(JSON.stringify(vt)),""].join(".")}class Xt extends Error{constructor(z,J,xe){super(J),this.code=z,this.customData=xe,this.name="FirebaseError",Object.setPrototypeOf(this,Xt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ct.prototype.create)}}class Ct{constructor(z,J,xe){this.service=z,this.serviceName=J,this.errors=xe}create(z,...J){const xe=J[0]||{},oe=`${this.service}/${z}`,Xe=this.errors[z],vt=Xe?function yt(Z,z){return Z.replace(Ht,(J,xe)=>{const oe=z[xe];return null!=oe?String(oe):`<${xe}?>`})}(Xe,xe):"Error";return new Xt(oe,`${this.serviceName}: ${vt} (${oe}).`,xe)}}const Ht=/\{\$([^}]+)}/g;function Mn(Z,z){return Object.prototype.hasOwnProperty.call(Z,z)}function hr(Z){for(const z in Z)if(Object.prototype.hasOwnProperty.call(Z,z))return!1;return!0}function Ke(Z,z){if(Z===z)return!0;const J=Object.keys(Z),xe=Object.keys(z);for(const oe of J){if(!xe.includes(oe))return!1;const Xe=Z[oe],vt=z[oe];if(Er(Xe)&&Er(vt)){if(!Ke(Xe,vt))return!1}else if(Xe!==vt)return!1}for(const oe of xe)if(!J.includes(oe))return!1;return!0}function Er(Z){return null!==Z&&"object"==typeof Z}function hn(Z){const z=[];for(const[J,xe]of Object.entries(Z))Array.isArray(xe)?xe.forEach(oe=>{z.push(encodeURIComponent(J)+"="+encodeURIComponent(oe))}):z.push(encodeURIComponent(J)+"="+encodeURIComponent(xe));return z.length?"&"+z.join("&"):""}function ei(Z){const z={};return Z.replace(/^\?/,"").split("&").forEach(xe=>{if(xe){const[oe,Xe]=xe.split("=");z[decodeURIComponent(oe)]=decodeURIComponent(Xe)}}),z}function hi(Z){const z=Z.indexOf("?");if(!z)return"";const J=Z.indexOf("#",z);return Z.substring(z,J>0?J:void 0)}function jn(Z,z){const J=new Tn(Z,z);return J.subscribe.bind(J)}class Tn{constructor(z,J){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=J,this.task.then(()=>{z(this)}).catch(xe=>{this.error(xe)})}next(z){this.forEachObserver(J=>{J.next(z)})}error(z){this.forEachObserver(J=>{J.error(z)}),this.close(z)}complete(){this.forEachObserver(z=>{z.complete()}),this.close()}subscribe(z,J,xe){let oe;if(void 0===z&&void 0===J&&void 0===xe)throw new Error("Missing Observer.");oe=function He(Z,z){if("object"!=typeof Z||null===Z)return!1;for(const J of z)if(J in Z&&"function"==typeof Z[J])return!0;return!1}(z,["next","error","complete"])?z:{next:z,error:J,complete:xe},void 0===oe.next&&(oe.next=mn),void 0===oe.error&&(oe.error=mn),void 0===oe.complete&&(oe.complete=mn);const Xe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?oe.error(this.finalError):oe.complete()}catch{}}),this.observers.push(oe),Xe}unsubscribeOne(z){void 0===this.observers||void 0===this.observers[z]||(delete this.observers[z],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(z){if(!this.finalized)for(let J=0;J<this.observers.length;J++)this.sendOne(J,z)}sendOne(z,J){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[z])try{J(this.observers[z])}catch(xe){typeof console<"u"&&console.error&&console.error(xe)}})}close(z){this.finalized||(this.finalized=!0,void 0!==z&&(this.finalError=z),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mn(){}function ot(Z,z=1e3,J=2){const xe=z*Math.pow(J,Z),oe=Math.round(.5*xe*(Math.random()-.5)*2);return Math.min(144e5,xe+oe)}function $t(Z){return Z&&Z._delegate?Z._delegate:Z}},8858:(ft,le,V)=>{"use strict";var h=V(4650);let F=null;function L(){return F}const se=new h.OlP("DocumentToken");let re=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return function ce(){return(0,h.LFG)(G)}()},providedIn:"platform"}),n})();const H=new h.OlP("Location Initialized");let G=(()=>{class n extends re{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return L().getBaseHref(this._doc)}onPopState(t){const r=L().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=L().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,o){Y()?this._history.pushState(t,r,o):this.location.hash=o}replaceState(t,r,o){Y()?this._history.replaceState(t,r,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(se))},n.\u0275prov=h.Yz7({token:n,factory:function(){return function Fe(){return new G((0,h.LFG)(se))}()},providedIn:"platform"}),n})();function Y(){return!!window.history.pushState}function ke(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ae(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Qe(n){return n&&"?"!==n[0]?"?"+n:n}let we=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(Pe)},providedIn:"root"}),n})();const ge=new h.OlP("appBaseHref");let Pe=(()=>{class n extends we{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,h.f3M)(se).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ke(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Qe(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,u){const d=this.prepareExternalUrl(o+Qe(u));this._platformLocation.pushState(t,r,d)}replaceState(t,r,o,u){const d=this.prepareExternalUrl(o+Qe(u));this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(re),h.LFG(ge,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rt=(()=>{class n extends we{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=ke(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,u){let d=this.prepareExternalUrl(o+Qe(u));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(t,r,d)}replaceState(t,r,o,u){let d=this.prepareExternalUrl(o+Qe(u));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(re),h.LFG(ge,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),De=(()=>{class n{constructor(t){this._subject=new h.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=Ae(Ie(r)),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Qe(r))}normalize(t){return n.stripTrailingSlash(function Te(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Ie(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._locationStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Qe(r)),o)}replaceState(t,r="",o=null){this._locationStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Qe(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}}return n.normalizeQueryParams=Qe,n.joinWithSlash=ke,n.stripTrailingSlash=Ae,n.\u0275fac=function(t){return new(t||n)(h.LFG(we))},n.\u0275prov=h.Yz7({token:n,factory:function(){return function Ee(){return new De((0,h.LFG)(we))}()},providedIn:"root"}),n})();function Ie(n){return n.replace(/\/index.html$/,"")}function Ao(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(u)}return null}let yn=(()=>{class n{constructor(t,r,o,u){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=o,this._renderer=u,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,h.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,h.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.ZZ4),h.Y36(h.aQg),h.Y36(h.SBq),h.Y36(h.Qsj))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class So{constructor(e,t,r,o){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ti=(()=>{class n{constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((o,u,d)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new So(o.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)r.remove(null===u?void 0:u);else if(null!==u){const m=r.get(u);r.move(m,d),qi(m,o)}});for(let o=0,u=r.length;o<u;o++){const m=r.get(o).context;m.index=o,m.count=u,m.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{qi(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.s_b),h.Y36(h.Rgc),h.Y36(h.ZZ4))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function qi(n,e){n.context.$implicit=e.item}let ir=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new eu,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){sr("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){sr("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.s_b),h.Y36(h.Rgc))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class eu{constructor(){this.$implicit=null,this.ngIf=null}}function sr(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,h.AaK)(e)}'.`)}class nl{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}}class nd{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}}const Hr=new nd,rd=new nl;let Ys=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,h.QGY)(t))return Hr;if((0,h.F4k)(t))return rd;throw function or(n,e){return new h.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.sBO,16))},n.\u0275pipe=h.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})(),Ts=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();function Cr(n){return"server"===n}let da=(()=>{class n{}return n.\u0275prov=(0,h.Yz7)({token:n,providedIn:"root",factory:()=>new rc((0,h.LFG)(se),window)}),n})();class rc{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Nr(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const u=o.shadowRoot;if(u){const d=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(d)return d}o=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],o-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=ni(this.window.history)||ni(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function ni(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Ki{}class Xi extends class bu extends class ne{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function de(n){F||(F=n)}(new Xi)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function ma(){return xs=xs||document.querySelector("base"),xs?xs.getAttribute("href"):null}();return null==t?null:function Gr(n){ar=ar||document.createElement("a"),ar.setAttribute("href",n);const e=ar.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){xs=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Ao(document.cookie,e)}}let ar,xs=null;const An=new h.OlP("TRANSITION_ID"),Eu=[{provide:h.ip1,useFactory:function ll(n,e,t){return()=>{t.get(h.CZH).donePromise.then(()=>{const r=L(),o=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<o.length;u++)r.remove(o[u])})}},deps:[An,se,h.zs3],multi:!0}];let Iu=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const ya=new h.OlP("EventManagerPlugins");let cl=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>o.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}addGlobalEventListener(t,r,o){return this._findPluginFor(r).addGlobalEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const o=this._plugins;for(let u=0;u<o.length;u++){const d=o[u];if(d.supports(t))return this._eventNameToPlugin.set(t,d),d}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ya),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class va{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const o=L().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,r)}}let Ms=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),no=(()=>{class n extends Ms{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,o){t.forEach(u=>{const d=this._doc.createElement("style");d.textContent=u,o.push(r.appendChild(d))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(gs),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(t,o,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(gs))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(se))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function gs(n){L().remove(n)}const ks={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},dl=/%COMP%/g;function ba(n,e,t){for(let r=0;r<e.length;r++){let o=e[r];Array.isArray(o)?ba(n,o,t):(o=o.replace(dl,n),t.push(o))}return t}function hl(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let mi=(()=>{class n{constructor(t,r,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new ro(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case h.ifc.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new fl(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(t),o}case 1:case h.ifc.ShadowDom:return new pl(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const o=ba(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(cl),h.LFG(no),h.LFG(h.AFp))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class ro{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(ks[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(jo(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(jo(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const u=ks[o];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=ks[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(h.JOm.DashCase|h.JOm.Important)?e.style.setProperty(t,r,o&h.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&h.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,hl(r)):this.eventManager.addEventListener(e,t,hl(r))}}function jo(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class fl extends ro{constructor(e,t,r,o){super(e),this.component=r;const u=ba(o+"-"+r.id,r.styles,[]);t.addStyles(u),this.contentAttr=function Ln(n){return"_ngcontent-%COMP%".replace(dl,n)}(o+"-"+r.id),this.hostAttr=function wa(n){return"_nghost-%COMP%".replace(dl,n)}(o+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class pl extends ro{constructor(e,t,r,o){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=ba(o.id,o.styles,[]);for(let d=0;d<u.length;d++){const m=document.createElement("style");m.textContent=u[d],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let gr=(()=>{class n extends va{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(se))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const ys=["alt","control","meta","shift"],E={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},I={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let k=(()=>{class n extends va{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const u=n.parseEventName(r),d=n.eventCallback(u.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>L().onAndCancel(t,u.domEventName,d))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const u=n._normalizeKey(r.pop());let d="",m=r.indexOf("code");if(m>-1&&(r.splice(m,1),d="code."),ys.forEach(T=>{const M=r.indexOf(T);M>-1&&(r.splice(M,1),d+=T+".")}),d+=u,0!=r.length||0===u.length)return null;const w={};return w.domEventName=o,w.fullKey=d,w}static matchEventFullKeyCode(t,r){let o=E[t.key]||t.key,u="";return r.indexOf("code.")>-1&&(o=t.code,u="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),ys.forEach(d=>{d!==o&&(0,I[d])(t)&&(u+=d+".")}),u+=o,u===r)}static eventCallback(t,r,o){return u=>{n.matchEventFullKeyCode(u,t)&&o.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(se))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const ml=(0,h.eFA)(h._c5,"browser",[{provide:h.Lbi,useValue:"browser"},{provide:h.g9A,useValue:function ur(){Xi.makeCurrent()},multi:!0},{provide:se,useFactory:function Os(){return(0,h.RDi)(document),document},deps:[]}]),io=new h.OlP(""),ld=[{provide:h.rWj,useClass:class ic{addToWindow(e){h.dqk.getAngularTestability=(r,o=!0)=>{const u=e.findTestabilityInTree(r,o);if(null==u)throw new Error("Could not find testability for element.");return u},h.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),h.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),h.dqk.frameworkStabilizers||(h.dqk.frameworkStabilizers=[]),h.dqk.frameworkStabilizers.push(r=>{const o=h.dqk.getAllAngularTestabilities();let u=o.length,d=!1;const m=function(w){d=d||w,u--,0==u&&r(d)};o.forEach(function(w){w.whenStable(m)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?L().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:h.lri,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]},{provide:h.dDg,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]}],so=[{provide:h.zSh,useValue:"root"},{provide:h.qLn,useFactory:function si(){return new h.qLn},deps:[]},{provide:ya,useClass:gr,multi:!0,deps:[se,h.R0b,h.Lbi]},{provide:ya,useClass:k,multi:!0,deps:[se]},{provide:mi,useClass:mi,deps:[cl,no,h.AFp]},{provide:h.FYo,useExisting:mi},{provide:Ms,useExisting:no},{provide:no,useClass:no,deps:[se]},{provide:cl,useClass:cl,deps:[ya,h.R0b]},{provide:Ki,useClass:Iu,deps:[]},[]];let sc=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:h.AFp,useValue:t.appId},{provide:An,useExisting:h.AFp},Eu]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(io,12))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[...so,...ld],imports:[Ts,h.hGG]}),n})(),Ps=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(se))},n.\u0275prov=h.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Ia(){return new Ps((0,h.LFG)(se))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var Sn=V(8996),ts=V(7669);function mt(...n){const e=(0,ts.yG)(n);return(0,Sn.D)(n,e)}var Ni=V(7579);class $n extends Ni.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Au=(0,V(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var zr=V(9751);const{isArray:ao}=Array,{getPrototypeOf:bl,prototype:bp,keys:lc}=Object;function Su(n){if(1===n.length){const e=n[0];if(ao(e))return{args:e,keys:null};if(function xa(n){return n&&"object"==typeof n&&bl(n)===bp}(e)){const t=lc(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var uo=V(4671),ut=V(4004);const{isArray:xu}=Array;function Mu(n){return(0,ut.U)(e=>function lo(n,e){return xu(e)?n(...e):n(e)}(n,e))}function Ma(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}var Dr=V(5403),cc=V(9672);function ka(...n){const e=(0,ts.yG)(n),t=(0,ts.jO)(n),{args:r,keys:o}=Su(n);if(0===r.length)return(0,Sn.D)([],e);const u=new zr.y(function Ep(n,e,t=uo.y){return r=>{dc(e,()=>{const{length:o}=n,u=new Array(o);let d=o,m=o;for(let w=0;w<o;w++)dc(e,()=>{const T=(0,Sn.D)(n[w],e);let M=!1;T.subscribe((0,Dr.x)(r,O=>{u[w]=O,M||(M=!0,m--),m||r.next(t(u.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,e,o?d=>Ma(o,d):uo.y));return t?u.pipe(Mu(t)):u}function dc(n,e,t){n?(0,cc.f)(t,n,e):e()}var El=V(8189);function co(...n){return function ku(){return(0,El.J)(1)}()((0,Sn.D)(n,(0,ts.yG)(n)))}var ho=V(8421);function rs(n){return new zr.y(e=>{(0,ho.Xf)(n()).subscribe(e)})}var hc=V(9635),Na=V(576);function vi(n,e){const t=(0,Na.m)(n)?n:()=>n,r=o=>o.error(t());return new zr.y(e?o=>e.schedule(r,0,o):r)}var Ls=V(515),vs=V(727),qr=V(4482);function fo(){return(0,qr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Dr.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const o=n._connection,u=t;t=null,o&&(!u||o===u)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Vs extends zr.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,qr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new vs.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Dr.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=vs.w0.EMPTY)}return e}refCount(){return fo()(this)}}function mr(n,e){return(0,qr.e)((t,r)=>{let o=null,u=0,d=!1;const m=()=>d&&!o&&r.complete();t.subscribe((0,Dr.x)(r,w=>{o?.unsubscribe();let T=0;const M=u++;(0,ho.Xf)(n(w,M)).subscribe(o=(0,Dr.x)(r,O=>r.next(e?e(w,O,M,T++):O),()=>{o=null,m()}))},()=>{d=!0,m()}))})}function Vn(n){return n<=0?()=>Ls.E:(0,qr.e)((e,t)=>{let r=0;e.subscribe((0,Dr.x)(t,o=>{++r<=n&&(t.next(o),n<=r&&t.complete())}))})}function Il(...n){const e=(0,ts.yG)(n);return(0,qr.e)((t,r)=>{(e?co(n,t,e):co(n,t)).subscribe(r)})}function D(n,e){return(0,qr.e)((t,r)=>{let o=0;t.subscribe((0,Dr.x)(r,u=>n.call(e,u,o++)&&r.next(u)))})}var A=V(5577);function N(n){return(0,qr.e)((e,t)=>{let r=!1;e.subscribe((0,Dr.x)(t,o=>{r=!0,t.next(o)},()=>{r||t.next(n),t.complete()}))})}function B(n=te){return(0,qr.e)((e,t)=>{let r=!1;e.subscribe((0,Dr.x)(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(n())))})}function te(){return new Au}function me(n,e){const t=arguments.length>=2;return r=>r.pipe(n?D((o,u)=>n(o,u,r)):uo.y,Vn(1),t?N(e):B(()=>new Au))}function Ne(n,e){return(0,Na.m)(e)?(0,A.z)(n,e,1):(0,A.z)(n,1)}var $e=V(8505);function ct(n){return(0,qr.e)((e,t)=>{let u,r=null,o=!1;r=e.subscribe((0,Dr.x)(t,void 0,void 0,d=>{u=(0,ho.Xf)(n(d,ct(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,u.subscribe(t))})}function Nt(n,e,t,r,o){return(u,d)=>{let m=t,w=e,T=0;u.subscribe((0,Dr.x)(d,M=>{const O=T++;w=m?n(w,M,O):(m=!0,M),r&&d.next(w)},o&&(()=>{m&&d.next(w),d.complete()})))}}function Vt(n,e){return(0,qr.e)(Nt(n,e,arguments.length>=2,!0))}function bt(n){return n<=0?()=>Ls.E:(0,qr.e)((e,t)=>{let r=[];e.subscribe((0,Dr.x)(t,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function Gn(n,e){const t=arguments.length>=2;return r=>r.pipe(n?D((o,u)=>n(o,u,r)):uo.y,bt(1),t?N(e):B(()=>new Au))}function po(n){return(0,qr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Ut="primary",_s=Symbol("RouteTitle");class go{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ri(n){return new go(n)}function Oa(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let u=0;u<r.length;u++){const d=r[u],m=n[u];if(d.startsWith(":"))o[d.substring(1)]=m;else if(d!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function is(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let u=0;u<t.length;u++)if(o=t[u],!Nh(n[o],e[o]))return!1;return!0}function Nh(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,u)=>r[u]===o)}return n===e}function Ip(n){return Array.prototype.concat.apply([],n)}function Cp(n){return n.length>0?n[n.length-1]:null}function Tr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function ws(n){return(0,h.CqO)(n)?n:(0,h.QGY)(n)?(0,Sn.D)(Promise.resolve(n)):mt(n)}const Dw={exact:function Tp(n,e,t){if(!Wo(n.segments,e.segments)||!qo(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Tp(n.children[r],e.children[r],t))return!1;return!0},subset:Nu},Oh={exact:function Ph(n,e){return is(n,e)},subset:function Ap(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Nh(n[t],e[t]))},ignored:()=>!0};function sy(n,e,t){return Dw[t.paths](n.root,e.root,t.matrixParams)&&Oh[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Nu(n,e,t){return dd(n,e,e.segments,t)}function dd(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!Wo(o,t)||e.hasChildren()||!qo(o,t,r))}if(n.segments.length===t.length){if(!Wo(n.segments,t)||!qo(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!Nu(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(Wo(n.segments,o)&&qo(n.segments,o,r)&&n.children[Ut])&&dd(n.children[Ut],e,u,r)}}function qo(n,e,t){return e.every((r,o)=>Oh[t](n[o].parameters,r.parameters))}class Ru{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ri(this.queryParams)),this._queryParamMap}toString(){return pd.serialize(this)}}class on{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Tr(t,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return gd(this)}}class hd{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ri(this.parameters)),this._parameterMap}toString(){return Mp(this)}}function Wo(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Fh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return new fd},providedIn:"root"}),n})();class fd{parse(e){const t=new Pu(e);return new Ru(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Ou(e.root,!0)}`,r=function Aw(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${pc(t)}=${pc(o)}`).join("&"):`${pc(t)}=${pc(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function oy(n){return encodeURI(n)}(e.fragment)}`:""}`}}const pd=new fd;function gd(n){return n.segments.map(e=>Mp(e)).join("/")}function Ou(n,e){if(!n.hasChildren())return gd(n);if(e){const t=n.children[Ut]?Ou(n.children[Ut],!1):"",r=[];return Tr(n.children,(o,u)=>{u!==Ut&&r.push(`${u}:${Ou(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Sp(n,e){let t=[];return Tr(n.children,(r,o)=>{o===Ut&&(t=t.concat(e(r,o)))}),Tr(n.children,(r,o)=>{o!==Ut&&(t=t.concat(e(r,o)))}),t}(n,(r,o)=>o===Ut?[Ou(n.children[Ut],!1)]:[`${o}:${Ou(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ut]?`${gd(n)}/${t[0]}`:`${gd(n)}/(${t.join("//")})`}}function xp(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function pc(n){return xp(n).replace(/%3B/gi,";")}function bs(n){return xp(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Pa(n){return decodeURIComponent(n)}function Lh(n){return Pa(n.replace(/\+/g,"%20"))}function Mp(n){return`${bs(n.path)}${function Tw(n){return Object.keys(n).map(e=>`;${bs(e)}=${bs(n[e])}`).join("")}(n.parameters)}`}const Sw=/^[^\/()?;=#]+/;function Vh(n){const e=n.match(Sw);return e?e[0]:""}const kp=/^[^=?&#]+/,ay=/^[^&#]+/;class Pu{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new on([],{}):new on([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Ut]=new on(e,t)),r}parseSegment(){const e=Vh(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new h.vHH(4009,!1);return this.capture(e),new hd(Pa(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Vh(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=Vh(this.remaining);o&&(r=o,this.capture(r))}e[Pa(t)]=Pa(r)}parseQueryParam(e){const t=function Np(n){const e=n.match(kp);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const d=function xw(n){const e=n.match(ay);return e?e[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const o=Lh(t),u=Lh(r);if(e.hasOwnProperty(o)){let d=e[o];Array.isArray(d)||(d=[d],e[o]=d),d.push(u)}else e[o]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Vh(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new h.vHH(4010,!1);let u;r.indexOf(":")>-1?(u=r.slice(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=Ut);const d=this.parseChildren();t[u]=1===Object.keys(d).length?d[Ut]:new on([],d),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new h.vHH(4011,!1)}}function gc(n){return n.segments.length>0?new on([],{[Ut]:n}):n}function Es(n){const e={};for(const r of Object.keys(n.children)){const u=Es(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function Fu(n){if(1===n.numberOfChildren&&n.children[Ut]){const e=n.children[Ut];return new on(n.segments.concat(e.segments),e.children)}return n}(new on(n.segments,e))}function Fa(n){return n instanceof Ru}function kw(n,e,t,r,o){if(0===t.length)return mc(e.root,e.root,e.root,r,o);const u=function Op(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Uh(!0,0,n);let e=0,t=!1;const r=n.reduce((o,u,d)=>{if("object"==typeof u&&null!=u){if(u.outlets){const m={};return Tr(u.outlets,(w,T)=>{m[T]="string"==typeof w?w.split("/"):w}),[...o,{outlets:m}]}if(u.segmentPath)return[...o,u.segmentPath]}return"string"!=typeof u?[...o,u]:0===d?(u.split("/").forEach((m,w)=>{0==w&&"."===m||(0==w&&""===m?t=!0:".."===m?e++:""!=m&&o.push(m))}),o):[...o,u]},[]);return new Uh(t,e,r)}(t);return u.toRoot()?mc(e.root,e.root,new on([],{}),r,o):function d(w){const T=function Bh(n,e,t,r){if(n.isAbsolute)return new Dl(e.root,!0,0);if(-1===r)return new Dl(t,t===e.root,0);return function jh(n,e,t){let r=n,o=e,u=t;for(;u>o;){if(u-=o,r=r.parent,!r)throw new h.vHH(4005,!1);o=r.segments.length}return new Dl(r,!1,o-u)}(t,r+(Lu(n.commands[0])?0:1),n.numberOfDoubleDots)}(u,e,n.snapshot?._urlSegment,w),M=T.processChildren?Ko(T.segmentGroup,T.index,u.commands):yc(T.segmentGroup,T.index,u.commands);return mc(e.root,T.segmentGroup,M,r,o)}(n.snapshot?._lastPathIndex)}function Lu(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Zo(n){return"object"==typeof n&&null!=n&&n.outlets}function mc(n,e,t,r,o){let d,u={};r&&Tr(r,(w,T)=>{u[T]=Array.isArray(w)?w.map(M=>`${M}`):`${w}`}),d=n===e?t:ly(n,e,t);const m=gc(Es(d));return new Ru(m,u,o)}function ly(n,e,t){const r={};return Tr(n.children,(o,u)=>{r[u]=o===e?t:ly(o,e,t)}),new on(n.segments,r)}class Uh{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Lu(r[0]))throw new h.vHH(4003,!1);const o=r.find(Zo);if(o&&o!==Cp(r))throw new h.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Dl{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function yc(n,e,t){if(n||(n=new on([],{})),0===n.segments.length&&n.hasChildren())return Ko(n,e,t);const r=function cy(n,e,t){let r=0,o=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return u;const d=n.segments[o],m=t[r];if(Zo(m))break;const w=`${m}`,T=r<t.length-1?t[r+1]:null;if(o>0&&void 0===w)break;if(w&&T&&"object"==typeof T&&void 0===T.outlets){if(!vd(w,T,d))return u;r+=2}else{if(!vd(w,{},d))return u;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new on(n.segments.slice(0,r.pathIndex),{});return u.children[Ut]=new on(n.segments.slice(r.pathIndex),n.children),Ko(u,0,o)}return r.match&&0===o.length?new on(n.segments,{}):r.match&&!n.hasChildren()?lr(n,e,t):r.match?Ko(n,0,o):lr(n,e,t)}function Ko(n,e,t){if(0===t.length)return new on(n.segments,{});{const r=function md(n){return Zo(n[0])?n[0].outlets:{[Ut]:n}}(t),o={};return Tr(r,(u,d)=>{"string"==typeof u&&(u=[u]),null!==u&&(o[d]=yc(n.children[d],e,u))}),Tr(n.children,(u,d)=>{void 0===r[d]&&(o[d]=u)}),new on(n.segments,o)}}function lr(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const u=t[o];if(Zo(u)){const w=yd(u.outlets);return new on(r,w)}if(0===o&&Lu(t[0])){r.push(new hd(n.segments[e].path,Fp(t[0]))),o++;continue}const d=Zo(u)?u.outlets[Ut]:`${u}`,m=o<t.length-1?t[o+1]:null;d&&m&&Lu(m)?(r.push(new hd(d,Fp(m))),o+=2):(r.push(new hd(d,{})),o++)}return new on(r,{})}function yd(n){const e={};return Tr(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=lr(new on([],{}),0,t))}),e}function Fp(n){const e={};return Tr(n,(t,r)=>e[r]=`${t}`),e}function vd(n,e,t){return n==t.path&&is(e,t.parameters)}class mo{constructor(e,t){this.id=e,this.url=t}}class _d extends mo{constructor(e,t,r="imperative",o=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Vu extends mo{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class wd extends mo{constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Lp extends mo{constructor(e,t,r,o){super(e,t),this.error=r,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class dy extends mo{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bd extends mo{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Nw extends mo{constructor(e,t,r,o,u){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Tl extends mo{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hh extends mo{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vp{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Up{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Bp{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jp{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ed{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Id{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vc{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Cd{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=_c(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=_c(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=oi(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return oi(e,this._root).map(t=>t.value)}}function _c(n,e){if(n===e.value)return e;for(const t of e.children){const r=_c(n,t);if(r)return r}return null}function oi(n,e){if(n===e.value)return[e];for(const t of e.children){const r=oi(n,t);if(r.length)return r.unshift(e),r}return[]}class Oi{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function ss(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Hp extends Cd{constructor(e,t){super(e),this.snapshot=t,bc(this,e)}toString(){return this.snapshot.toString()}}function Al(n,e){const t=function Sl(n,e){const d=new Wr([],{},{},"",{},Ut,e,null,n.root,-1,{});return new Td("",new Oi(d,[]))}(n,e),r=new $n([new hd("",{})]),o=new $n({}),u=new $n({}),d=new $n({}),m=new $n(""),w=new Uu(r,o,d,m,u,Ut,e,t.root);return w.snapshot=t.root,new Hp(new Oi(w,[]),t)}class Uu{constructor(e,t,r,o,u,d,m,w){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=d,this.component=m,this.title=this.data?.pipe((0,ut.U)(T=>T[_s]))??mt(void 0),this._futureSnapshot=w}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ut.U)(e=>Ri(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ut.U)(e=>Ri(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function wc(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],u=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(u.component)break;r--}}return function Dd(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Wr{constructor(e,t,r,o,u,d,m,w,T,M,O,q){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=d,this.component=m,this.title=this.data?.[_s],this.routeConfig=w,this._urlSegment=T,this._lastPathIndex=M,this._correctedLastPathIndex=q??M,this._resolve=O}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ri(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ri(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Td extends Cd{constructor(e,t){super(t),this.url=e,bc(this,t)}toString(){return $p(this._root)}}function bc(n,e){e.value._routerState=n,e.children.forEach(t=>bc(n,t))}function $p(n){const e=n.children.length>0?` { ${n.children.map($p).join(", ")} } `:"";return`${n.value}${e}`}function $h(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,is(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),is(e.params,t.params)||n.params.next(t.params),function zo(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!is(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),is(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Ec(n,e){const t=is(n.params,e.params)&&function fc(n,e){return Wo(n,e)&&n.every((t,r)=>is(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Ec(n.parent,e.parent))}function Bu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function Gh(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return Bu(n,r,o);return Bu(n,r)})}(n,e,t);return new Oi(r,o)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const d=u.route;return d.value._futureSnapshot=e.value,d.children=e.children.map(m=>Bu(n,m)),d}}const r=function hy(n){return new Uu(new $n(n.url),new $n(n.params),new $n(n.queryParams),new $n(n.fragment),new $n(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(u=>Bu(n,u));return new Oi(r,o)}}const Us="ngNavigationCancelingError";function La(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Fa(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,o=zh(!1,0,e);return o.url=t,o.navigationBehaviorOptions=r,o}function zh(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Us]=!0,r.cancellationCode=e,t&&(r.url=t),r}function Ad(n){return Gp(n)&&Fa(n.url)}function Gp(n){return n&&n[Us]}class Sd{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new xd,this.attachRef=null}}let xd=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const o=this.getOrCreateContext(t);o.outlet=r,this.contexts.set(t,o)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Sd,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Md=!1;let ju=(()=>{class n{constructor(t,r,o,u,d){this.parentContexts=t,this.location=r,this.changeDetector=u,this.environmentInjector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new h.vpe,this.deactivateEvents=new h.vpe,this.attachEvents=new h.vpe,this.detachEvents=new h.vpe,this.name=o||Ut,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new h.vHH(4012,Md);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new h.vHH(4012,Md);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new h.vHH(4012,Md);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new h.vHH(4013,Md);this._activatedRoute=t;const o=this.location,d=t._futureSnapshot.component,m=this.parentContexts.getOrCreateContext(this.name).children,w=new fy(t,m,o.injector);if(r&&function y(n){return!!n.resolveComponentFactory}(r)){const T=r.resolveComponentFactory(d);this.activated=o.createComponent(T,o.length,w)}else this.activated=o.createComponent(d,{index:o.length,injector:w,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(xd),h.Y36(h.s_b),h.$8M("name"),h.Y36(h.sBO),h.Y36(h.lqb))},n.\u0275dir=h.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class fy{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Uu?this.route:e===xd?this.childContexts:this.parent.get(e,t)}}let f=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[h.jDz],decls:1,vars:0,template:function(t,r){1&t&&h._UZ(0,"router-outlet")},dependencies:[ju],encapsulation:2}),n})();function g(n,e){return n.providers&&!n._injector&&(n._injector=(0,h.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Et(n){const e=n.children&&n.children.map(Et),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ut&&(t.component=f),t}function Cn(n){return n.outlet||Ut}function Pi(n,e){const t=n.filter(r=>Cn(r)===e);return t.push(...n.filter(r=>Cn(r)!==e)),t}function Hu(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Ic{constructor(e,t,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),$h(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=ss(t);e.children.forEach(u=>{const d=u.value.outlet;this.deactivateRoutes(u,o[d],r),delete o[d]}),Tr(o,(u,d)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const o=e.value,u=t?t.value:null;if(o===u)if(o.component){const d=r.getContext(o.outlet);d&&this.deactivateChildRoutes(e,t,d.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,u=ss(e);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],o);if(r&&r.outlet){const d=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:d,route:e,contexts:m})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,u=ss(e);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const o=ss(t);e.children.forEach(u=>{this.activateRoutes(u,o[u.value.outlet],r),this.forwardEvent(new Id(u.value.snapshot))}),e.children.length&&this.forwardEvent(new jp(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,u=t?t.value:null;if($h(o),o===u)if(o.component){const d=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,d.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const d=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const m=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),d.children.onOutletReAttached(m.contexts),d.attachRef=m.componentRef,d.route=m.route.value,d.outlet&&d.outlet.attach(m.componentRef,m.route.value),$h(m.route.value),this.activateChildRoutes(e,null,d.children)}else{const m=Hu(o.snapshot),w=m?.get(h._Vd)??null;d.attachRef=null,d.route=o,d.resolver=w,d.injector=m,d.outlet&&d.outlet.activateWith(o,d.injector),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,r)}}class zp{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class kd{constructor(e,t){this.component=e,this.route=t}}function qp(n,e,t){const r=n._root;return $u(r,e?e._root:null,t,[r.value])}function xl(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,h.Z0I)(n)?e.get(n):n:r}function $u(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=ss(e);return n.children.forEach(d=>{(function qh(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,d=e?e.value:null,m=t?t.getContext(n.value.outlet):null;if(d&&u.routeConfig===d.routeConfig){const w=function Wh(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Wo(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Wo(n.url,e.url)||!is(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ec(n,e)||!is(n.queryParams,e.queryParams);default:return!Ec(n,e)}}(d,u,u.routeConfig.runGuardsAndResolvers);w?o.canActivateChecks.push(new zp(r)):(u.data=d.data,u._resolvedData=d._resolvedData),$u(n,e,u.component?m?m.children:null:t,r,o),w&&m&&m.outlet&&m.outlet.isActivated&&o.canDeactivateChecks.push(new kd(m.outlet.component,d))}else d&&Va(e,m,o),o.canActivateChecks.push(new zp(r)),$u(n,null,u.component?m?m.children:null:t,r,o)})(d,u[d.value.outlet],t,r.concat([d.value]),o),delete u[d.value.outlet]}),Tr(u,(d,m)=>Va(d,t.getContext(m),o)),o}function Va(n,e,t){const r=ss(n),o=n.value;Tr(r,(u,d)=>{Va(u,o.component?e?e.children.getContext(d):null:e,t)}),t.canDeactivateChecks.push(new kd(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}function Ml(n){return"function"==typeof n}function Wp(n){return n instanceof Au||"EmptyError"===n?.name}const Zp=Symbol("INITIAL_VALUE");function Nd(){return mr(n=>ka(n.map(e=>e.pipe(Vn(1),Il(Zp)))).pipe((0,ut.U)(e=>{for(const t of e)if(!0!==t){if(t===Zp)return Zp;if(!1===t||t instanceof Ru)return t}return!0}),D(e=>e!==Zp),Vn(1)))}function Fi(n){return(0,hc.z)((0,$e.b)(e=>{if(Fa(e))throw La(0,e)}),(0,ut.U)(e=>!0===e))}const Kp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Yp(n,e,t,r,o){const u=ai(n,e,t);return u.matched?function _y(n,e,t,r){const o=e.canMatch;return o&&0!==o.length?mt(o.map(d=>{const m=xl(d,n);return ws(function XI(n){return n&&Ml(n.canMatch)}(m)?m.canMatch(e,t):n.runInContext(()=>m(e,t)))})).pipe(Nd(),Fi()):mt(!0)}(r=g(e,r),e,t).pipe((0,ut.U)(d=>!0===d?u:{...Kp})):mt(u)}function ai(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Kp}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const o=(e.matcher||Oa)(t,n,e);if(!o)return{...Kp};const u={};Tr(o.posParams,(m,w)=>{u[w]=m.path});const d=o.consumed.length>0?{...u,...o.consumed[o.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:d,positionalParamSegments:o.posParams??{}}}function kl(n,e,t,r,o="corrected"){if(t.length>0&&function lC(n,e,t){return t.some(r=>Qp(n,e,r)&&Cn(r)!==Ut)}(n,t,r)){const d=new on(e,function uC(n,e,t,r){const o={};o[Ut]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&Cn(u)!==Ut){const d=new on([],{});d._sourceSegment=n,d._segmentIndexShift=e.length,o[Cn(u)]=d}return o}(n,e,r,new on(t,n.children)));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:[]}}if(0===t.length&&function Lw(n,e,t){return t.some(r=>Qp(n,e,r))}(n,t,r)){const d=new on(n.segments,function Fw(n,e,t,r,o,u){const d={};for(const m of r)if(Qp(n,t,m)&&!o[Cn(m)]){const w=new on([],{});w._sourceSegment=n,w._segmentIndexShift="legacy"===u?n.segments.length:e.length,d[Cn(m)]=w}return{...o,...d}}(n,e,t,r,n.children,o));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:t}}const u=new on(n.segments,n.children);return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}function Qp(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function wy(n,e,t,r){return!!(Cn(n)===r||r!==Ut&&Qp(e,t,n))&&("**"===n.path||ai(e,n,t).matched)}function Vw(n,e,t){return 0===e.length&&!n.children[t]}const Kh=!1;class Jp{constructor(e){this.segmentGroup=e||null}}class Uw{constructor(e){this.urlTree=e}}function Yh(n){return vi(new Jp(n))}function Bw(n){return vi(new Uw(n))}class dC{constructor(e,t,r,o,u){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=o,this.config=u,this.allowRedirects=!0}apply(){const e=kl(this.urlTree.root,[],[],this.config).segmentGroup,t=new on(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Ut).pipe((0,ut.U)(u=>this.createUrlTree(Es(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ct(u=>{if(u instanceof Uw)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof Jp?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Ut).pipe((0,ut.U)(o=>this.createUrlTree(Es(o),e.queryParams,e.fragment))).pipe(ct(o=>{throw o instanceof Jp?this.noMatchError(o):o}))}noMatchError(e){return new h.vHH(4002,Kh)}createUrlTree(e,t,r){const o=gc(e);return new Ru(o,t,r)}expandSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,ut.U)(u=>new on([],u))):this.expandSegment(e,r,t,r.segments,o,!0)}expandChildren(e,t,r){const o=[];for(const u of Object.keys(r.children))"primary"===u?o.unshift(u):o.push(u);return(0,Sn.D)(o).pipe(Ne(u=>{const d=r.children[u],m=Pi(t,u);return this.expandSegmentGroup(e,m,d,u).pipe((0,ut.U)(w=>({segment:w,outlet:u})))}),Vt((u,d)=>(u[d.outlet]=d.segment,u),{}),Gn())}expandSegment(e,t,r,o,u,d){return(0,Sn.D)(r).pipe(Ne(m=>this.expandSegmentAgainstRoute(e,t,r,m,o,u,d).pipe(ct(T=>{if(T instanceof Jp)return mt(null);throw T}))),me(m=>!!m),ct((m,w)=>{if(Wp(m))return Vw(t,o,u)?mt(new on([],{})):Yh(t);throw m}))}expandSegmentAgainstRoute(e,t,r,o,u,d,m){return wy(o,t,u,d)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,t,o,u,d):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,o,u,d):Yh(t):Yh(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,u,d){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,d):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,u,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Bw(u):this.lineralizeSegments(r,u).pipe((0,A.z)(d=>{const m=new on(d,{});return this.expandSegment(e,m,t,d,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,u,d){const{matched:m,consumedSegments:w,remainingSegments:T,positionalParamSegments:M}=ai(t,o,u);if(!m)return Yh(t);const O=this.applyRedirectCommands(w,o.redirectTo,M);return o.redirectTo.startsWith("/")?Bw(O):this.lineralizeSegments(o,O).pipe((0,A.z)(q=>this.expandSegment(e,t,r,q.concat(T),d,!1)))}matchSegmentAgainstRoute(e,t,r,o,u){return"**"===r.path?(e=g(r,e),r.loadChildren?(r._loadedRoutes?mt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,ut.U)(m=>(r._loadedRoutes=m.routes,r._loadedInjector=m.injector,new on(o,{})))):mt(new on(o,{}))):Yp(t,r,o,e).pipe(mr(({matched:d,consumedSegments:m,remainingSegments:w})=>d?this.getChildConfig(e=r._injector??e,r,o).pipe((0,A.z)(M=>{const O=M.injector??e,q=M.routes,{segmentGroup:X,slicedSegments:pe}=kl(t,m,w,q),je=new on(X.segments,X.children);if(0===pe.length&&je.hasChildren())return this.expandChildren(O,q,je).pipe((0,ut.U)(Qt=>new on(m,Qt)));if(0===q.length&&0===pe.length)return mt(new on(m,{}));const ze=Cn(r)===u;return this.expandSegment(O,je,q,pe,ze?Ut:u,!0).pipe((0,ut.U)(Bt=>new on(m.concat(Bt.segments),Bt.children)))})):Yh(t)))}getChildConfig(e,t,r){return t.children?mt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?mt({routes:t._loadedRoutes,injector:t._loadedInjector}):function aC(n,e,t,r){const o=e.canLoad;return void 0===o||0===o.length?mt(!0):mt(o.map(d=>{const m=xl(d,n);return ws(function my(n){return n&&Ml(n.canLoad)}(m)?m.canLoad(e,t):n.runInContext(()=>m(e,t)))})).pipe(Nd(),Fi())}(e,t,r).pipe((0,A.z)(o=>o?this.configLoader.loadChildren(e,t).pipe((0,$e.b)(u=>{t._loadedRoutes=u.routes,t._loadedInjector=u.injector})):function Rd(n){return vi(zh(Kh,3))}())):mt({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return mt(r);if(o.numberOfChildren>1||!o.children[Ut])return vi(new h.vHH(4e3,Kh));o=o.children[Ut]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,o){const u=this.createSegmentGroup(e,t.root,r,o);return new Ru(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Tr(e,(o,u)=>{if("string"==typeof o&&o.startsWith(":")){const m=o.substring(1);r[u]=t[m]}else r[u]=o}),r}createSegmentGroup(e,t,r,o){const u=this.createSegments(e,t.segments,r,o);let d={};return Tr(t.children,(m,w)=>{d[w]=this.createSegmentGroup(e,m,r,o)}),new on(u,d)}createSegments(e,t,r,o){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,o):this.findOrReturn(u,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new h.vHH(4001,Kh);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}class DS{}class Ua{constructor(e,t,r,o,u,d,m,w){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=o,this.url=u,this.paramsInheritanceStrategy=d,this.relativeLinkResolution=m,this.urlSerializer=w}recognize(){const e=kl(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Ut).pipe((0,ut.U)(t=>{if(null===t)return null;const r=new Wr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ut,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new Oi(r,t),u=new Td(this.url,o);return this.inheritParamsAndData(u._root),u}))}inheritParamsAndData(e){const t=e.value,r=wc(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,o)}processChildren(e,t,r){return(0,Sn.D)(Object.keys(r.children)).pipe(Ne(o=>{const u=r.children[o],d=Pi(t,o);return this.processSegmentGroup(e,d,u,o)}),Vt((o,u)=>o&&u?(o.push(...u),o):null),function Ur(n,e=!1){return(0,qr.e)((t,r)=>{let o=0;t.subscribe((0,Dr.x)(r,u=>{const d=n(u,o++);(d||e)&&r.next(u),!d&&r.complete()}))})}(o=>null!==o),N(null),Gn(),(0,ut.U)(o=>{if(null===o)return null;const u=Cy(o);return function Ey(n){n.sort((e,t)=>e.value.outlet===Ut?-1:t.value.outlet===Ut?1:e.value.outlet.localeCompare(t.value.outlet))}(u),u}))}processSegment(e,t,r,o,u){return(0,Sn.D)(t).pipe(Ne(d=>this.processSegmentAgainstRoute(d._injector??e,d,r,o,u)),me(d=>!!d),ct(d=>{if(Wp(d))return Vw(r,o,u)?mt([]):mt(null);throw d}))}processSegmentAgainstRoute(e,t,r,o,u){if(t.redirectTo||!wy(t,r,o,u))return mt(null);let d;if("**"===t.path){const m=o.length>0?Cp(o).parameters:{},w=Hw(r)+o.length;d=mt({snapshot:new Wr(o,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Xp(t),Cn(t),t.component??t._loadedComponent??null,t,Od(r),w,eg(t),w),consumedSegments:[],remainingSegments:[]})}else d=Yp(r,t,o,e).pipe((0,ut.U)(({matched:m,consumedSegments:w,remainingSegments:T,parameters:M})=>{if(!m)return null;const O=Hw(r)+w.length;return{snapshot:new Wr(w,M,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Xp(t),Cn(t),t.component??t._loadedComponent??null,t,Od(r),O,eg(t),O),consumedSegments:w,remainingSegments:T}}));return d.pipe(mr(m=>{if(null===m)return mt(null);const{snapshot:w,consumedSegments:T,remainingSegments:M}=m;e=t._injector??e;const O=t._loadedInjector??e,q=function Iy(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:X,slicedSegments:pe}=kl(r,T,M,q.filter(ze=>void 0===ze.redirectTo),this.relativeLinkResolution);if(0===pe.length&&X.hasChildren())return this.processChildren(O,q,X).pipe((0,ut.U)(ze=>null===ze?null:[new Oi(w,ze)]));if(0===q.length&&0===pe.length)return mt([new Oi(w,[])]);const je=Cn(t)===u;return this.processSegment(O,q,X,pe,je?Ut:u).pipe((0,ut.U)(ze=>null===ze?null:[new Oi(w,ze)]))}))}}function fC(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Cy(n){const e=[],t=new Set;for(const r of n){if(!fC(r)){e.push(r);continue}const o=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=Cy(r.children);e.push(new Oi(r.value,o))}return e.filter(r=>!t.has(r))}function Od(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Hw(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function Xp(n){return n.data||{}}function eg(n){return n.resolve||{}}function tg(n){return"string"==typeof n.title||null===n.title}function Ty(n){return mr(e=>{const t=n(e);return t?(0,Sn.D)(t).pipe((0,ut.U)(()=>e)):mt(e)})}let qw=(()=>{class n{buildTitle(t){let r,o=t.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(u=>u.outlet===Ut);return r}getResolvedTitleForRoute(t){return t.data[_s]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(Ww)},providedIn:"root"}),n})(),Ww=(()=>{class n extends qw{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Ps))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class mC{}class Zw extends class yC{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Qh=new h.OlP("",{providedIn:"root",factory:()=>({})}),Sy=new h.OlP("ROUTES");let xy=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return mt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=ws(t.loadComponent()).pipe((0,$e.b)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=u}),po(()=>{this.componentLoaders.delete(t)})),o=new Vs(r,()=>new Ni.x).pipe(fo());return this.componentLoaders.set(t,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return mt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const u=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,ut.U)(m=>{this.onLoadEndListener&&this.onLoadEndListener(r);let w,T,M=!1;Array.isArray(m)?T=m:(w=m.create(t).injector,T=Ip(w.get(Sy,[],h.XFs.Self|h.XFs.Optional)));return{routes:T.map(Et),injector:w}}),po(()=>{this.childrenLoaders.delete(r)})),d=new Vs(u,()=>new Ni.x).pipe(fo());return this.childrenLoaders.set(r,d),d}loadModuleFactoryOrRoutes(t){return ws(t()).pipe((0,A.z)(r=>r instanceof h.YKP||Array.isArray(r)?mt(r):(0,Sn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.zs3),h.LFG(h.Sil))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Kw{}class Yw{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Qw(n){throw n}function Jw(n,e,t){return e.parse("/")}const vC={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},xS={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Xw(){const n=(0,h.f3M)(Fh),e=(0,h.f3M)(xd),t=(0,h.f3M)(De),r=(0,h.f3M)(h.zs3),o=(0,h.f3M)(h.Sil),u=(0,h.f3M)(Sy,{optional:!0})??[],d=(0,h.f3M)(Qh,{optional:!0})??{},m=(0,h.f3M)(Ww),w=(0,h.f3M)(qw,{optional:!0}),T=(0,h.f3M)(Kw,{optional:!0}),M=(0,h.f3M)(mC,{optional:!0}),O=new ui(null,n,e,t,r,o,Ip(u));return T&&(O.urlHandlingStrategy=T),M&&(O.routeReuseStrategy=M),O.titleStrategy=w??m,function rg(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(d,O),O}let ui=(()=>{class n{constructor(t,r,o,u,d,m,w){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=o,this.location=u,this.config=w,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ni.x,this.errorHandler=Qw,this.malformedUriErrorHandler=Jw,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>mt(void 0),this.urlHandlingStrategy=new Yw,this.routeReuseStrategy=new Zw,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=d.get(xy),this.configLoader.onLoadEndListener=q=>this.triggerEvent(new Up(q)),this.configLoader.onLoadStartListener=q=>this.triggerEvent(new Vp(q)),this.ngModule=d.get(h.h0i),this.console=d.get(h.c2e);const O=d.get(h.R0b);this.isNgZoneEnabled=O instanceof h.R0b&&h.R0b.isInAngularZone(),this.resetConfig(w),this.currentUrlTree=function Dp(){return new Ru(new on([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Al(this.currentUrlTree,this.rootComponentType),this.transitions=new $n({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(D(o=>0!==o.id),(0,ut.U)(o=>({...o,extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),mr(o=>{let u=!1,d=!1;return mt(o).pipe((0,$e.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.rawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),mr(m=>{const w=this.browserUrlTree.toString(),T=!this.navigated||m.extractedUrl.toString()!==w||w!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||T)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return My(m.source)&&(this.browserUrlTree=m.extractedUrl),mt(m).pipe(mr(O=>{const q=this.transitions.getValue();return r.next(new _d(O.id,this.serializeUrl(O.extractedUrl),O.source,O.restoredState)),q!==this.transitions.getValue()?Ls.E:Promise.resolve(O)}),function hC(n,e,t,r){return mr(o=>function Gu(n,e,t,r,o){return new dC(n,e,t,r,o).apply()}(n,e,t,o.extractedUrl,r).pipe((0,ut.U)(u=>({...o,urlAfterRedirects:u}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,$e.b)(O=>{this.currentNavigation={...this.currentNavigation,finalUrl:O.urlAfterRedirects},o.urlAfterRedirects=O.urlAfterRedirects}),function Gw(n,e,t,r,o,u){return(0,A.z)(d=>function TS(n,e,t,r,o,u,d="emptyOnly",m="legacy"){return new Ua(n,e,t,r,o,d,m,u).recognize().pipe(mr(w=>null===w?function jw(n){return new zr.y(e=>e.error(n))}(new DS):mt(w)))}(n,e,t,d.urlAfterRedirects,r.serialize(d.urlAfterRedirects),r,o,u).pipe((0,ut.U)(m=>({...d,targetSnapshot:m}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,$e.b)(O=>{if(o.targetSnapshot=O.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!O.extras.skipLocationChange){const X=this.urlHandlingStrategy.merge(O.urlAfterRedirects,O.rawUrl);this.setBrowserUrl(X,O)}this.browserUrlTree=O.urlAfterRedirects}const q=new dy(O.id,this.serializeUrl(O.extractedUrl),this.serializeUrl(O.urlAfterRedirects),O.targetSnapshot);r.next(q)}));if(T&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:q,extractedUrl:X,source:pe,restoredState:je,extras:ze}=m,_t=new _d(q,this.serializeUrl(X),pe,je);r.next(_t);const Bt=Al(X,this.rootComponentType).snapshot;return mt(o={...m,targetSnapshot:Bt,urlAfterRedirects:X,extras:{...ze,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=m.rawUrl,m.resolve(null),Ls.E}),(0,$e.b)(m=>{const w=new bd(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(w)}),(0,ut.U)(m=>o={...m,guards:qp(m.targetSnapshot,m.currentSnapshot,this.rootContexts)}),function tC(n,e){return(0,A.z)(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:u,canDeactivateChecks:d}}=t;return 0===d.length&&0===u.length?mt({...t,guardsResult:!0}):function nC(n,e,t,r){return(0,Sn.D)(n).pipe((0,A.z)(o=>function oC(n,e,t,r,o){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return u&&0!==u.length?mt(u.map(m=>{const w=Hu(e)??o,T=xl(m,w);return ws(function Zh(n){return n&&Ml(n.canDeactivate)}(T)?T.canDeactivate(n,e,t,r):w.runInContext(()=>T(n,e,t,r))).pipe(me())})).pipe(Nd()):mt(!0)}(o.component,o.route,t,e,r)),me(o=>!0!==o,!0))}(d,r,o,n).pipe((0,A.z)(m=>m&&function Ow(n){return"boolean"==typeof n}(m)?function vy(n,e,t,r){return(0,Sn.D)(e).pipe(Ne(o=>co(function iC(n,e){return null!==n&&e&&e(new Bp(n)),mt(!0)}(o.route.parent,r),function rC(n,e){return null!==n&&e&&e(new Ed(n)),mt(!0)}(o.route,r),function Pw(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(d=>function gy(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(d)).filter(d=>null!==d).map(d=>rs(()=>mt(d.guards.map(w=>{const T=Hu(d.node)??t,M=xl(w,T);return ws(function yy(n){return n&&Ml(n.canActivateChild)}(M)?M.canActivateChild(r,n):T.runInContext(()=>M(r,n))).pipe(me())})).pipe(Nd())));return mt(u).pipe(Nd())}(n,o.path,t),function sC(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return mt(!0);const o=r.map(u=>rs(()=>{const d=Hu(e)??t,m=xl(u,d);return ws(function JI(n){return n&&Ml(n.canActivate)}(m)?m.canActivate(e,n):d.runInContext(()=>m(e,n))).pipe(me())}));return mt(o).pipe(Nd())}(n,o.route,t))),me(o=>!0!==o,!0))}(r,u,n,e):mt(m)),(0,ut.U)(m=>({...t,guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),(0,$e.b)(m=>{if(o.guardsResult=m.guardsResult,Fa(m.guardsResult))throw La(0,m.guardsResult);const w=new Nw(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(w)}),D(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,"",3),!1)),Ty(m=>{if(m.guards.canActivateChecks.length)return mt(m).pipe((0,$e.b)(w=>{const T=new Tl(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(T)}),mr(w=>{let T=!1;return mt(w).pipe(function AS(n,e){return(0,A.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return mt(t);let u=0;return(0,Sn.D)(o).pipe(Ne(d=>function Pd(n,e,t,r){const o=n.routeConfig,u=n._resolve;return void 0!==o?.title&&!tg(o)&&(u[_s]=o.title),function Dy(n,e,t,r){const o=function zw(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===o.length)return mt({});const u={};return(0,Sn.D)(o).pipe((0,A.z)(d=>function gC(n,e,t,r){const o=Hu(e)??r,u=xl(n,o);return ws(u.resolve?u.resolve(e,t):o.runInContext(()=>u(e,t)))}(n[d],e,t,r).pipe(me(),(0,$e.b)(m=>{u[d]=m}))),bt(1),function Ra(n){return(0,ut.U)(()=>n)}(u),ct(d=>Wp(d)?Ls.E:vi(d)))}(u,n,e,r).pipe((0,ut.U)(d=>(n._resolvedData=d,n.data=wc(n,t).resolve,o&&tg(o)&&(n.data[_s]=o.title),null)))}(d.route,r,n,e)),(0,$e.b)(()=>u++),bt(1),(0,A.z)(d=>u===o.length?mt(t):Ls.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,$e.b)({next:()=>T=!0,complete:()=>{T||(this.restoreHistory(w),this.cancelNavigationTransition(w,"",2))}}))}),(0,$e.b)(w=>{const T=new Hh(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(T)}))}),Ty(m=>{const w=T=>{const M=[];T.routeConfig?.loadComponent&&!T.routeConfig._loadedComponent&&M.push(this.configLoader.loadComponent(T.routeConfig).pipe((0,$e.b)(O=>{T.component=O}),(0,ut.U)(()=>{})));for(const O of T.children)M.push(...w(O));return M};return ka(w(m.targetSnapshot.root)).pipe(N(),Vn(1))}),Ty(()=>this.afterPreactivation()),(0,ut.U)(m=>{const w=function Or(n,e,t){const r=Bu(n,e._root,t?t._root:void 0);return new Hp(r,e)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return o={...m,targetRouterState:w}}),(0,$e.b)(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((n,e,t)=>(0,ut.U)(r=>(new Ic(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),(0,$e.b)({next(){u=!0},complete(){u=!0}}),po(()=>{u||d||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),ct(m=>{if(d=!0,Gp(m)){Ad(m)||(this.navigated=!0,this.restoreHistory(o,!0));const w=new wd(o.id,this.serializeUrl(o.extractedUrl),m.message,m.cancellationCode);if(r.next(w),Ad(m)){const T=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),M={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||My(o.source)};this.scheduleNavigation(T,"imperative",null,M,{resolve:o.resolve,reject:o.reject,promise:o.promise})}else o.resolve(!1)}else{this.restoreHistory(o,!0);const w=new Lp(o.id,this.serializeUrl(o.extractedUrl),m,o.targetSnapshot??void 0);r.next(w);try{o.resolve(this.errorHandler(m))}catch(T){o.reject(T)}}return Ls.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const o={replaceUrl:!0},u=t.state?.navigationId?t.state:null;if(u){const m={...u};delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(o.state=m)}const d=this.parseUrl(t.url);this.scheduleNavigation(d,r,u,o)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(Et),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:u,fragment:d,queryParamsHandling:m,preserveFragment:w}=r,T=o||this.routerState.root,M=w?this.currentUrlTree.fragment:d;let O=null;switch(m){case"merge":O={...this.currentUrlTree.queryParams,...u};break;case"preserve":O=this.currentUrlTree.queryParams;break;default:O=u||null}return null!==O&&(O=this.removeEmptyProps(O)),kw(T,this.currentUrlTree,t,O,M??null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=Fa(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function e0(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new h.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?{...vC}:!1===r?{...xS}:r,Fa(t))return sy(this.currentUrlTree,t,o);const u=this.parseUrl(t);return sy(this.currentUrlTree,u,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const u=t[o];return null!=u&&(r[o]=u),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Vu(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,o,u,d){if(this.disposed)return Promise.resolve(!1);let m,w,T;d?(m=d.resolve,w=d.reject,T=d.promise):T=new Promise((q,X)=>{m=q,w=X});const M=++this.navigationId;let O;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),O=o&&o.\u0275routerPageId?o.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):O=0,this.setTransition({id:M,targetPageId:O,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:u,resolve:m,reject:w,promise:T,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),T.catch(q=>Promise.reject(q))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t),u={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",u):this.location.go(o,"",u)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===o?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,o){const u=new wd(t.id,this.serializeUrl(t.extractedUrl),r,o);this.triggerEvent(u),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){h.$Z()},n.\u0275prov=h.Yz7({token:n,factory:function(){return Xw()},providedIn:"root"}),n})();function My(n){return"imperative"!==n}class ky{}let Ny=(()=>{class n{constructor(t,r,o,u,d){this.router=t,this.injector=o,this.preloadingStrategy=u,this.loader=d}setUpPreloading(){this.subscription=this.router.events.pipe(D(t=>t instanceof Vu),Ne(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const u of r){u.providers&&!u._injector&&(u._injector=(0,h.MMx)(u.providers,t,`Route: ${u.path}`));const d=u._injector??t,m=u._loadedInjector??d;u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent?o.push(this.preloadConfig(d,u)):(u.children||u._loadedRoutes)&&o.push(this.processRoutes(m,u.children??u._loadedRoutes))}return(0,Sn.D)(o).pipe((0,El.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):mt(null);const u=o.pipe((0,A.z)(d=>null===d?mt(void 0):(r._loadedRoutes=d.routes,r._loadedInjector=d.injector,this.processRoutes(d.injector??t,d.routes))));if(r.loadComponent&&!r._loadedComponent){const d=this.loader.loadComponent(r);return(0,Sn.D)([u,d]).pipe((0,El.J)())}return u})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ui),h.LFG(h.Sil),h.LFG(h.lqb),h.LFG(ky),h.LFG(xy))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Cc=new h.OlP("");let n0=(()=>{class n{constructor(t,r,o={}){this.router=t,this.viewportScroller=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof _d?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Vu&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof vc&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new vc(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){h.$Z()},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function Dc(n,e){return{\u0275kind:n,\u0275providers:e}}function ef(n){return[{provide:Sy,multi:!0,useValue:n}]}function bC(){const n=(0,h.f3M)(h.zs3);return e=>{const t=n.get(h.z2F);if(e!==t.components[0])return;const r=n.get(ui),o=n.get(Ry);1===n.get(Oy)&&r.initialNavigation(),n.get(yo,null,h.XFs.Optional)?.setUpPreloading(),n.get(Cc,null,h.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),o.next(),o.complete()}}const Ry=new h.OlP("",{factory:()=>new Ni.x}),Oy=new h.OlP("",{providedIn:"root",factory:()=>1});const yo=new h.OlP("");function CC(n){return Dc(0,[{provide:yo,useExisting:Ny},{provide:ky,useExisting:n}])}const o0=new h.OlP("ROUTER_FORROOT_GUARD"),TC=[De,{provide:Fh,useClass:fd},{provide:ui,useFactory:Xw},xd,{provide:Uu,useFactory:function r0(n){return n.routerState.root},deps:[ui]},xy];function a0(){return new h.PXZ("Router",ui)}let u0=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[TC,[],ef(t),{provide:o0,useFactory:l0,deps:[[ui,new h.FiY,new h.tp0]]},{provide:Qh,useValue:r||{}},r?.useHash?{provide:we,useClass:rt}:{provide:we,useClass:Pe},{provide:Cc,useFactory:()=>{const n=(0,h.f3M)(ui),e=(0,h.f3M)(da),t=(0,h.f3M)(Qh);return t.scrollOffset&&e.setOffset(t.scrollOffset),new n0(n,e,t)}},r?.preloadingStrategy?CC(r.preloadingStrategy).\u0275providers:[],{provide:h.PXZ,multi:!0,useFactory:a0},r?.initialNavigation?c0(r):[],[{provide:Py,useFactory:bC},{provide:h.tb,multi:!0,useExisting:Py}]]}}static forChild(t){return{ngModule:n,providers:[ef(t)]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(o0,8))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[f]}),n})();function l0(n){return"guarded"}function c0(n){return["disabled"===n.initialNavigation?Dc(3,[{provide:h.ip1,multi:!0,useFactory:()=>{const e=(0,h.f3M)(ui);return()=>{e.setUpLocationChangeListener()}}},{provide:Oy,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Dc(2,[{provide:Oy,useValue:0},{provide:h.ip1,multi:!0,deps:[h.zs3],useFactory:e=>{const t=e.get(H,Promise.resolve());let r=!1;return()=>t.then(()=>new Promise(u=>{const d=e.get(ui),m=e.get(Ry);(function o(u){e.get(ui).events.pipe(D(m=>m instanceof Vu||m instanceof wd||m instanceof Lp),(0,ut.U)(m=>m instanceof Vu||m instanceof wd&&(0===m.code||1===m.code)&&null),D(m=>null!==m),Vn(1)).subscribe(()=>{u()})})(()=>{u(!0),r=!0}),d.afterPreactivation=()=>(u(!0),r||m.closed?mt(void 0):m),d.initialNavigation()}))}}]).\u0275providers:[]]}const Py=new h.OlP("");let d0=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-header"]],decls:23,vars:0,consts:[[1,"navbar","sticky-top","navbar-expand-lg","navbar-bg"],[1,"container","transparent-header","d-inline-flex"],["href","#",1,"navbar-brand","text-uppercase","ms-3"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler","me-3","border","border-white"],[1,"fas","fa-bars","text-white"],["id","navbarSupportedContent",1,"collapse","navbar-collapse","text-center"],[1,"navbar-nav","mb-2","mb-lg-0","fs-5","ms-auto","w-100","justify-content-end"],[1,"nav-item"],["href","#education",1,"nav-link","text-uppercase","fst-italic"],["href","#trainings",1,"nav-link","text-uppercase","fst-italic"],["href","#projects",1,"nav-link","text-uppercase","fst-italic"],["href","#skills",1,"nav-link","text-uppercase","fst-italic"],["href","#contact",1,"nav-link","text-uppercase","fst-italic"]],template:function(t,r){1&t&&(h.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),h._uU(3,"G\xf3mez Daniel"),h.qZA(),h.TgZ(4,"button",3),h._UZ(5,"i",4),h.qZA(),h.TgZ(6,"div",5)(7,"ul",6)(8,"li",7)(9,"a",8),h._uU(10,"Educaci\xf3n"),h.qZA()(),h.TgZ(11,"li",7)(12,"a",9),h._uU(13,"Capacitaciones"),h.qZA()(),h.TgZ(14,"li",7)(15,"a",10),h._uU(16,"Proyectos"),h.qZA()(),h.TgZ(17,"li",7)(18,"a",11),h._uU(19,"Tecnolog\xedas"),h.qZA()(),h.TgZ(20,"li",7)(21,"a",12),h._uU(22,"Contacto"),h.qZA()()()()()())},styles:[".transparent-header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff}.transparent-header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{opacity:.6;font-weight:700;color:#000;cursor:pointer;background-color:#fff}"]}),n})(),MC=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-about-me"]],decls:22,vars:0,consts:[[1,"row","mt-5"],[1,"col-lg-8","col-md-12","col-12","mx-auto"],[1,"row","shadow-lg","p-3"],[1,"card-title","text-center","mb-3"],[1,"card-text"],[1,"w-75","mx-auto"],[1,"text-center"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),h._uU(4,"Sobre m\xed"),h.qZA(),h.TgZ(5,"p",4),h._uU(6," Soy una persona responsable, con buena adaptaci\xf3n y capacidad de trabajar en equipo. Adem\xe1s, me considero una persona autodidacta y con ganas de aprender nuevas tecnolog\xedas. Si bien cuento con conocimientos tanto back-end como front-end, me interesar\xeda aumentar mis conocimientos en el back-end, para poder convertirme en un futuro en desarrollador full-stack. "),h.qZA(),h._UZ(7,"hr",5),h.TgZ(8,"h4",3),h._uU(9,"Informaci\xf3n b\xe1sica"),h.qZA(),h.TgZ(10,"p",6)(11,"b"),h._uU(12,"Fecha de nacimiento:"),h.qZA(),h._uU(13," 17/05/1995"),h.qZA(),h.TgZ(14,"p",6)(15,"b"),h._uU(16,"Domicilio:"),h.qZA(),h._uU(17," Monte Grande, Buenos Aires, Argentina"),h.qZA(),h.TgZ(18,"p",6)(19,"b"),h._uU(20,"Celular:"),h.qZA(),h._uU(21," 1133300167"),h.qZA()()()())}}),n})(),f0=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Qsj),h.Y36(h.SBq))},n.\u0275dir=h.lG2({type:n}),n})(),Tc=(()=>{class n extends f0{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,features:[h.qOj]}),n})();const zu=new h.OlP("NgValueAccessor"),Ac={provide:zu,useExisting:(0,h.Gpc)(()=>Fd),multi:!0},Ly=new h.OlP("CompositionEventMode");let Fd=(()=>{class n extends f0{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function kC(){const n=L()?L().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(Ly,8))},n.\u0275dir=h.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&h.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[h._Bn([Ac]),h.qOj]}),n})();function Sc(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function RC(n){return null!=n&&"number"==typeof n.length}const os=new h.OlP("NgValidators"),Nl=new h.OlP("NgAsyncValidators"),g0=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Vy{static min(e){return function m0(n){return e=>{if(Sc(e.value)||Sc(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function xc(n){return e=>{if(Sc(e.value)||Sc(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function y0(n){return Sc(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function Uy(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function tf(n){return Sc(n.value)||g0.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function v0(n){return e=>Sc(e.value)||!RC(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function By(n){return e=>RC(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function _0(n){if(!n)return ug;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Sc(r.value))return null;const o=r.value;return e.test(o)?null:{pattern:{requiredPattern:t,actualValue:o}}}}(e)}static nullValidator(e){return null}static compose(e){return $y(e)}static composeAsync(e){return PC(e)}}function ug(n){return null}function w0(n){return null!=n}function b0(n){return(0,h.QGY)(n)?(0,Sn.D)(n):n}function E0(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function jy(n,e){return e.map(t=>t(n))}function Hy(n){return n.map(e=>function OC(n){return!n.validate}(e)?e:t=>e.validate(t))}function $y(n){if(!n)return null;const e=n.filter(w0);return 0==e.length?null:function(t){return E0(jy(t,e))}}function nf(n){return null!=n?$y(Hy(n)):null}function PC(n){if(!n)return null;const e=n.filter(w0);return 0==e.length?null:function(t){return function h0(...n){const e=(0,ts.jO)(n),{args:t,keys:r}=Su(n),o=new zr.y(u=>{const{length:d}=t;if(!d)return void u.complete();const m=new Array(d);let w=d,T=d;for(let M=0;M<d;M++){let O=!1;(0,ho.Xf)(t[M]).subscribe((0,Dr.x)(u,q=>{O||(O=!0,T--),m[M]=q},()=>w--,void 0,()=>{(!w||!O)&&(T||u.next(r?Ma(r,m):m),u.complete())}))}});return e?o.pipe(Mu(e)):o}(jy(t,e).map(b0)).pipe((0,ut.U)(E0))}}function rf(n){return null!=n?PC(Hy(n)):null}function I0(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function FC(n){return n._rawValidators}function Mc(n){return n._rawAsyncValidators}function lg(n){return n?Array.isArray(n)?n:[n]:[]}function sf(n,e){return Array.isArray(n)?n.includes(e):n===e}function af(n,e){const t=lg(e);return lg(n).forEach(o=>{sf(t,o)||t.push(o)}),t}function vo(n,e){return lg(e).filter(t=>!sf(n,t))}class Gy{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=nf(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=rf(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class as extends Gy{get formDirective(){return null}get path(){return null}}class ja extends Gy{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ha{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let cg=(()=>{class n extends Ha{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(ja,2))},n.\u0275dir=h.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&h.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[h.qOj]}),n})(),VC=(()=>{class n extends Ha{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(as,10))},n.\u0275dir=h.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&h.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[h.qOj]}),n})();const uf="VALID",Vd="INVALID",lf="PENDING",pg="DISABLED";function x0(n){return(Wy(n)?n.validators:n)||null}function jC(n){return Array.isArray(n)?nf(n):n||null}function M0(n,e){return(Wy(e)?e.asyncValidators:n)||null}function HC(n){return Array.isArray(n)?rf(n):n||null}function Wy(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function $C(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new h.vHH(1e3,"");if(!r[t])throw new h.vHH(1001,"")}function GC(n,e,t){n._forEachChild((r,o)=>{if(void 0===t[o])throw new h.vHH(1002,"")})}class Zy{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=jC(this._rawValidators),this._composedAsyncValidatorFn=HC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===uf}get invalid(){return this.status===Vd}get pending(){return this.status==lf}get disabled(){return this.status===pg}get enabled(){return this.status!==pg}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=jC(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=HC(e)}addValidators(e){this.setValidators(af(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(af(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(vo(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(vo(e,this._rawAsyncValidators))}hasValidator(e){return sf(this._rawValidators,e)}hasAsyncValidator(e){return sf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=lf,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=pg,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=uf,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===uf||this.status===lf)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?pg:uf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=lf,this._hasOwnPendingAsyncValidator=!0;const t=b0(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,o)=>r&&r._find(o),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new h.vpe,this.statusChanges=new h.vpe}_calculateStatus(){return this._allControlsDisabled()?pg:this.errors?Vd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(lf)?lf:this._anyControlsHaveStatus(Vd)?Vd:uf}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Wy(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class _o extends Zy{constructor(e,t,r){super(x0(t),M0(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){GC(this,0,e),Object.keys(e).forEach(r=>{$C(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const o=this.controls[r];o&&o.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,o)=>((r.enabled||this.disabled)&&(t[o]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,u)=>{r=t(r,o,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class Ky extends _o{}function kc(n,e){Yy(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function O0(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&P0(n,e)})}(n,e),function yg(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function zC(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&P0(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function R0(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function gg(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),mg(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Yo(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Yy(n,e){const t=FC(n);null!==e.validator?n.setValidators(I0(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=Mc(n);null!==e.asyncValidator?n.setAsyncValidators(I0(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();Yo(e._rawValidators,o),Yo(e._rawAsyncValidators,o)}function mg(n,e){let t=!1;if(null!==n){if(null!==e.validator){const o=FC(n);if(Array.isArray(o)&&o.length>0){const u=o.filter(d=>d!==e.validator);u.length!==o.length&&(t=!0,n.setValidators(u))}}if(null!==e.asyncValidator){const o=Mc(n);if(Array.isArray(o)&&o.length>0){const u=o.filter(d=>d!==e.asyncValidator);u.length!==o.length&&(t=!0,n.setAsyncValidators(u))}}}const r=()=>{};return Yo(e._rawValidators,r),Yo(e._rawAsyncValidators,r),t}function P0(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function F0(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function tv(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Ud=class extends Zy{constructor(e=null,t,r){super(x0(t),M0(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Wy(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=tv(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){F0(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){F0(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){tv(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let j0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),iv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();const ov=new h.OlP("NgModelWithFormControlWarning"),QC={provide:as,useExisting:(0,h.Gpc)(()=>Eg)};let Eg=(()=>{class n extends as{constructor(t,r){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new h.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(mg(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return kc(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){gg(t.control||null,t,!1),function ev(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function _g(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,o=this.form.get(t.path);r!==o&&(gg(r||null,t),(n=>n instanceof Ud)(o)&&(kc(o,t),t.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function Nc(n,e){Yy(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function Qy(n,e){return mg(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Yy(this.form,this),this._oldForm&&mg(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(os,10),h.Y36(Nl,10))},n.\u0275dir=h.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&h.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h._Bn([QC]),h.qOj,h.TTD]}),n})();const lv={provide:ja,useExisting:(0,h.Gpc)(()=>Bd)};let Bd=(()=>{class n extends ja{constructor(t,r,o,u,d){super(),this._ngModelWarningConfig=d,this._added=!1,this.update=new h.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function wg(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(u=>{u.constructor===Fd?t=u:function Xy(n){return Object.getPrototypeOf(n.constructor)===Tc}(u)?r=u:o=u}),o||r||t||null}(0,u)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function vg(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function cf(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(h.Y36(as,13),h.Y36(os,10),h.Y36(Nl,10),h.Y36(zu,10),h.Y36(ov,8))},n.\u0275dir=h.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[h._Bn([lv]),h.qOj,h.TTD]}),n})(),sD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[iv]}),n})(),mf=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:ov,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[sD]}),n})();class Ol extends Zy{constructor(e,t,r){super(x0(t),M0(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let o=this._adjustIndex(e);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),t&&(this.controls.splice(o,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){GC(this,0,e),e.forEach((r,o)=>{$C(this,!1,o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function X0(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let oD=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const o=this._reduceControls(t);let u={};return X0(r)?u=r:null!==r&&(u.validators=r.validator,u.asyncValidators=r.asyncValidator),new _o(o,u)}record(t,r=null){const o=this._reduceControls(t);return new Ky(o,r)}control(t,r,o){let u={};return this.useNonNullable?(X0(r)?u=r:(u.validators=r,u.asyncValidators=o),new Ud(t,{...u,nonNullable:!0})):new Ud(t,r,o)}array(t,r,o){const u=t.map(d=>this._createControl(d));return new Ol(u,r,o)}_reduceControls(t){const r={};return Object.keys(t).forEach(o=>{r[o]=this._createControl(t[o])}),r}_createControl(t){return t instanceof Ud||t instanceof Zy?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:mf}),n})();var Pl=V(7123),Li=V(5226),Rc=V.n(Li);class yf{}class js{}class Jo{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const o=t.slice(0,r),u=o.toLowerCase(),d=t.slice(r+1).trim();this.maybeSetNormalizedName(o,u),this.headers.has(u)?this.headers.get(u).push(d):this.headers.set(u,[d])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const o=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(o,r),this.maybeSetNormalizedName(t,o))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Jo?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Jo;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Jo?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const o=("a"===e.op?this.headers.get(t):void 0)||[];o.push(...r),this.headers.set(t,o);break;case"d":const u=e.value;if(u){let d=this.headers.get(t);if(!d)return;d=d.filter(m=>-1===u.indexOf(m)),0===d.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,d)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Gd{encodeKey(e){return Oc(e)}encodeValue(e){return Oc(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const qd=/%(\d[a-f0-9])/gi,Wd={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Oc(n){return encodeURIComponent(n).replace(qd,(e,t)=>Wd[t]??e)}function Zu(n){return`${n}`}class Hs{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Gd,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function zd(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(o=>{const u=o.indexOf("="),[d,m]=-1==u?[e.decodeKey(o),""]:[e.decodeKey(o.slice(0,u)),e.decodeValue(o.slice(u+1))],w=t.get(d)||[];w.push(m),t.set(d,w)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],o=Array.isArray(r)?r.map(Zu):[Zu(r)];this.map.set(t,o)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const o=e[r];Array.isArray(o)?o.forEach(u=>{t.push({param:r,value:u,op:"a"})}):t.push({param:r,value:o,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Hs({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Zu(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const o=r.indexOf(Zu(e.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class tb{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function mv(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function yv(n){return typeof Blob<"u"&&n instanceof Blob}function vv(n){return typeof FormData<"u"&&n instanceof FormData}class Zd{constructor(e,t,r,o){let u;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function nb(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,u=o):u=r,u&&(this.reportProgress=!!u.reportProgress,this.withCredentials=!!u.withCredentials,u.responseType&&(this.responseType=u.responseType),u.headers&&(this.headers=u.headers),u.context&&(this.context=u.context),u.params&&(this.params=u.params)),this.headers||(this.headers=new Jo),this.context||(this.context=new tb),this.params){const d=this.params.toString();if(0===d.length)this.urlWithParams=t;else{const m=t.indexOf("?");this.urlWithParams=t+(-1===m?"?":m<t.length-1?"&":"")+d}}else this.params=new Hs,this.urlWithParams=t}serializeBody(){return null===this.body?null:mv(this.body)||yv(this.body)||vv(this.body)||function rb(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Hs?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||vv(this.body)?null:yv(this.body)?this.body.type||null:mv(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Hs?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,o=e.responseType||this.responseType,u=void 0!==e.body?e.body:this.body,d=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,m=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let w=e.headers||this.headers,T=e.params||this.params;const M=e.context??this.context;return void 0!==e.setHeaders&&(w=Object.keys(e.setHeaders).reduce((O,q)=>O.set(q,e.setHeaders[q]),w)),e.setParams&&(T=Object.keys(e.setParams).reduce((O,q)=>O.set(q,e.setParams[q]),T)),new Zd(t,r,u,{params:T,headers:w,context:M,reportProgress:m,responseType:o,withCredentials:d})}}var Pr=(()=>((Pr=Pr||{})[Pr.Sent=0]="Sent",Pr[Pr.UploadProgress=1]="UploadProgress",Pr[Pr.ResponseHeader=2]="ResponseHeader",Pr[Pr.DownloadProgress=3]="DownloadProgress",Pr[Pr.Response=4]="Response",Pr[Pr.User=5]="User",Pr))();class Ag{constructor(e,t=200,r="OK"){this.headers=e.headers||new Jo,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class _v extends Ag{constructor(e={}){super(e),this.type=Pr.ResponseHeader}clone(e={}){return new _v({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Sg extends Ag{constructor(e={}){super(e),this.type=Pr.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Sg({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class wv extends Ag{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function bv(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let ib=(()=>{class n{constructor(t){this.handler=t}request(t,r,o={}){let u;if(t instanceof Zd)u=t;else{let w,T;w=o.headers instanceof Jo?o.headers:new Jo(o.headers),o.params&&(T=o.params instanceof Hs?o.params:new Hs({fromObject:o.params})),u=new Zd(t,r,void 0!==o.body?o.body:null,{headers:w,context:o.context,params:T,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const d=mt(u).pipe(Ne(w=>this.handler.handle(w)));if(t instanceof Zd||"events"===o.observe)return d;const m=d.pipe(D(w=>w instanceof Sg));switch(o.observe||"body"){case"body":switch(u.responseType){case"arraybuffer":return m.pipe((0,ut.U)(w=>{if(null!==w.body&&!(w.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return w.body}));case"blob":return m.pipe((0,ut.U)(w=>{if(null!==w.body&&!(w.body instanceof Blob))throw new Error("Response is not a Blob.");return w.body}));case"text":return m.pipe((0,ut.U)(w=>{if(null!==w.body&&"string"!=typeof w.body)throw new Error("Response is not a string.");return w.body}));default:return m.pipe((0,ut.U)(w=>w.body))}case"response":return m;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Hs).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,o={}){return this.request("PATCH",t,bv(o,r))}post(t,r,o={}){return this.request("POST",t,bv(o,r))}put(t,r,o={}){return this.request("PUT",t,bv(o,r))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(yf))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class xg{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const Mg=new h.OlP("HTTP_INTERCEPTORS");let aD=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const lb=/^\)\]\}',?\n/;let kg=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new zr.y(r=>{const o=this.xhrFactory.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach((X,pe)=>o.setRequestHeader(X,pe.join(","))),t.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const X=t.detectContentTypeHeader();null!==X&&o.setRequestHeader("Content-Type",X)}if(t.responseType){const X=t.responseType.toLowerCase();o.responseType="json"!==X?X:"text"}const u=t.serializeBody();let d=null;const m=()=>{if(null!==d)return d;const X=o.statusText||"OK",pe=new Jo(o.getAllResponseHeaders()),je=function cb(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(o)||t.url;return d=new _v({headers:pe,status:o.status,statusText:X,url:je}),d},w=()=>{let{headers:X,status:pe,statusText:je,url:ze}=m(),_t=null;204!==pe&&(_t=typeof o.response>"u"?o.responseText:o.response),0===pe&&(pe=_t?200:0);let Bt=pe>=200&&pe<300;if("json"===t.responseType&&"string"==typeof _t){const Qt=_t;_t=_t.replace(lb,"");try{_t=""!==_t?JSON.parse(_t):null}catch(Jt){_t=Qt,Bt&&(Bt=!1,_t={error:Jt,text:_t})}}Bt?(r.next(new Sg({body:_t,headers:X,status:pe,statusText:je,url:ze||void 0})),r.complete()):r.error(new wv({error:_t,headers:X,status:pe,statusText:je,url:ze||void 0}))},T=X=>{const{url:pe}=m(),je=new wv({error:X,status:o.status||0,statusText:o.statusText||"Unknown Error",url:pe||void 0});r.error(je)};let M=!1;const O=X=>{M||(r.next(m()),M=!0);let pe={type:Pr.DownloadProgress,loaded:X.loaded};X.lengthComputable&&(pe.total=X.total),"text"===t.responseType&&!!o.responseText&&(pe.partialText=o.responseText),r.next(pe)},q=X=>{let pe={type:Pr.UploadProgress,loaded:X.loaded};X.lengthComputable&&(pe.total=X.total),r.next(pe)};return o.addEventListener("load",w),o.addEventListener("error",T),o.addEventListener("timeout",T),o.addEventListener("abort",T),t.reportProgress&&(o.addEventListener("progress",O),null!==u&&o.upload&&o.upload.addEventListener("progress",q)),o.send(u),r.next({type:Pr.Sent}),()=>{o.removeEventListener("error",T),o.removeEventListener("abort",T),o.removeEventListener("load",w),o.removeEventListener("timeout",T),t.reportProgress&&(o.removeEventListener("progress",O),null!==u&&o.upload&&o.upload.removeEventListener("progress",q)),o.readyState!==o.DONE&&o.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Ki))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Ng=new h.OlP("XSRF_COOKIE_NAME"),Cv=new h.OlP("XSRF_HEADER_NAME");class Dv{}let db=(()=>{class n{constructor(t,r,o){this.doc=t,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ao(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(se),h.LFG(h.Lbi),h.LFG(Ng))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Rg=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const o=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||o.startsWith("http://")||o.startsWith("https://"))return r.handle(t);const u=this.tokenService.getToken();return null!==u&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,u)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Dv),h.LFG(Cv))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),lD=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(Mg,[]);this.chain=r.reduceRight((o,u)=>new xg(o,u),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(js),h.LFG(h.zs3))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),cD=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:Rg,useClass:aD}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:Ng,useValue:t.cookieName}:[],t.headerName?{provide:Cv,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[Rg,{provide:Mg,useExisting:Rg,multi:!0},{provide:Dv,useClass:db},{provide:Ng,useValue:"XSRF-TOKEN"},{provide:Cv,useValue:"X-XSRF-TOKEN"}]}),n})(),Tv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[ib,{provide:yf,useClass:lD},kg,{provide:js,useExisting:kg}],imports:[cD.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})(),fb=(()=>{class n{constructor(t){this.http=t,this.url="https://getform.io/f/40fcc5c0-989c-440b-9e22-9c83cf710fc6"}sendMessage(t){return this.http.post(this.url,t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ib))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function pb(n,e){1&n&&(h.TgZ(0,"p",11),h._uU(1,"El nombre es obligatorio"),h.qZA())}function gb(n,e){1&n&&(h.TgZ(0,"p",11),h._uU(1,"El email es obligatorio"),h.qZA())}function mb(n,e){1&n&&(h.TgZ(0,"p",11),h._uU(1,"El mensaje es obligatorio"),h.qZA())}let yb=(()=>{class n{constructor(t,r){this.fb=t,this.contact=r}ngOnInit(){Pl.init(),this.createForm()}createForm(){this.form=this.fb.group({name:["",Vy.required],email:["",[Vy.required,Vy.email]],message:["",Vy.required]})}invalidForm(){return Object.values(this.form.controls).forEach(t=>t.markAsTouched())}invalidInput(t){return this.form.get(t)?.invalid&&this.form.get(t)?.touched}onSubmit(){this.form.invalid?this.invalidForm():(Rc().fire("Mensaje enviado con exito","","success"),this.contact.sendMessage(this.form.value).subscribe(),this.form.reset())}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(oD),h.Y36(fb))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-contact"]],decls:17,vars:10,consts:[["id","contact",1,"col-lg-5","col-md-8","col-sm-12","col-12","mx-auto","overflow-hidden"],["data-aos","flip-up","data-aos-duration","600","data-aos-anchor-placement","bottom-bottom",1,"card","p-5","border-0","rounded-4","my-3"],[3,"formGroup","ngSubmit"],[1,"fs-4","fw-bold","text-uppercase","text-center","mb-5","text-black"],[1,"mb-3"],["type","name","id","name","formControlName","name","placeholder","Nombre",1,"form-control","form-control-lg","px-4","py-1"],["class","text-danger text-center",4,"ngIf"],["type","email","id","email","formControlName","email","placeholder","Email",1,"form-control","form-control-lg","px-4","py-1"],["name","message","formControlName","message","cols","30","rows","3",1,"form-control","form-control-lg","px-4","py-1"],[1,"d-grid","gap-2"],["type","submit",1,"btn","purple-button","btn-rounded","p-3","fw-bold","text-uppercase","mt-3"],[1,"text-danger","text-center"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0)(1,"div",1)(2,"form",2),h.NdJ("ngSubmit",function(){return r.onSubmit()}),h.TgZ(3,"p",3),h._uU(4,"Contactame"),h.qZA(),h.TgZ(5,"div",4),h._UZ(6,"input",5),h.YNc(7,pb,2,0,"p",6),h.qZA(),h.TgZ(8,"div",4),h._UZ(9,"input",7),h.YNc(10,gb,2,0,"p",6),h.qZA(),h.TgZ(11,"div",4),h._UZ(12,"textarea",8),h.YNc(13,mb,2,0,"p",6),h.qZA(),h.TgZ(14,"div",9)(15,"button",10),h._uU(16,"enviar mensaje"),h.qZA()()()()()),2&t&&(h.xp6(2),h.Q6J("formGroup",r.form),h.xp6(4),h.ekj("is-invalid",r.invalidInput("name")),h.xp6(1),h.Q6J("ngIf",r.invalidInput("name")),h.xp6(2),h.ekj("is-invalid",r.invalidInput("email")),h.xp6(1),h.Q6J("ngIf",r.invalidInput("email")),h.xp6(2),h.ekj("is-invalid",r.invalidInput("message")),h.xp6(1),h.Q6J("ngIf",r.invalidInput("message")))},dependencies:[ir,j0,Fd,cg,VC,Eg,Bd],styles:[".purple-button[_ngcontent-%COMP%]{background-color:#a7539e;color:#fff}.purple-button[_ngcontent-%COMP%]:hover{background-color:#822a79;color:#fff}"]}),n})();var vb=V(4986),_i=V(5813);function _b(){return(0,qr.e)((n,e)=>{let t,r=!1;n.subscribe((0,Dr.x)(e,o=>{const u=t;t=o,r&&e.next([u,o]),r=!0}))})}function fD(n,e){return n===e}var dt,wo=V(2011),Zr=(V(9545),V(3942)),Se=V(5861),Pc=V(9681),Og=V(4859),Ku=V(1877),Dn=V(2090),wb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$a={},Av=Av||{},Zt=wb||self;function wf(){}function Pg(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Kd(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Fg="closure_uid_"+(1e9*Math.random()>>>0),Sv=0;function Ga(n,e,t){return n.call.apply(n.bind,arguments)}function pD(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function Vi(n,e,t){return(Vi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ga:pD).apply(null,arguments)}function $s(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function zn(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,o,u){for(var d=Array(arguments.length-2),m=2;m<arguments.length;m++)d[m-2]=arguments[m];return e.prototype[o].apply(r,d)}}function li(){this.s=this.s,this.o=this.o}var Eb={};li.prototype.s=!1,li.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function ix(n){return Object.prototype.hasOwnProperty.call(n,Fg)&&n[Fg]||(n[Fg]=++Sv)}(this);delete Eb[n]}},li.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ib=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function xv(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Cb(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Pg(r)){const o=n.length||0,u=r.length||0;n.length=o+u;for(let d=0;d<u;d++)n[o+d]=r[d]}else n.push(r)}}function Ui(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Ui.prototype.h=function(){this.defaultPrevented=!0};var Mv=function(){if(!Zt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Zt.addEventListener("test",wf,e),Zt.removeEventListener("test",wf,e)}catch{}return n}();function Fl(n){return/^[\s\xa0]*$/.test(n)}var Db=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Lg(n,e){return n<e?-1:n>e?1:0}function Vg(){var n=Zt.navigator;return n&&(n=n.userAgent)?n:""}function Xo(n){return-1!=Vg().indexOf(n)}function Ug(n){return Ug[" "](n),n}Ug[" "]=wf;var If,n,gD=Xo("Opera"),Fc=Xo("Trident")||Xo("MSIE"),kv=Xo("Edge"),bf=kv||Fc,Ef=Xo("Gecko")&&!(-1!=Vg().toLowerCase().indexOf("webkit")&&!Xo("Edge"))&&!(Xo("Trident")||Xo("MSIE"))&&!Xo("Edge"),Tb=-1!=Vg().toLowerCase().indexOf("webkit")&&!Xo("Edge");function Nv(){var n=Zt.document;return n?n.documentMode:void 0}e:{var jg="",Hg=(n=Vg(),Ef?/rv:([^\);]+)(\)|;)/.exec(n):kv?/Edge\/([\d\.]+)/.exec(n):Fc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Tb?/WebKit\/(\S+)/.exec(n):gD?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Hg&&(jg=Hg?Hg[1]:""),Fc){var $g=Nv();if(null!=$g&&$g>parseFloat(jg)){If=String($g);break e}}If=jg}var Ab={};var mD=Zt.document&&Fc&&(Nv()||parseInt(If,10))||void 0;function Cf(n,e){if(Ui.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Ef){e:{try{Ug(e.nodeName);var o=!0;break e}catch{}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:yD[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Cf.X.h.call(this)}}zn(Cf,Ui);var yD={2:"touch",3:"pen",4:"mouse"};Cf.prototype.h=function(){Cf.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Df="closure_listenable_"+(1e6*Math.random()|0),vD=0;function _D(n,e,t,r,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=o,this.key=++vD,this.ba=this.ea=!1}function Gg(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function Ov(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Mb(n){const e={};for(const t in n)e[t]=n[t];return e}const kb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Nb(n,e){let t,r;for(let o=1;o<arguments.length;o++){for(t in r=arguments[o],r)n[t]=r[t];for(let u=0;u<kb.length;u++)t=kb[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function zg(n){this.src=n,this.g={},this.h=0}function Pv(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],o=Ib(r,e);(u=0<=o)&&Array.prototype.splice.call(r,o,1),u&&(Gg(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Fv(n,e,t,r){for(var o=0;o<n.length;++o){var u=n[o];if(!u.ba&&u.listener==e&&u.capture==!!t&&u.ha==r)return o}return-1}zg.prototype.add=function(n,e,t,r,o){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var d=Fv(n,e,r,o);return-1<d?(e=n[d],t||(e.ea=!1)):((e=new _D(e,this.src,u,!!r,o)).ea=t,n.push(e)),e};var Lv="closure_lm_"+(1e6*Math.random()|0),Vv={};function Uv(n,e,t,r,o){if(r&&r.once)return jv(n,e,t,r,o);if(Array.isArray(e)){for(var u=0;u<e.length;u++)Uv(n,e[u],t,r,o);return null}return t=Kg(t),n&&n[Df]?n.N(e,t,Kd(r)?!!r.capture:!!r,o):Bv(n,e,t,!1,r,o)}function Bv(n,e,t,r,o,u){if(!e)throw Error("Invalid event type");var d=Kd(o)?!!o.capture:!!o,m=Wg(n);if(m||(n[Lv]=m=new zg(n)),(t=m.add(e,t,r,d,u)).proxy)return t;if(r=function Rb(){const e=Ob;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Mv||(o=d),void 0===o&&(o=!1),n.addEventListener(e.toString(),r,o);else if(n.attachEvent)n.attachEvent($v(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function jv(n,e,t,r,o){if(Array.isArray(e)){for(var u=0;u<e.length;u++)jv(n,e[u],t,r,o);return null}return t=Kg(t),n&&n[Df]?n.O(e,t,Kd(r)?!!r.capture:!!r,o):Bv(n,e,t,!0,r,o)}function Hv(n,e,t,r,o){if(Array.isArray(e))for(var u=0;u<e.length;u++)Hv(n,e[u],t,r,o);else r=Kd(r)?!!r.capture:!!r,t=Kg(t),n&&n[Df]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Fv(u=n.g[e],t,r,o))&&(Gg(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=Wg(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Fv(e,t,r,o)),(t=-1<n?e[n]:null)&&qg(t))}function qg(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[Df])Pv(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent($v(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Wg(e))?(Pv(t,n),0==t.h&&(t.src=null,e[Lv]=null)):Gg(n)}}}function $v(n){return n in Vv?Vv[n]:Vv[n]="on"+n}function Ob(n,e){if(n.ba)n=!0;else{e=new Cf(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&qg(n),n=t.call(r,e)}return n}function Wg(n){return(n=n[Lv])instanceof zg?n:null}var Zg="__closure_events_fn_"+(1e9*Math.random()>>>0);function Kg(n){return"function"==typeof n?n:(n[Zg]||(n[Zg]=function(e){return n.handleEvent(e)}),n[Zg])}function cr(){li.call(this),this.i=new zg(this),this.P=this,this.I=null}function wi(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Ui(e,n);else if(e instanceof Ui)e.target=e.target||n;else{var o=e;Nb(e=new Ui(r,n),o)}if(o=!0,t)for(var u=t.length-1;0<=u;u--){var d=e.g=t[u];o=Yg(d,r,!0,e)&&o}if(o=Yg(d=e.g=n,r,!0,e)&&o,o=Yg(d,r,!1,e)&&o,t)for(u=0;u<t.length;u++)o=Yg(d=e.g=t[u],r,!1,e)&&o}function Yg(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,u=0;u<e.length;++u){var d=e[u];if(d&&!d.ba&&d.capture==t){var m=d.listener,w=d.ha||d.src;d.ea&&Pv(n.i,d),o=!1!==m.call(w,r)&&o}}return o&&!r.defaultPrevented}zn(cr,li),cr.prototype[Df]=!0,cr.prototype.removeEventListener=function(n,e,t,r){Hv(this,n,e,t,r)},cr.prototype.M=function(){if(cr.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Gg(t[r]);delete n.g[e],n.h--}}this.I=null},cr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},cr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Ll=Zt.JSON.stringify;function sx(){var n=Lb;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var xt,wD=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Pb,n=>n.reset());class Pb{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Fb(n){Zt.setTimeout(()=>{throw n},0)}function bD(n,e){xt||function ED(){var n=Zt.Promise.resolve(void 0);xt=function(){n.then(Yd)}}(),zv||(xt(),zv=!0),Lb.add(n,e)}var zv=!1,Lb=new class Gv{constructor(){this.h=this.g=null}add(e,t){const r=wD.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function Yd(){for(var n;n=sx();){try{n.h.call(n.g)}catch(t){Fb(t)}var e=wD;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}zv=!1}function Qg(n,e){cr.call(this),this.h=n||1,this.g=e||Zt,this.j=Vi(this.lb,this),this.l=Date.now()}function Qd(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function Jd(n,e,t){if("function"==typeof n)t&&(n=Vi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Vi(n.handleEvent,n)}return 2147483647<Number(e)?-1:Zt.setTimeout(n,e||0)}function yr(n){n.g=Jd(()=>{n.g=null,n.i&&(n.i=!1,yr(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}zn(Qg,cr),(dt=Qg.prototype).ca=!1,dt.R=null,dt.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),wi(this,"tick"),this.ca&&(Qd(this),this.start()))}},dt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},dt.M=function(){Qg.X.M.call(this),Qd(this),delete this.g};class ox extends li{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:yr(this)}M(){super.M(),this.g&&(Zt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xd(n){li.call(this),this.h=n,this.g={}}zn(Xd,li);var qv=[];function Vb(n,e,t,r){Array.isArray(t)||(t&&(qv[0]=t.toString()),t=qv);for(var o=0;o<t.length;o++){var u=Uv(e,t[o],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function Wv(n){Ov(n.g,function(e,t){this.g.hasOwnProperty(t)&&qg(e)},n),n.g={}}function Tf(){this.g=!0}function eh(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function CD(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var u=o[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var d=1;d<o.length;d++)o[d]=""}}}return Ll(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Xd.prototype.M=function(){Xd.X.M.call(this),Wv(this)},Xd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Tf.prototype.Aa=function(){this.g=!1},Tf.prototype.info=function(){};var ea={},jb=null;function Jg(){return jb=jb||new cr}function Hb(n){Ui.call(this,ea.Pa,n)}function Vl(n){const e=Jg();wi(e,new Hb(e,n))}function Zv(n,e){Ui.call(this,ea.STAT_EVENT,n),this.stat=e}function Bi(n){const e=Jg();wi(e,new Zv(e,n))}function Kv(n,e){Ui.call(this,ea.Qa,n),this.size=e}function Af(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Zt.setTimeout(function(){n()},e)}ea.Pa="serverreachability",zn(Hb,Ui),ea.STAT_EVENT="statevent",zn(Zv,Ui),ea.Qa="timingevent",zn(Kv,Ui);var Ul={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},th={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Yv(){}function Gb(){}Yv.prototype.h=null;var Qv,nh={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Xg(){Ui.call(this,"d")}function em(){Ui.call(this,"c")}function Sf(){}function xf(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new Xd(this),this.O=ax,this.T=new Qg(n=bf?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new zb}function zb(){this.i=null,this.g="",this.h=!1}zn(Xg,Ui),zn(em,Ui),zn(Sf,Yv),Sf.prototype.g=function(){return new XMLHttpRequest},Sf.prototype.i=function(){return{}},Qv=new Sf;var ax=45e3,qb={},Jv={};function Wb(n,e,t){n.K=1,n.v=rm(za(e)),n.s=t,n.P=!0,Xv(n,null)}function Xv(n,e){n.F=Date.now(),rh(n),n.A=za(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),nE(t.i,"t",r),n.C=0,t=n.l.H,n.h=new zb,n.g=yE(n.l,t?e:null,!n.s),0<n.N&&(n.L=new ox(Vi(n.La,n,n.g),n.N)),Vb(n.S,n.g,"readystatechange",n.ib),e=n.H?Mb(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),Vl(1),function Ub(n,e,t,r,o,u){n.info(function(){if(n.g)if(u)for(var d="",m=u.split("&"),w=0;w<m.length;w++){var T=m[w].split("=");if(1<T.length){var M=T[0];T=T[1];var O=M.split("_");d=2<=O.length&&"type"==O[1]?d+(M+"=")+T+"&":d+(M+"=redacted&")}}else d=null;else d=u;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.U,n.s)}function Mf(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function Zb(n,e,t){let o,r=!0;for(;!n.I&&n.C<t.length;){if(o=DD(n,t),o==Jv){4==e&&(n.o=4,Bi(14),r=!1),eh(n.j,n.m,null,"[Incomplete Response]");break}if(o==qb){n.o=4,Bi(15),eh(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}eh(n.j,n.m,o,null),e_(n,o)}Mf(n)&&o!=Jv&&o!=qb&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Bi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),__(e),e.K=!0,Bi(11))):(eh(n.j,n.m,t,"[Invalid Chunked Response]"),Lc(n),kf(n))}function DD(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Jv:(t=Number(e.substring(t,r)),isNaN(t)?qb:(r+=1)+t>e.length?Jv:(e=e.substr(r,t),n.C=r+t,e))}function rh(n){n.V=Date.now()+n.O,ih(n,n.O)}function ih(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Af(Vi(n.gb,n),e)}function tm(n){n.B&&(Zt.clearTimeout(n.B),n.B=null)}function kf(n){0==n.l.G||n.I||fE(n.l,n)}function Lc(n){tm(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Qd(n.T),Wv(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function e_(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||s_(t.h,n)))if(!n.J&&s_(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;cm(t),lm(t)}v_(t),Bi(18)}}else t.Ba=o[1],0<t.Ba-t.T&&37500>o[2]&&t.L&&0==t.A&&!t.v&&(t.v=Af(Vi(t.cb,t),6e3));if(1>=i_(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else jc(t,11)}else if((n.J||t.g==n)&&cm(t),!Fl(e))for(o=t.Fa.g.parse(e),e=0;e<o.length;e++){let T=o[e];if(t.T=T[0],T=T[1],2==t.G)if("c"==T[0]){t.I=T[1],t.ka=T[2];const M=T[3];null!=M&&(t.ma=M,t.j.info("VER="+t.ma));const O=T[4];null!=O&&(t.Ca=O,t.j.info("SVER="+t.Ca));const q=T[5];null!=q&&"number"==typeof q&&0<q&&(t.J=r=1.5*q,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const X=n.g;if(X){const pe=X.g?X.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pe){var u=r.h;u.g||-1==pe.indexOf("spdy")&&-1==pe.indexOf("quic")&&-1==pe.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(o_(u,u.h),u.h=null))}if(r.D){const je=X.g?X.g.getResponseHeader("X-HTTP-Session-Id"):null;je&&(r.za=je,er(r.F,r.D,je))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var d=n;if((r=t).sa=mE(r,r.H?r.ka:null,r.V),d.J){a_(r.h,d);var m=d,w=r.J;w&&m.setTimeout(w),m.B&&(tm(m),rh(m)),r.g=d}else PD(r);0<t.i.length&&y_(t)}else"stop"!=T[0]&&"close"!=T[0]||jc(t,7);else 3==t.G&&("stop"==T[0]||"close"==T[0]?"stop"==T[0]?jc(t,7):g_(t):"noop"!=T[0]&&t.l&&t.l.wa(T),t.A=0)}Vl(4)}catch{}}function Yb(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Pg(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Kb(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Pg(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function TD(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Pg(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),o=r.length,u=0;u<o;u++)e.call(void 0,r[u],t&&t[u],n)}(dt=xf.prototype).setTimeout=function(n){this.O=n},dt.ib=function(n){n=n.target;const e=this.L;e&&3==qa(n)?e.l():this.La(n)},dt.La=function(n){try{if(n==this.g)e:{const M=qa(this.g);var e=this.g.Ea();const O=this.g.aa();if(!(3>M)&&(3!=M||bf||this.g&&(this.h.h||this.g.fa()||f_(this.g)))){this.I||4!=M||7==e||Vl(8==e||0>=O?3:2),tm(this);var t=this.g.aa();this.Y=t;t:if(Mf(this)){var r=f_(this.g);n="";var o=r.length,u=4==qa(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Lc(this),kf(this);var d="";break t}this.h.i=new Zt.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==o-1});r.splice(0,o),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.fa();if(this.i=200==t,function Bb(n,e,t,r,o,u,d){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+u+" "+d})}(this.j,this.u,this.A,this.m,this.U,M,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var m,w=this.g;if((m=w.g?w.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Fl(m)){var T=m;break t}}T=null}if(!(t=T)){this.i=!1,this.o=3,Bi(12),Lc(this),kf(this);break e}eh(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,e_(this,t)}this.P?(Zb(this,M,d),bf&&this.i&&3==M&&(Vb(this.S,this.T,"tick",this.hb),this.T.start())):(eh(this.j,this.m,d,null),e_(this,d)),4==M&&Lc(this),this.i&&!this.I&&(4==M?fE(this.l,this):(this.i=!1,rh(this)))}else 400==t&&0<d.indexOf("Unknown SID")?(this.o=3,Bi(12)):(this.o=0,Bi(13)),Lc(this),kf(this)}}}catch{}},dt.hb=function(){if(this.g){var n=qa(this.g),e=this.g.fa();this.C<e.length&&(tm(this),Zb(this,n,e),this.i&&4!=n&&rh(this))}},dt.cancel=function(){this.I=!0,Lc(this)},dt.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function ID(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Vl(3),Bi(17)),Lc(this),this.o=2,kf(this)):ih(this,this.V-n)};var Qb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Vc(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Vc){this.h=void 0!==e?e:n.h,nm(this,n.j),this.s=n.s,this.g=n.g,Rf(this,n.m),this.l=n.l,e=n.i;var t=new Pf;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Jb(this,t),this.o=n.o}else n&&(t=String(n).match(Qb))?(this.h=!!e,nm(this,t[1]||"",!0),this.s=Uc(t[2]||""),this.g=Uc(t[3]||"",!0),Rf(this,t[4]),this.l=Uc(t[5]||"",!0),Jb(this,t[6]||"",!0),this.o=Uc(t[7]||"")):(this.h=!!e,this.i=new Pf(null,this.h))}function za(n){return new Vc(n)}function nm(n,e,t){n.j=t?Uc(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Rf(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Jb(n,e,t){e instanceof Pf?(n.i=e,function MD(n,e){e&&!n.j&&(Yu(n),n.i=null,n.g.forEach(function(t,r){var o=r.toLowerCase();r!=o&&(eE(this,r),nE(this,o,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Of(e,xD)),n.i=new Pf(e,n.h))}function er(n,e,t){n.i.set(e,t)}function rm(n){return er(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Uc(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Of(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Xb),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Xb(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Vc.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Of(e,t_,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Of(e,t_,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Of(t,"/"==t.charAt(0)?SD:AD,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Of(t,n_)),n.join("")};var t_=/[#\/\?@]/g,AD=/[#\?:]/g,SD=/[#\?]/g,xD=/[#\?@]/g,n_=/#/g;function Pf(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Yu(n){n.g||(n.g=new Map,n.h=0,n.i&&function Nf(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),o=null;if(0<=r){var u=n[t].substring(0,r);o=n[t].substring(r+1)}else u=n[t];e(u,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function eE(n,e){Yu(n),e=sh(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function tE(n,e){return Yu(n),e=sh(n,e),n.g.has(e)}function nE(n,e,t){eE(n,e),0<t.length&&(n.i=null,n.g.set(sh(n,e),xv(t)),n.h+=t.length)}function sh(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function rE(n){this.l=n||ND,n=Zt.PerformanceNavigationTiming?0<(n=Zt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Zt.g&&Zt.g.Ga&&Zt.g.Ga()&&Zt.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(dt=Pf.prototype).add=function(n,e){Yu(this),this.i=null,n=sh(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},dt.forEach=function(n,e){Yu(this),this.g.forEach(function(t,r){t.forEach(function(o){n.call(e,o,r,this)},this)},this)},dt.oa=function(){Yu(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const o=n[r];for(let u=0;u<o.length;u++)t.push(e[r])}return t},dt.W=function(n){Yu(this);let e=[];if("string"==typeof n)tE(this,n)&&(e=e.concat(this.g.get(sh(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},dt.set=function(n,e){return Yu(this),this.i=null,tE(this,n=sh(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},dt.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},dt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const u=encodeURIComponent(String(r)),d=this.W(r);for(r=0;r<d.length;r++){var o=u;""!==d[r]&&(o+="="+encodeURIComponent(String(d[r]))),n.push(o)}}return this.i=n.join("&")};var ND=10;function r_(n){return!!n.h||!!n.g&&n.g.size>=n.j}function i_(n){return n.h?1:n.g?n.g.size:0}function s_(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function o_(n,e){n.g?n.g.add(e):n.h=e}function a_(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function iE(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return xv(n.i)}function u_(){}function RD(){this.g=new u_}function l_(n,e,t){const r=t||"";try{Yb(n,function(o,u){let d=o;Kd(o)&&(d=Ll(o)),e.push(r+u+"="+encodeURIComponent(d))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function Ff(n,e,t,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch{}}function Bc(n){this.l=n.ac||null,this.j=n.jb||!1}function im(n,e){cr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=d_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}rE.prototype.cancel=function(){if(this.i=iE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},u_.prototype.stringify=function(n){return Zt.JSON.stringify(n,void 0)},u_.prototype.parse=function(n){return Zt.JSON.parse(n,void 0)},zn(Bc,Yv),Bc.prototype.g=function(){return new im(this.l,this.j)},Bc.prototype.i=function(n){return function(){return n}}({}),zn(im,cr);var d_=0;function sm(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function Lf(n){n.readyState=4,n.l=null,n.j=null,n.A=null,oh(n)}function oh(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(dt=im.prototype).open=function(n,e){if(this.readyState!=d_)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,oh(this)},dt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Zt).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},dt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Lf(this)),this.readyState=d_},dt.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,oh(this)),this.g&&(this.readyState=3,oh(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Zt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;sm(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},dt.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Lf(this):oh(this),3==this.readyState&&sm(this)}},dt.Va=function(n){this.g&&(this.response=this.responseText=n,Lf(this))},dt.Ua=function(n){this.g&&(this.response=n,Lf(this))},dt.ga=function(){this.g&&Lf(this)},dt.setRequestHeader=function(n,e){this.v.append(n,e)},dt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},dt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(im.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var ah=Zt.JSON.parse;function vr(n){cr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=sE,this.K=this.L=!1}zn(vr,cr);var sE="",ux=/^https?$/i,oE=["POST","PUT"];function aE(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,om(n),Vf(n)}function om(n){n.D||(n.D=!0,wi(n,"complete"),wi(n,"error"))}function uE(n){if(n.h&&typeof Av<"u"&&(!n.C[1]||4!=qa(n)||2!=n.aa()))if(n.v&&4==qa(n))Jd(n.Ha,0,n);else if(wi(n,"readystatechange"),4==qa(n)){n.h=!1;try{const m=n.aa();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===m){var o=String(n.H).match(Qb)[1]||null;if(!o&&Zt.self&&Zt.self.location){var u=Zt.self.location.protocol;o=u.substr(0,u.length-1)}r=!ux.test(o?o.toLowerCase():"")}t=r}if(t)wi(n,"complete"),wi(n,"success");else{n.m=6;try{var d=2<qa(n)?n.g.statusText:""}catch{d=""}n.j=d+" ["+n.aa()+"]",om(n)}}finally{Vf(n)}}}function Vf(n,e){if(n.g){am(n);const t=n.g,r=n.C[0]?wf:null;n.g=null,n.C=null,e||wi(n,"ready");try{t.onreadystatechange=r}catch{}}}function am(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Zt.clearTimeout(n.A),n.A=null)}function qa(n){return n.g?n.g.readyState:0}function f_(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case sE:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function p_(n){let e="";return Ov(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function um(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=p_(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):er(n,e,t))}function Uf(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function lE(n){this.Ca=0,this.i=[],this.j=new Tf,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Uf("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Uf("baseRetryDelayMs",5e3,n),this.bb=Uf("retryDelaySeedMs",1e4,n),this.$a=Uf("forwardChannelMaxRetries",2,n),this.ta=Uf("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new rE(n&&n.concurrentRequestLimit),this.Fa=new RD,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function g_(n){if(m_(n),3==n.G){var e=n.U++,t=za(n.F);er(t,"SID",n.I),er(t,"RID",e),er(t,"TYPE","terminate"),Bf(n,t),(e=new xf(n,n.j,e,void 0)).K=2,e.v=rm(za(t)),t=!1,Zt.navigator&&Zt.navigator.sendBeacon&&(t=Zt.navigator.sendBeacon(e.v.toString(),"")),!t&&Zt.Image&&((new Image).src=e.v,t=!0),t||(e.g=yE(e.l,null),e.g.da(e.v)),e.F=Date.now(),rh(e)}gE(n)}function lm(n){n.g&&(__(n),n.g.cancel(),n.g=null)}function m_(n){lm(n),n.u&&(Zt.clearTimeout(n.u),n.u=null),cm(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Zt.clearTimeout(n.m),n.m=null)}function y_(n){r_(n.h)||n.m||(n.m=!0,bD(n.Ja,n),n.C=0)}function dE(n,e){var t;t=e?e.m:n.U++;const r=za(n.F);er(r,"SID",n.I),er(r,"RID",t),er(r,"AID",n.T),Bf(n,r),n.o&&n.s&&um(r,n.o,n.s),t=new xf(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=OD(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),o_(n.h,t),Wb(t,r,e)}function Bf(n,e){n.ia&&Ov(n.ia,function(t,r){er(e,r,t)}),n.l&&Yb({},function(t,r){er(e,r,t)})}function OD(n,e,t){t=Math.min(n.i.length,t);var r=n.l?Vi(n.l.Ra,n.l,n):null;e:{var o=n.i;let u=-1;for(;;){const d=["count="+t];-1==u?0<t?(u=o[0].h,d.push("ofs="+u)):u=0:d.push("ofs="+u);let m=!0;for(let w=0;w<t;w++){let T=o[w].h;const M=o[w].g;if(T-=u,0>T)u=Math.max(0,o[w].h-100),m=!1;else try{l_(M,d,"req"+T+"_")}catch{r&&r(M)}}if(m){r=d.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function PD(n){n.g||n.u||(n.Z=1,bD(n.Ia,n),n.A=0)}function v_(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=Af(Vi(n.Ia,n),pE(n,n.A)),n.A++,0))}function __(n){null!=n.B&&(Zt.clearTimeout(n.B),n.B=null)}function hE(n){n.g=new xf(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=za(n.sa);er(e,"RID","rpc"),er(e,"SID",n.I),er(e,"CI",n.L?"0":"1"),er(e,"AID",n.T),er(e,"TYPE","xmlhttp"),Bf(n,e),n.o&&n.s&&um(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=rm(za(e)),t.s=null,t.P=!0,Xv(t,n)}function cm(n){null!=n.v&&(Zt.clearTimeout(n.v),n.v=null)}function fE(n,e){var t=null;if(n.g==e){cm(n),__(n),n.g=null;var r=2}else{if(!s_(n.h,e))return;t=e.D,a_(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var o=n.C;wi(r=Jg(),new Kv(r,t,e,o)),y_(n)}else PD(n);else if(3==(o=e.o)||0==o&&0<n.pa||!(1==r&&function cE(n,e){return!(i_(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=Af(Vi(n.Ja,n,e),pE(n,n.C)),n.C++,0)))}(n,e)||2==r&&v_(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),o){case 1:jc(n,5);break;case 4:jc(n,10);break;case 3:jc(n,6);break;default:jc(n,2)}}function pE(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function jc(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=Vi(n.kb,n);t||(t=new Vc("//www.google.com/images/cleardot.gif"),Zt.location&&"http"==Zt.location.protocol||nm(t,"https"),rm(t)),function c_(n,e){const t=new Tf;if(Zt.Image){const r=new Image;r.onload=$s(Ff,t,r,"TestLoadImage: loaded",!0,e),r.onerror=$s(Ff,t,r,"TestLoadImage: error",!1,e),r.onabort=$s(Ff,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=$s(Ff,t,r,"TestLoadImage: timeout",!1,e),Zt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Bi(2);n.G=0,n.l&&n.l.va(e),gE(n),m_(n)}function gE(n){if(n.G=0,n.la=[],n.l){const e=iE(n.h);(0!=e.length||0!=n.i.length)&&(Cb(n.la,e),Cb(n.la,n.i),n.h.i.length=0,xv(n.i),n.i.length=0),n.l.ua()}}function mE(n,e,t){var r=t instanceof Vc?za(t):new Vc(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),Rf(r,r.m);else{var o=Zt.location;r=o.protocol,e=e?e+"."+o.hostname:o.hostname,o=+o.port;var u=new Vc(null,void 0);r&&nm(u,r),e&&(u.g=e),o&&Rf(u,o),t&&(u.l=t),r=u}return e=n.za,(t=n.D)&&e&&er(r,t,e),er(r,"VER",n.ma),Bf(n,r),r}function yE(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new vr(t&&n.Da&&!n.ra?new Bc({jb:!0}):n.ra)).Ka(n.H),e}function vE(){}function dm(){if(Fc&&!(10<=Number(mD)))throw Error("Environmental error: no available transport.")}function bi(n,e){cr.call(this),this.g=new lE(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!Fl(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Fl(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Hc(this)}function w_(n){Xg.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function b_(){em.call(this),this.status=1}function Hc(n){this.g=n}(dt=vr.prototype).Ka=function(n){this.L=n},dt.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Qv.g(),this.C=function $b(n){return n.h||(n.h=n.i())}(this.u?this.u:Qv),this.g.onreadystatechange=Vi(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(u){return void aE(this,u)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)t.set(o,r[o]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const u of r.keys())t.set(u,r.get(u))}r=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),o=Zt.FormData&&n instanceof Zt.FormData,!(0<=Ib(oE,e))||r||o||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,d]of t)this.g.setRequestHeader(u,d);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{am(this),0<this.B&&((this.K=function h_(n){return Fc&&function Sb(){return function Bg(n){var e=Ab;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=Db(String(If)).split("."),t=Db("9").split("."),r=Math.max(e.length,t.length);for(let d=0;0==n&&d<r;d++){var o=e[d]||"",u=t[d]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==o[0].length&&0==u[0].length)break;n=Lg(0==o[1].length?0:parseInt(o[1],10),0==u[1].length?0:parseInt(u[1],10))||Lg(0==o[2].length,0==u[2].length)||Lg(o[2],u[2]),o=o[3],u=u[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Vi(this.qa,this)):this.A=Jd(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){aE(this,u)}},dt.qa=function(){typeof Av<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,wi(this,"timeout"),this.abort(8))},dt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,wi(this,"complete"),wi(this,"abort"),Vf(this))},dt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Vf(this,!0)),vr.X.M.call(this)},dt.Ha=function(){this.s||(this.F||this.v||this.l?uE(this):this.fb())},dt.fb=function(){uE(this)},dt.aa=function(){try{return 2<qa(this)?this.g.status:-1}catch{return-1}},dt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},dt.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),ah(e)}},dt.Ea=function(){return this.m},dt.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(dt=lE.prototype).ma=8,dt.G=1,dt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const o=new xf(this,this.j,n,void 0);let u=this.s;if(this.S&&(u?(u=Mb(u),Nb(u,this.S)):u=this.S),null!==this.o||this.N||(o.H=u,u=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=OD(this,o,e),er(t=za(this.F),"RID",n),er(t,"CVER",22),this.D&&er(t,"X-HTTP-Session-Id",this.D),Bf(this,t),u&&(this.N?e="headers="+encodeURIComponent(String(p_(u)))+"&"+e:this.o&&um(t,this.o,u)),o_(this.h,o),this.Ya&&er(t,"TYPE","init"),this.O?(er(t,"$req",e),er(t,"SID","null"),o.Z=!0,Wb(o,t,null)):Wb(o,t,e),this.G=2}}else 3==this.G&&(n?dE(this,n):0==this.i.length||r_(this.h)||dE(this))},dt.Ia=function(){if(this.u=null,hE(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=Af(Vi(this.eb,this),n)}},dt.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Bi(10),lm(this),hE(this))},dt.cb=function(){null!=this.v&&(this.v=null,lm(this),v_(this),Bi(19))},dt.kb=function(n){n?(this.j.info("Successfully pinged google.com"),Bi(2)):(this.j.info("Failed to ping google.com"),Bi(1))},(dt=vE.prototype).xa=function(){},dt.wa=function(){},dt.va=function(){},dt.ua=function(){},dt.Ra=function(){},dm.prototype.g=function(n,e){return new bi(n,e)},zn(bi,cr),bi.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;Bi(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=mE(n,null,n.V),y_(n)},bi.prototype.close=function(){g_(this.g)},bi.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Ll(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&y_(e)},bi.prototype.M=function(){this.g.l=null,delete this.j,g_(this.g),delete this.g,bi.X.M.call(this)},zn(w_,Xg),zn(b_,em),zn(Hc,vE),Hc.prototype.xa=function(){wi(this.g,"a")},Hc.prototype.wa=function(n){wi(this.g,new w_(n))},Hc.prototype.va=function(n){wi(this.g,new b_(n))},Hc.prototype.ua=function(){wi(this.g,"b")},dm.prototype.createWebChannel=dm.prototype.g,bi.prototype.send=bi.prototype.u,bi.prototype.open=bi.prototype.m,bi.prototype.close=bi.prototype.close,Ul.NO_ERROR=0,Ul.TIMEOUT=8,Ul.HTTP_ERROR=6,th.COMPLETE="complete",Gb.EventType=nh,nh.OPEN="a",nh.CLOSE="b",nh.ERROR="c",nh.MESSAGE="d",cr.prototype.listen=cr.prototype.N,vr.prototype.listenOnce=vr.prototype.O,vr.prototype.getLastError=vr.prototype.Oa,vr.prototype.getLastErrorCode=vr.prototype.Ea,vr.prototype.getStatus=vr.prototype.aa,vr.prototype.getResponseJson=vr.prototype.Sa,vr.prototype.getResponseText=vr.prototype.fa,vr.prototype.send=vr.prototype.da,vr.prototype.setWithCredentials=vr.prototype.Ka;var _E=$a.createWebChannelTransport=function(){return new dm},wE=$a.getStatEventTarget=function(){return Jg()},hm=$a.ErrorCode=Ul,FD=$a.EventType=th,lx=$a.Event=ea,E_=$a.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},LD=$a.FetchXmlHttpFactory=Bc,fm=$a.WebChannel=Gb,VD=$a.XhrIo=vr;const bE="@firebase/firestore";class Ar{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ar.UNAUTHENTICATED=new Ar(null),Ar.GOOGLE_CREDENTIALS=new Ar("google-credentials-uid"),Ar.FIRST_PARTY=new Ar("first-party-uid"),Ar.MOCK_USER=new Ar("mock-user");let uh="9.12.1";const Wa=new Ku.Yd("@firebase/firestore");function bo(){return Wa.logLevel}function Ge(n,...e){if(Wa.logLevel<=Ku.in.DEBUG){const t=e.map(I_);Wa.debug(`Firestore (${uh}): ${n}`,...t)}}function tr(n,...e){if(Wa.logLevel<=Ku.in.ERROR){const t=e.map(I_);Wa.error(`Firestore (${uh}): ${n}`,...t)}}function $c(n,...e){if(Wa.logLevel<=Ku.in.WARN){const t=e.map(I_);Wa.warn(`Firestore (${uh}): ${n}`,...t)}}function I_(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ht(n="Unexpected state"){const e=`FIRESTORE (${uh}) INTERNAL ASSERTION FAILED: `+n;throw tr(e),new Error(e)}function Rt(n,e){n||ht()}function nt(n,e){return n}const be={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ue extends Dn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Br{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class gm{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class EE{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ar.UNAUTHENTICATED))}shutdown(){}}class BD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class jD{constructor(e){this.t=e,this.currentUser=Ar.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let o=this.i;const u=T=>this.i!==o?(o=this.i,t(T)):Promise.resolve();let d=new Br;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new Br,e.enqueueRetryable(()=>u(this.currentUser))};const m=()=>{const T=d;e.enqueueRetryable((0,Se.Z)(function*(){yield T.promise,yield u(r.currentUser)}))},w=T=>{Ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=T,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(T=>w(T)),setTimeout(()=>{if(!this.auth){const T=this.t.getImmediate({optional:!0});T?w(T):(Ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new Br)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Rt("string"==typeof r.accessToken),new gm(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Rt(null===e||"string"==typeof e),new Ar(e)}}class cx{constructor(e,t,r,o){this.h=e,this.l=t,this.m=r,this.g=o,this.type="FirstParty",this.user=Ar.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Rt(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class C_{constructor(e,t,r,o){this.h=e,this.l=t,this.m=r,this.g=o}getToken(){return Promise.resolve(new cx(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Ar.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class mm{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class IE{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=u=>{null!=u.error&&Ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.A;return this.A=u.token,Ge("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const o=u=>{Ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.T.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.T.getImmediate({optional:!0});u?o(u):Ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Rt("string"==typeof t.token),this.A=t.token,new mm(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function D_(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class DE{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=D_(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<t&&(r+=e.charAt(o[u]%e.length))}return r}}function Kt(n,e){return n<e?-1:n>e?1:0}function lh(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}function TE(n){return n+"\0"}class nr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ue(be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ue(be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ue(be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ue(be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return nr.fromMillis(Date.now())}static fromDate(e){return nr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new nr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Kt(this.nanoseconds,e.nanoseconds):Kt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ot{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ot(e)}static min(){return new Ot(new nr(0,0))}static max(){return new Ot(new nr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ch{constructor(e,t,r){void 0===t?t=0:t>e.length&&ht(),void 0===r?r=e.length-t:r>e.length-t&&ht(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===ch.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ch?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const u=e.get(o),d=t.get(o);if(u<d)return-1;if(u>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class vn extends ch{construct(e,t,r){return new vn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ue(be.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new vn(t)}static emptyPath(){return new vn([])}}const AE=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _r extends ch{construct(e,t,r){return new _r(e,t,r)}static isValidIdentifier(e){return AE.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_r.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new _r(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const u=()=>{if(0===r.length)throw new Ue(be.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;o<e.length;){const m=e[o];if("\\"===m){if(o+1===e.length)throw new Ue(be.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const w=e[o+1];if("\\"!==w&&"."!==w&&"`"!==w)throw new Ue(be.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=w,o+=2}else"`"===m?(d=!d,o++):"."!==m||d?(r+=m,o++):(u(),o++)}if(u(),d)throw new Ue(be.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _r(t)}static emptyPath(){return new _r([])}}class tt{constructor(e){this.path=e}static fromPath(e){return new tt(vn.fromString(e))}static fromName(e){return new tt(vn.fromString(e).popFirst(5))}static empty(){return new tt(vn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===vn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return vn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new tt(new vn(e.slice()))}}class jf{constructor(e,t,r,o){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=o}}function ym(n){return n.fields.find(e=>2===e.kind)}function Gc(n){return n.fields.filter(e=>2!==e.kind)}jf.UNKNOWN_ID=-1;class vm{constructor(e,t){this.fieldPath=e,this.kind=t}}class Za{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Za(0,Eo.min())}}function xE(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=Ot.fromTimestamp(1e9===r?new nr(t+1,0):new nr(t,r));return new Eo(o,tt.empty(),e)}function ME(n){return new Eo(n.readTime,n.key,-1)}class Eo{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Eo(Ot.min(),tt.empty(),-1)}static max(){return new Eo(Ot.max(),tt.empty(),-1)}}function kE(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=tt.comparator(n.documentKey,e.documentKey),0!==t?t:Kt(n.largestBatchId,e.largestBatchId))}const T_="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class A_{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Io(n){return S_.apply(this,arguments)}function S_(){return S_=(0,Se.Z)(function*(n){if(n.code!==be.FAILED_PRECONDITION||n.message!==T_)throw n;Ge("LocalStore","Unexpectedly lost primary lease")}),S_.apply(this,arguments)}class ye{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ht(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ye((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ye?t:ye.resolve(t)}catch(t){return ye.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ye.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ye.reject(t)}static resolve(e){return new ye((t,r)=>{t(e)})}static reject(e){return new ye((t,r)=>{r(e)})}static waitFor(e){return new ye((t,r)=>{let o=0,u=0,d=!1;e.forEach(m=>{++o,m.next(()=>{++u,d&&u===o&&t()},w=>r(w))}),d=!0,u===o&&t()})}static or(e){let t=ye.resolve(!1);for(const r of e)t=t.next(o=>o?ye.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,u)=>{r.push(t.call(this,o,u))}),this.waitFor(r)}static mapArray(e,t){return new ye((r,o)=>{const u=e.length,d=new Array(u);let m=0;for(let w=0;w<u;w++){const T=w;t(e[T]).next(M=>{d[T]=M,++m,m===u&&r(d)},M=>o(M))}})}static doWhile(e,t){return new ye((r,o)=>{const u=()=>{!0===e()?t().next(()=>{u()},o):r()};u()})}}class _m{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new Br,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new Hf(e,t.error)):this.P.resolve()},this.transaction.onerror=r=>{const o=dh(r.target.error);this.P.reject(new Hf(e,o))}}static open(e,t,r,o){try{return new _m(t,e.transaction(o,r))}catch(u){throw new Hf(t,u)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Ge("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new x_(t)}}class Co{constructor(e,t,r){this.name=e,this.version=t,this.S=r,12.2===Co.D((0,Dn.z$)())&&tr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ge("SimpleDb","Removing database:",e),jl(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,Dn.hl)())return!1;if(Co.N())return!0;const e=(0,Dn.z$)(),t=Co.D(e),r=0<t&&t<10,o=Co.k(e),u=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}F(e){var t=this;return(0,Se.Z)(function*(){return t.db||(Ge("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,o)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=d=>{r(d.target.result)},u.onblocked=()=>{o(new Hf(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=d=>{const m=d.target.error;o("VersionError"===m.name?new Ue(be.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new Ue(be.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new Hf(e,m))},u.onupgradeneeded=d=>{Ge("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.S.$(d.target.result,u.transaction,d.oldVersion,t.version).next(()=>{Ge("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,o){var u=this;return(0,Se.Z)(function*(){const d="readonly"===t;let m=0;for(;;){++m;try{u.db=yield u.F(e);const w=_m.open(u.db,e,d?"readonly":"readwrite",r),T=o(w).next(M=>(w.V(),M)).catch(M=>(w.abort(M),ye.reject(M))).toPromise();return T.catch(()=>{}),yield w.v,T}catch(w){const T=w,M="FirebaseError"!==T.name&&m<3;if(Ge("SimpleDb","Transaction failed with error:",T.message,"Retrying:",M),u.close(),!M)return Promise.reject(T)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class HD{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return jl(this.U.delete())}}class Hf extends Ue{constructor(e,t){super(be.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Bl(n){return"IndexedDbTransactionError"===n.name}class x_{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Ge("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Ge("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),jl(r)}add(e){return Ge("SimpleDb","ADD",this.store.name,e,e),jl(this.store.add(e))}get(e){return jl(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ge("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ge("SimpleDb","DELETE",this.store.name,e),jl(this.store.delete(e))}count(){return Ge("SimpleDb","COUNT",this.store.name),jl(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const o=this.cursor(r),u=[];return this.H(o,(d,m)=>{u.push(m)}).next(()=>u)}{const o=this.store.getAll(r.range);return new ye((u,d)=>{o.onerror=m=>{d(m.target.error)},o.onsuccess=m=>{u(m.target.result)}})}}J(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new ye((o,u)=>{r.onerror=d=>{u(d.target.error)},r.onsuccess=d=>{o(d.target.result)}})}Y(e,t){Ge("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const o=this.cursor(r);return this.H(o,(u,d,m)=>m.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const o=this.cursor(r);return this.H(o,t)}tt(e){const t=this.cursor({});return new ye((r,o)=>{t.onerror=u=>{const d=dh(u.target.error);o(d)},t.onsuccess=u=>{const d=u.target.result;d?e(d.primaryKey,d.value).next(m=>{m?d.continue():r()}):r()}})}H(e,t){const r=[];return new ye((o,u)=>{e.onerror=d=>{u(d.target.error)},e.onsuccess=d=>{const m=d.target.result;if(!m)return void o();const w=new HD(m),T=t(m.primaryKey,m.value,w);if(T instanceof ye){const M=T.catch(O=>(w.done(),ye.reject(O)));r.push(M)}w.isDone?o():null===w.G?m.continue():m.continue(w.G)}}).next(()=>ye.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function jl(n){return new ye((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const o=dh(r.target.error);t(o)}})}let M_=!1;function dh(n){const e=Co.D((0,Dn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Ue("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return M_||(M_=!0,setTimeout(()=>{throw r},0)),r}}return n}class k_{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Ge("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Se.Z)(function*(){t.task=null;try{Ge("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(r){Bl(r)?Ge("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Io(r)}yield t.nt(6e4)}))}}class dx{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,Se.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.it(r,e))})()}it(e,t){const r=new Set;let o=t,u=!0;return ye.doWhile(()=>!0===u&&o>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(d=>{if(null!==d&&!r.has(d))return Ge("IndexBackiller",`Processing collection: ${d}`),this.rt(e,d,o).next(m=>{o-=m,r.add(d)});u=!1})).next(()=>t-o)}rt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(o=>this.localStore.localDocuments.getNextDocuments(e,t,o,r).next(u=>{const d=u.changes;return this.localStore.indexManager.updateIndexEntries(e,d).next(()=>this.ot(o,u)).next(m=>(Ge("IndexBackiller",`Updating offset: ${m}`),this.localStore.indexManager.updateCollectionGroup(e,t,m))).next(()=>d.size)}))}ot(e,t){let r=e;return t.changes.forEach((o,u)=>{const d=ME(u);kE(d,r)>0&&(r=d)}),new Eo(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class ls{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>t.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function NE(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Hl(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function zc(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}ls.at=-1;class Sr{constructor(e,t){this.comparator=e,this.root=t||Kr.EMPTY}insert(e,t){return new Sr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Kr.BLACK,null,null))}remove(e){return new Sr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $f(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $f(this.root,e,this.comparator,!1)}getReverseIterator(){return new $f(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $f(this.root,e,this.comparator,!0)}}class $f{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kr{constructor(e,t,r,o,u){this.key=e,this.value=t,this.color=r??Kr.RED,this.left=o??Kr.EMPTY,this.right=u??Kr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,u){return new Kr(e??this.key,t??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,r),null):0===u?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Kr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return Kr.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ht();const e=this.left.check();if(e!==this.right.check())throw ht();return e+(this.isRed()?0:1)}}Kr.EMPTY=null,Kr.RED=!0,Kr.BLACK=!1,Kr.EMPTY=new class{constructor(){this.size=0}get key(){throw ht()}get value(){throw ht()}get color(){throw ht()}get left(){throw ht()}get right(){throw ht()}copy(n,e,t,r,o){return this}insert(n,e,t){return new Kr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class qn{constructor(e){this.comparator=e,this.data=new Sr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new RE(this.data.getIterator())}getIteratorFrom(e){return new RE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof qn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(o,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new qn(this.comparator);return t.data=e,t}}class RE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Gf(n){return n.hasNext()?n.getNext():void 0}class Gs{constructor(e){this.fields=e,e.sort(_r.comparator)}static empty(){return new Gs([])}unionWith(e){let t=new qn(_r.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Gs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return lh(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Yr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Yr(t)}static fromUint8Array(e){const t=function(r){let o="";for(let u=0;u<r.length;++u)o+=String.fromCharCode(r[u]);return o}(e);return new Yr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Kt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yr.EMPTY_BYTE_STRING=new Yr("");const OE=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qu(n){if(Rt(!!n),"string"==typeof n){let e=0;const t=OE.exec(n);if(Rt(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xr(n.seconds),nanos:xr(n.nanos)}}function xr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function $l(n){return"string"==typeof n?Yr.fromBase64String(n):Yr.fromUint8Array(n)}function wm(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function PE(n){const e=n.mapValue.fields.__previous_value__;return wm(e)?PE(e):e}function zf(n){const e=Qu(n.mapValue.fields.__local_write_time__.timestampValue);return new nr(e.seconds,e.nanos)}class FE{constructor(e,t,r,o,u,d,m,w){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.useFetchStreams=w}}class Gl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Gl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Gl&&e.projectId===this.projectId&&e.database===this.database}}function hh(n){return null==n}function fh(n){return 0===n&&1/n==-1/0}function N_(n){return"number"==typeof n&&Number.isInteger(n)&&!fh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Ju={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},bm={nullValue:"NULL_VALUE"};function qc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?wm(n)?4:Zf(n)?9007199254740991:10:ht()}function Xu(n,e){if(n===e)return!0;const t=qc(n);if(t!==qc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return zf(n).isEqual(zf(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const u=Qu(r.timestampValue),d=Qu(o.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,$l(n.bytesValue).isEqual($l(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return xr(r.geoPointValue.latitude)===xr(o.geoPointValue.latitude)&&xr(r.geoPointValue.longitude)===xr(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return xr(r.integerValue)===xr(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const u=xr(r.doubleValue),d=xr(o.doubleValue);return u===d?fh(u)===fh(d):isNaN(u)&&isNaN(d)}return!1}(n,e);case 9:return lh(n.arrayValue.values||[],e.arrayValue.values||[],Xu);case 10:return function(r,o){const u=r.mapValue.fields||{},d=o.mapValue.fields||{};if(NE(u)!==NE(d))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(void 0===d[m]||!Xu(u[m],d[m])))return!1;return!0}(n,e);default:return ht()}var o}function ph(n,e){return void 0!==(n.values||[]).find(t=>Xu(t,e))}function Wc(n,e){if(n===e)return 0;const t=qc(n),r=qc(e);if(t!==r)return Kt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Kt(n.booleanValue,e.booleanValue);case 2:return function(o,u){const d=xr(o.integerValue||o.doubleValue),m=xr(u.integerValue||u.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(n,e);case 3:return GD(n.timestampValue,e.timestampValue);case 4:return GD(zf(n),zf(e));case 5:return Kt(n.stringValue,e.stringValue);case 6:return function(o,u){const d=$l(o),m=$l(u);return d.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const d=o.split("/"),m=u.split("/");for(let w=0;w<d.length&&w<m.length;w++){const T=Kt(d[w],m[w]);if(0!==T)return T}return Kt(d.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const d=Kt(xr(o.latitude),xr(u.latitude));return 0!==d?d:Kt(xr(o.longitude),xr(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,u){const d=o.values||[],m=u.values||[];for(let w=0;w<d.length&&w<m.length;++w){const T=Wc(d[w],m[w]);if(T)return T}return Kt(d.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,u){if(o===Ju.mapValue&&u===Ju.mapValue)return 0;if(o===Ju.mapValue)return 1;if(u===Ju.mapValue)return-1;const d=o.fields||{},m=Object.keys(d),w=u.fields||{},T=Object.keys(w);m.sort(),T.sort();for(let M=0;M<m.length&&M<T.length;++M){const O=Kt(m[M],T[M]);if(0!==O)return O;const q=Wc(d[m[M]],w[T[M]]);if(0!==q)return q}return Kt(m.length,T.length)}(n.mapValue,e.mapValue);default:throw ht()}}function GD(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Kt(n,e);const t=Qu(n),r=Qu(e),o=Kt(t.seconds,r.seconds);return 0!==o?o:Kt(t.nanos,r.nanos)}function qf(n){return LE(n)}function LE(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=Qu(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?$l(n.bytesValue).toBase64():"referenceValue"in n?tt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let o="[",u=!0;for(const d of r.values||[])u?u=!1:o+=",",o+=LE(d);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let u="{",d=!0;for(const m of o)d?d=!1:u+=",",u+=`${m}:${LE(r.fields[m])}`;return u+"}"}(n.mapValue):ht();var e}function gh(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function VE(n){return!!n&&"integerValue"in n}function Em(n){return!!n&&"arrayValue"in n}function zD(n){return!!n&&"nullValue"in n}function Wf(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function R_(n){return!!n&&"mapValue"in n}function mh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Hl(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=mh(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=mh(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Zf(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function UE(n){return"nullValue"in n?bm:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?gh(Gl.empty(),tt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ht()}function BE(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?gh(Gl.empty(),tt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Ju:ht()}function qD(n,e){const t=Wc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function Im(n,e){const t=Wc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class ci{constructor(e){this.value=e}static empty(){return new ci({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!R_(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=mh(t)}setAll(e){let t=_r.emptyPath(),r={},o=[];e.forEach((d,m)=>{if(!t.isImmediateParentOf(m)){const w=this.getFieldsMap(t);this.applyChanges(w,r,o),r={},o=[],t=m.popLast()}d?r[m.lastSegment()]=mh(d):o.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,o)}delete(e){const t=this.field(e.popLast());R_(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Xu(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];R_(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){Hl(t,(o,u)=>e[o]=u);for(const o of r)delete e[o]}clone(){return new ci(mh(this.value))}}function jE(n){const e=[];return Hl(n.fields,(t,r)=>{const o=new _r([t]);if(R_(r)){const u=jE(r.mapValue).fields;if(0===u.length)e.push(o);else for(const d of u)e.push(o.child(d))}else e.push(o)}),new Gs(e)}class Wn{constructor(e,t,r,o,u,d){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.data=u,this.documentState=d}static newInvalidDocument(e){return new Wn(e,0,Ot.min(),Ot.min(),ci.empty(),0)}static newFoundDocument(e,t,r){return new Wn(e,1,t,Ot.min(),r,0)}static newNoDocument(e,t){return new Wn(e,2,t,Ot.min(),ci.empty(),0)}static newUnknownDocument(e,t){return new Wn(e,3,t,Ot.min(),ci.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ci.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ci.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ot.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Wn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class hx{constructor(e,t=null,r=[],o=[],u=null,d=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=d,this.endAt=m,this.ht=null}}function WD(n,e=null,t=[],r=[],o=null,u=null,d=null){return new hx(n,e,t,r,o,u,d)}function Zc(n){const e=nt(n);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(o=r).field.canonicalString()+o.op.toString()+qf(o.value);var o}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),hh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>qf(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>qf(r)).join(",")),e.ht=t}return e.ht}function zl(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let o=0;o<n.orderBy.length;o++)if(!XD(n.orderBy[o],e.orderBy[o]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let o=0;o<n.filters.length;o++)if((t=n.filters[o]).op!==(r=e.filters[o]).op||!t.field.isEqual(r.field)||!Xu(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!zE(n.startAt,e.startAt)&&zE(n.endAt,e.endAt)}function Cm(n){return tt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function O_(n,e){return n.filters.filter(t=>t instanceof Ei&&t.field.isEqual(e))}function KD(n,e,t){let r=bm,o=!0;for(const u of O_(n,e)){let d=bm,m=!0;switch(u.op){case"<":case"<=":d=UE(u.value);break;case"==":case"in":case">=":d=u.value;break;case">":d=u.value,m=!1;break;case"!=":case"not-in":d=bm}qD({value:r,inclusive:o},{value:d,inclusive:m})<0&&(r=d,o=m)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const d=t.position[u];qD({value:r,inclusive:o},{value:d,inclusive:t.inclusive})<0&&(r=d,o=t.inclusive);break}return{value:r,inclusive:o}}function YD(n,e,t){let r=Ju,o=!0;for(const u of O_(n,e)){let d=Ju,m=!0;switch(u.op){case">=":case">":d=BE(u.value),m=!1;break;case"==":case"in":case"<=":d=u.value;break;case"<":d=u.value,m=!1;break;case"!=":case"not-in":d=Ju}Im({value:r,inclusive:o},{value:d,inclusive:m})>0&&(r=d,o=m)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const d=t.position[u];Im({value:r,inclusive:o},{value:d,inclusive:t.inclusive})>0&&(r=d,o=t.inclusive);break}return{value:r,inclusive:o}}class Ei extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new QD(e,t,r):"array-contains"===t?new $E(e,r):"in"===t?new GE(e,r):"not-in"===t?new px(e,r):"array-contains-any"===t?new ta(e,r):new Ei(e,t,r)}static lt(e,t,r){return"in"===t?new JD(e,r):new fx(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(Wc(t,this.value)):null!==t&&qc(this.value)===qc(t)&&this.ft(Wc(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ht()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class QD extends Ei{constructor(e,t,r){super(e,t,r),this.key=tt.fromName(r.referenceValue)}matches(e){const t=tt.comparator(e.key,this.key);return this.ft(t)}}class JD extends Ei{constructor(e,t){super(e,"in",t),this.keys=HE(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class fx extends Ei{constructor(e,t){super(e,"not-in",t),this.keys=HE(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function HE(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>tt.fromName(r.referenceValue))}class $E extends Ei{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Em(t)&&ph(t.arrayValue,this.value)}}class GE extends Ei{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&ph(this.value.arrayValue,t)}}class px extends Ei{constructor(e,t){super(e,"not-in",t)}matches(e){if(ph(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!ph(this.value.arrayValue,t)}}class ta extends Ei{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Em(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>ph(this.value.arrayValue,r))}}class ql{constructor(e,t){this.position=e,this.inclusive=t}}class Wl{constructor(e,t="asc"){this.field=e,this.dir=t}}function XD(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function zs(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const u=e[o],d=n.position[o];if(r=u.field.isKeyField()?tt.comparator(tt.fromName(d.referenceValue),t.key):Wc(d,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function zE(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Xu(n.position[t],e.position[t]))return!1;return!0}class na{constructor(e,t=null,r=[],o=[],u=null,d="F",m=null,w=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=d,this.startAt=m,this.endAt=w,this._t=null,this.wt=null}}function qE(n,e,t,r,o,u,d,m){return new na(n,e,t,r,o,u,d,m)}function yh(n){return new na(n)}function Dm(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Tm(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Am(n){for(const e of n.filters)if(e.dt())return e.field;return null}function P_(n){return null!==n.collectionGroup}function Kc(n){const e=nt(n);if(null===e._t){e._t=[];const t=Am(e),r=Tm(e);if(null!==t&&null===r)t.isKeyField()||e._t.push(new Wl(t)),e._t.push(new Wl(_r.keyField(),"asc"));else{let o=!1;for(const u of e.explicitOrderBy)e._t.push(u),u.field.isKeyField()&&(o=!0);if(!o){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new Wl(_r.keyField(),u))}}}return e._t}function ji(n){const e=nt(n);if(!e.wt)if("F"===e.limitType)e.wt=WD(e.path,e.collectionGroup,Kc(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of Kc(e))t.push(new Wl(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new ql(e.endAt.position,e.endAt.inclusive):null,o=e.startAt?new ql(e.startAt.position,e.startAt.inclusive):null;e.wt=WD(e.path,e.collectionGroup,t,e.filters,e.limit,r,o)}return e.wt}function Sm(n,e,t){return new na(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function vh(n,e){return zl(ji(n),ji(e))&&n.limitType===e.limitType}function WE(n){return`${Zc(ji(n))}|lt:${n.limitType}`}function Kf(n){return`Query(target=${function ZD(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${qf(r.value)}`;var r}).join(", ")}]`),hh(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>qf(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>qf(t)).join(",")),`Target(${e})`}(ji(n))}; limitType=${n.limitType})`}function Ka(n,e){return e.isFoundDocument()&&function(t,r){const o=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):tt.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,r){for(const o of t.explicitOrderBy)if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(t,r){for(const o of t.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(o,u,d){const m=zs(o,u,d);return o.inclusive?m<=0:m<0}(t.startAt,Kc(t),r)||t.endAt&&!function(o,u,d){const m=zs(o,u,d);return o.inclusive?m>=0:m>0}(t.endAt,Kc(t),r)));var t,r}function F_(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function xm(n){return(e,t)=>{let r=!1;for(const o of Kc(n)){const u=el(o,e,t);if(0!==u)return u;r=r||o.field.isKeyField()}return 0}}function el(n,e,t){const r=n.field.isKeyField()?tt.comparator(e.key,t.key):function(o,u,d){const m=u.data.field(o),w=d.data.field(o);return null!==m&&null!==w?Wc(m,w):ht()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ht()}}function ZE(n,e){if(n.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fh(e)?"-0":e}}function eT(n){return{integerValue:""+n}}function KE(n,e){return N_(e)?eT(e):ZE(n,e)}class Mm{constructor(){this._=void 0}}function tT(n,e,t){return n instanceof Yf?function(r,o){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(u.fields.__previous_value__=o),{mapValue:u}}(t,e):n instanceof Zl?YE(n,e):n instanceof Kl?rT(n,e):function(r,o){const u=L_(r,o),d=V_(u)+V_(r.yt);return VE(u)&&VE(r.yt)?eT(d):ZE(r.It,d)}(n,e)}function nT(n,e,t){return n instanceof Zl?YE(n,e):n instanceof Kl?rT(n,e):t}function L_(n,e){return n instanceof Yl?VE(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Yf extends Mm{}class Zl extends Mm{constructor(e){super(),this.elements=e}}function YE(n,e){const t=U_(e);for(const r of n.elements)t.some(o=>Xu(o,r))||t.push(r);return{arrayValue:{values:t}}}class Kl extends Mm{constructor(e){super(),this.elements=e}}function rT(n,e){let t=U_(e);for(const r of n.elements)t=t.filter(o=>!Xu(o,r));return{arrayValue:{values:t}}}class Yl extends Mm{constructor(e,t){super(),this.It=e,this.yt=t}}function V_(n){return xr(n.integerValue||n.doubleValue)}function U_(n){return Em(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class _h{constructor(e,t){this.field=e,this.transform=t}}class JE{constructor(e,t){this.version=e,this.transformResults=t}}class Zn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Zn}static exists(e){return new Zn(void 0,e)}static updateTime(e){return new Zn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yc(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Qf{}function XE(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new bh(n.key,Zn.none()):new Jf(n.key,n.data,Zn.none());{const t=n.data,r=ci.empty();let o=new qn(_r.comparator);for(let u of e.fields)if(!o.has(u)){let d=t.field(u);null===d&&u.length>1&&(u=u.popLast(),d=t.field(u)),null===d?r.delete(u):r.set(u,d),o=o.add(u)}return new Ql(n.key,r,new Gs(o.toArray()),Zn.none())}}function eI(n,e,t){n instanceof Jf?function(r,o,u){const d=r.value.clone(),m=nI(r.fieldTransforms,o,u.transformResults);d.setAll(m),o.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Ql?function(r,o,u){if(!Yc(r.precondition,o))return void o.convertToUnknownDocument(u.version);const d=nI(r.fieldTransforms,o,u.transformResults),m=o.data;m.setAll(B_(r)),m.setAll(d),o.convertToFoundDocument(u.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function wh(n,e,t,r){return n instanceof Jf?function(o,u,d,m){if(!Yc(o.precondition,u))return d;const w=o.value.clone(),T=rI(o.fieldTransforms,m,u);return w.setAll(T),u.convertToFoundDocument(u.version,w).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ql?function(o,u,d,m){if(!Yc(o.precondition,u))return d;const w=rI(o.fieldTransforms,m,u),T=u.data;return T.setAll(B_(o)),T.setAll(w),u.convertToFoundDocument(u.version,T).setHasLocalMutations(),null===d?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(M=>M.field))}(n,e,t,r):(d=t,Yc(n.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d);var u,d}function iT(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),u=L_(r.transform,o||null);null!=u&&(null===t&&(t=ci.empty()),t.set(r.field,u))}return t||null}function tI(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&lh(t,r,(o,u)=>function QE(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Zl&&r instanceof Zl||t instanceof Kl&&r instanceof Kl?lh(t.elements,r.elements,Xu):t instanceof Yl&&r instanceof Yl?Xu(t.yt,r.yt):t instanceof Yf&&r instanceof Yf);var t,r}(o,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Jf extends Qf{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ql extends Qf{constructor(e,t,r,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function B_(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function nI(n,e,t){const r=new Map;Rt(n.length===t.length);for(let o=0;o<t.length;o++){const u=n[o],d=u.transform,m=e.data.field(u.field);r.set(u.field,nT(d,m,t[o]))}return r}function rI(n,e,t){const r=new Map;for(const o of n){const u=o.transform,d=t.data.field(o.field);r.set(o.field,tT(u,d,e))}return r}class bh extends Qf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iI extends Qf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class gx{constructor(e){this.count=e}}var Qr,bn;function sT(n){switch(n){default:return ht();case be.CANCELLED:case be.UNKNOWN:case be.DEADLINE_EXCEEDED:case be.RESOURCE_EXHAUSTED:case be.INTERNAL:case be.UNAVAILABLE:case be.UNAUTHENTICATED:return!1;case be.INVALID_ARGUMENT:case be.NOT_FOUND:case be.ALREADY_EXISTS:case be.PERMISSION_DENIED:case be.FAILED_PRECONDITION:case be.ABORTED:case be.OUT_OF_RANGE:case be.UNIMPLEMENTED:case be.DATA_LOSS:return!0}}function sI(n){if(void 0===n)return tr("GRPC error has no .code"),be.UNKNOWN;switch(n){case Qr.OK:return be.OK;case Qr.CANCELLED:return be.CANCELLED;case Qr.UNKNOWN:return be.UNKNOWN;case Qr.DEADLINE_EXCEEDED:return be.DEADLINE_EXCEEDED;case Qr.RESOURCE_EXHAUSTED:return be.RESOURCE_EXHAUSTED;case Qr.INTERNAL:return be.INTERNAL;case Qr.UNAVAILABLE:return be.UNAVAILABLE;case Qr.UNAUTHENTICATED:return be.UNAUTHENTICATED;case Qr.INVALID_ARGUMENT:return be.INVALID_ARGUMENT;case Qr.NOT_FOUND:return be.NOT_FOUND;case Qr.ALREADY_EXISTS:return be.ALREADY_EXISTS;case Qr.PERMISSION_DENIED:return be.PERMISSION_DENIED;case Qr.FAILED_PRECONDITION:return be.FAILED_PRECONDITION;case Qr.ABORTED:return be.ABORTED;case Qr.OUT_OF_RANGE:return be.OUT_OF_RANGE;case Qr.UNIMPLEMENTED:return be.UNIMPLEMENTED;case Qr.DATA_LOSS:return be.DATA_LOSS;default:return ht()}}(bn=Qr||(Qr={}))[bn.OK=0]="OK",bn[bn.CANCELLED=1]="CANCELLED",bn[bn.UNKNOWN=2]="UNKNOWN",bn[bn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",bn[bn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",bn[bn.NOT_FOUND=5]="NOT_FOUND",bn[bn.ALREADY_EXISTS=6]="ALREADY_EXISTS",bn[bn.PERMISSION_DENIED=7]="PERMISSION_DENIED",bn[bn.UNAUTHENTICATED=16]="UNAUTHENTICATED",bn[bn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",bn[bn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",bn[bn.ABORTED=10]="ABORTED",bn[bn.OUT_OF_RANGE=11]="OUT_OF_RANGE",bn[bn.UNIMPLEMENTED=12]="UNIMPLEMENTED",bn[bn.INTERNAL=13]="INTERNAL",bn[bn.UNAVAILABLE=14]="UNAVAILABLE",bn[bn.DATA_LOSS=15]="DATA_LOSS";class ra{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[o,u]of r)if(this.equalsFn(o,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Hl(this.inner,(t,r)=>{for(const[o,u]of r)e(o,u)})}isEmpty(){return zc(this.inner)}size(){return this.innerSize}}const oT=new Sr(tt.comparator);function Is(){return oT}const j_=new Sr(tt.comparator);function ia(...n){let e=j_;for(const t of n)e=e.insert(t.key,t);return e}function H_(n){let e=j_;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Do(){return Xf()}function km(){return Xf()}function Xf(){return new ra(n=>n.toString(),(n,e)=>n.isEqual(e))}const $_=new Sr(tt.comparator),G_=new qn(tt.comparator);function Yt(...n){let e=G_;for(const t of n)e=e.add(t);return e}const mx=new qn(Kt);function z_(){return mx}class Nm{constructor(e,t,r,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,Rm.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Nm(Ot.min(),o,z_(),Is(),Yt())}}class Rm{constructor(e,t,r,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Rm(r,t,Yt(),Yt(),Yt())}}class ep{constructor(e,t,r,o){this.Tt=e,this.removedTargetIds=t,this.key=r,this.Et=o}}class oI{constructor(e,t){this.targetId=e,this.At=t}}class aI{constructor(e,t,r=Yr.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class uI{constructor(){this.Rt=0,this.bt=W_(),this.Pt=Yr.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=Yt(),t=Yt(),r=Yt();return this.bt.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:ht()}}),new Rm(this.Pt,this.vt,e,t,r)}Nt(){this.Vt=!1,this.bt=W_()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class aT{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=Is(),this.qt=q_(),this.Kt=new qn(Kt)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const r=this.zt(t);switch(e.state){case 0:this.Ht(t)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),r.Ct(e.resumeToken));break;default:ht()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((r,o)=>{this.Ht(o)&&t(o)})}Yt(e){const t=e.targetId,r=e.At.count,o=this.Xt(t);if(o){const u=o.target;if(Cm(u))if(0===r){const d=new tt(u.path);this.jt(t,d,Wn.newNoDocument(d,Ot.min()))}else Rt(1===r);else this.Zt(t)!==r&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((u,d)=>{const m=this.Xt(d);if(m){if(u.current&&Cm(m.target)){const w=new tt(m.target.path);null!==this.Ut.get(w)||this.ee(d,w)||this.jt(d,w,Wn.newNoDocument(w,e))}u.Dt&&(t.set(d,u.xt()),u.Nt())}});let r=Yt();this.qt.forEach((u,d)=>{let m=!0;d.forEachWhile(w=>{const T=this.Xt(w);return!T||2===T.purpose||(m=!1,!1)}),m&&(r=r.add(u))}),this.Ut.forEach((u,d)=>d.setReadTime(e));const o=new Nm(e,t,this.Kt,this.Ut,r);return this.Ut=Is(),this.qt=q_(),this.Kt=new qn(Kt),o}Qt(e,t){if(!this.Ht(e))return;const r=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,r),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,r){if(!this.Ht(e))return;const o=this.zt(e);this.ee(e,t)?o.kt(t,1):o.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),r&&(this.Ut=this.Ut.insert(t,r))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let t=this.Lt.get(e);return t||(t=new uI,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new qn(Kt),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||Ge("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new uI),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function q_(){return new Sr(tt.comparator)}function W_(){return new Sr(tt.comparator)}const lI={asc:"ASCENDING",desc:"DESCENDING"},uT={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class lT{constructor(e,t){this.databaseId=e,this.gt=t}}function Eh(n,e){return n.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Om(n,e){return n.gt?e.toBase64():e.toUint8Array()}function yx(n,e){return Eh(n,e.toTimestamp())}function Jr(n){return Rt(!!n),Ot.fromTimestamp(function(e){const t=Qu(e);return new nr(t.seconds,t.nanos)}(n))}function tp(n,e){return(t=n,new vn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function cI(n){const e=vn.fromString(n);return Rt(b(e)),e}function np(n,e){return tp(n.databaseId,e.path)}function tl(n,e){const t=cI(e);if(t.get(1)!==n.databaseId.projectId)throw new Ue(be.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ue(be.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new tt(fI(t))}function dI(n,e){return tp(n.databaseId,e)}function hI(n){const e=cI(n);return 4===e.length?vn.emptyPath():fI(e)}function rp(n){return new vn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function fI(n){return Rt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function cT(n,e,t){return{name:np(n,e),fields:t.value.mapValue.fields}}function dT(n,e,t){const r=tl(n,e.name),o=Jr(e.updateTime),u=new ci({mapValue:{fields:e.fields}}),d=Wn.newFoundDocument(r,o,u);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function Pm(n,e){let t;if(e instanceof Jf)t={update:cT(n,e.key,e.value)};else if(e instanceof bh)t={delete:np(n,e.key)};else if(e instanceof Ql)t={update:cT(n,e.key,e.data),updateMask:v(e.fieldMask)};else{if(!(e instanceof iI))return ht();t={verify:np(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const d=u.transform;if(d instanceof Yf)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Zl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Kl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Yl)return{fieldPath:u.field.canonicalString(),increment:d.yt};throw ht()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:yx(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:ht()),t;var o}function Z_(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?Zn.updateTime(Jr(o.updateTime)):void 0!==o.exists?Zn.exists(o.exists):Zn.none():Zn.none(),r=e.updateTransforms?e.updateTransforms.map(o=>function(u,d){let m=null;"setToServerValue"in d?(Rt("REQUEST_TIME"===d.setToServerValue),m=new Yf):"appendMissingElements"in d?m=new Zl(d.appendMissingElements.values||[]):"removeAllFromArray"in d?m=new Kl(d.removeAllFromArray.values||[]):"increment"in d?m=new Yl(u,d.increment):ht();const w=_r.fromServerFormat(d.fieldPath);return new _h(w,m)}(n,o)):[];var o;if(e.update){const o=tl(n,e.update.name),u=new ci({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new Gs((e.updateMask.fieldPaths||[]).map(T=>_r.fromServerFormat(T)));return new Ql(o,u,d,t,r)}return new Jf(o,u,t,r)}if(e.delete){const o=tl(n,e.delete);return new bh(o,t)}if(e.verify){const o=tl(n,e.verify);return new iI(o,t)}return ht()}function hT(n,e){return{documents:[dI(n,e.path)]}}function pI(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=dI(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=dI(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(w){if(0===w.length)return;const T=w.map(M=>function(O){if("=="===O.op){if(Wf(O.value))return{unaryFilter:{field:a(O.field),op:"IS_NAN"}};if(zD(O.value))return{unaryFilter:{field:a(O.field),op:"IS_NULL"}}}else if("!="===O.op){if(Wf(O.value))return{unaryFilter:{field:a(O.field),op:"IS_NOT_NAN"}};if(zD(O.value))return{unaryFilter:{field:a(O.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:a(O.field),op:s(O.op),value:O.value}}}(M));return 1===T.length?T[0]:{compositeFilter:{op:"AND",filters:T}}}(e.filters);o&&(t.structuredQuery.where=o);const u=function(w){if(0!==w.length)return w.map(T=>{return{field:a((M=T).field),direction:i(M.dir)};var M})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=(T=e.limit,n.gt||hh(T)?T:{value:T});var T,m,w;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(t.structuredQuery.endAt={before:!(w=e.endAt).inclusive,values:w.position}),t}function fT(n){let e=hI(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){Rt(1===r);const M=t.from[0];M.allDescendants?o=M.collectionId:e=e.child(M.collectionId)}let u=[];t.where&&(u=pT(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(M=>{return new Wl(l((O=M).field),function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction));var O}));let m=null;t.limit&&(m=function(M){let O;return O="object"==typeof M?M.value:M,hh(O)?null:O}(t.limit));let w=null;var M;t.startAt&&(w=new ql((M=t.startAt).values||[],!!M.before));let T=null;return t.endAt&&(T=function(M){return new ql(M.values||[],!M.before)}(t.endAt)),qE(e,o,d,u,m,"F",w,T)}function pT(n){return n?void 0!==n.unaryFilter?[p(n)]:void 0!==n.fieldFilter?[c(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>pT(e)).reduce((e,t)=>e.concat(t)):ht():[]}function i(n){return lI[n]}function s(n){return uT[n]}function a(n){return{fieldPath:n.canonicalString()}}function l(n){return _r.fromServerFormat(n.fieldPath)}function c(n){return Ei.create(l(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ht()}}(n.fieldFilter.op),n.fieldFilter.value)}function p(n){switch(n.unaryFilter.op){case"IS_NAN":const e=l(n.unaryFilter.field);return Ei.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=l(n.unaryFilter.field);return Ei.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=l(n.unaryFilter.field);return Ei.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=l(n.unaryFilter.field);return Ei.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ht()}}function v(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function b(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function C(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=R(e)),e=S(n.get(t),e);return R(e)}function S(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const u=n.charAt(o);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function R(n){return n+"\x01\x01"}function U(n){const e=n.length;if(Rt(e>=2),2===e)return Rt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),vn.emptyPath();const t=e-2,r=[];let o="";for(let u=0;u<e;){const d=n.indexOf("\x01",u);switch((d<0||d>t)&&ht(),n.charAt(d+1)){case"\x01":const m=n.substring(u,d);let w;0===o.length?w=m:(o+=m,w=o,o=""),r.push(w);break;case"\x10":o+=n.substring(u,d),o+="\0";break;case"\x11":o+=n.substring(u,d+1);break;default:ht()}u=d+2}return new vn(r)}const K=["userId","batchId"];function he(n,e){return[n,C(e)]}function Me(n,e,t){return[n,C(e),t]}const qe={},et=["prefixPath","collectionGroup","readTime","documentId"],gt=["prefixPath","collectionGroup","documentId"],Mt=["collectionGroup","readTime","prefixPath","documentId"],Le=["canonicalId","targetId"],Lt=["targetId","path"],xn=["path","targetId"],dr=["collectionId","parent"],Qc=["indexId","uid"],K_=["uid","sequenceNumber"],Y_=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Q_=["indexId","uid","orderedDocumentKey"],J_=["userId","collectionPath","documentId"],X_=["userId","collectionPath","largestBatchId"],ew=["userId","collectionGroup","largestBatchId"],Fm=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],tw=[...Fm,"documentOverlays"],Lm=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Ex=Lm,lk=[...Ex,"indexConfiguration","indexState","indexEntries"];class gT extends A_{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function Hi(n,e){const t=nt(n);return Co.M(t.ie,e)}class mT{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&eI(u,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=wh(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=wh(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=km();return this.mutations.forEach(o=>{const u=e.get(o.key),d=u.overlayedDocument;let m=this.applyToLocalView(d,u.mutatedFields);m=t.has(o.key)?null:m;const w=XE(d,m);null!==w&&r.set(o.key,w),d.isValidDocument()||d.convertToNoDocument(Ot.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Yt())}isEqual(e){return this.batchId===e.batchId&&lh(this.mutations,e.mutations,(t,r)=>tI(t,r))&&lh(this.baseMutations,e.baseMutations,(t,r)=>tI(t,r))}}class yT{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){Rt(e.mutations.length===r.length);let o=$_;const u=e.mutations;for(let d=0;d<u.length;d++)o=o.insert(u[d].key,r[d].version);return new yT(e,t,r,o)}}class vT{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ih{constructor(e,t,r,o,u=Ot.min(),d=Ot.min(),m=Yr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m}withSequenceNumber(e){return new Ih(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Ih(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Ih(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Ix{constructor(e){this.re=e}}function Cx(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:gI(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:np(o=n.re,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:Eh(o,u.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:ip(e.version)};else{if(!e.isUnknownDocument())return ht();r.unknownDocument={path:t.path.toArray(),version:ip(e.version)}}var o,u;return r}function gI(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function ip(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function sp(n){const e=new nr(n.seconds,n.nanoseconds);return Ot.fromTimestamp(e)}function op(n,e){const t=(e.baseMutations||[]).map(u=>Z_(n.re,u));for(let u=0;u<e.mutations.length-1;++u){const d=e.mutations[u];u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(d.updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u)}const r=e.mutations.map(u=>Z_(n.re,u)),o=nr.fromMillis(e.localWriteTimeMs);return new mT(e.batchId,o,t,r)}function nw(n){const e=sp(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?sp(n.lastLimboFreeSnapshotVersion):Ot.min();let r;var o;return void 0!==n.query.documents?(Rt(1===(o=n.query).documents.length),r=ji(yh(hI(o.documents[0])))):r=ji(fT(n.query)),new Ih(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Yr.fromBase64String(n.resumeToken))}function Dx(n,e){const t=ip(e.snapshotVersion),r=ip(e.lastLimboFreeSnapshotVersion);let o;o=Cm(e.target)?hT(n.re,e.target):pI(n.re,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Zc(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:o}}function _T(n){const e=fT({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Sm(e,e.limit,"L"):e}function wT(n,e){return new vT(e.largestBatchId,Z_(n.re,e.overlayMutation))}function Tx(n,e){const t=e.path.lastSegment();return[n,C(e.path.popLast()),t]}function Ax(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:ip(r.readTime),documentKey:C(r.documentKey.path),largestBatchId:r.largestBatchId}}class dk{getBundleMetadata(e,t){return Sx(e).get(t).next(r=>{if(r)return{id:(o=r).bundleId,createTime:sp(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return Sx(e).put({bundleId:(r=t).id,createTime:ip(Jr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return xx(e).get(t).next(r=>{if(r)return{name:(o=r).name,query:_T(o.bundledQuery),readTime:sp(o.readTime)};var o})}saveNamedQuery(e,t){return xx(e).put({name:(r=t).name,readTime:ip(Jr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function Sx(n){return Hi(n,"bundles")}function xx(n){return Hi(n,"namedQueries")}class mI{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new mI(e,t.uid||"")}getOverlay(e,t){return rw(e).get(Tx(this.userId,t)).next(r=>r?wT(this.It,r):null)}getOverlays(e,t){const r=Do();return ye.forEach(t,o=>this.getOverlay(e,o).next(u=>{null!==u&&r.set(o,u)})).next(()=>r)}saveOverlays(e,t,r){const o=[];return r.forEach((u,d)=>{const m=new vT(t,d);o.push(this.ue(e,m))}),ye.waitFor(o)}removeOverlaysForBatchId(e,t,r){const o=new Set;t.forEach(d=>o.add(C(d.getCollectionPath())));const u=[];return o.forEach(d=>{const m=IDBKeyRange.bound([this.userId,d,r],[this.userId,d,r+1],!1,!0);u.push(rw(e).Y("collectionPathOverlayIndex",m))}),ye.waitFor(u)}getOverlaysForCollection(e,t,r){const o=Do(),u=C(t),d=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return rw(e).W("collectionPathOverlayIndex",d).next(m=>{for(const w of m){const T=wT(this.It,w);o.set(T.getKey(),T)}return o})}getOverlaysForCollectionGroup(e,t,r,o){const u=Do();let d;const m=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return rw(e).Z({index:"collectionGroupOverlayIndex",range:m},(w,T,M)=>{const O=wT(this.It,T);u.size()<o||O.largestBatchId===d?(u.set(O.getKey(),O),d=O.largestBatchId):M.done()}).next(()=>u)}ue(e,t){return rw(e).put(function(r,o,u){const[d,m,w]=Tx(o,u.mutation.key);return{userId:o,collectionPath:m,documentId:w,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:Pm(r.re,u.mutation)}}(this.It,this.userId,t))}}function rw(n){return Hi(n,"documentOverlays")}class ap{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(xr(e.integerValue));else if("doubleValue"in e){const r=xr(e.doubleValue);isNaN(r)?this.le(t,13):(this.le(t,15),fh(r)?t.fe(0):t.fe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de(`${r.seconds||""}`),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me($l(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.le(t,45),t.fe(r.latitude||0),t.fe(r.longitude||0)}else"mapValue"in e?Zf(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):ht()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const r=e.fields||{};this.le(t,55);for(const o of Object.keys(r))this._e(o,t),this.ae(r[o],t)}pe(e,t){const r=e.values||[];this.le(t,50);for(const o of r)this.ae(o,t)}ge(e,t){this.le(t,37),tt.fromName(e).path.forEach(r=>{this.le(t,60),this.Ie(r,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function hk(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function Mx(n){const e=64-function(t){let r=0;for(let o=0;o<8;++o){const u=hk(255&t[o]);if(r+=u,8!==u)break}return r}(n);return Math.ceil(e/8)}ap.Te=new ap;class fk{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ae(r.value),r=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Pe(r.value),r=t.next();this.ve()}Ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ae(r);else if(r<2048)this.Ae(960|r>>>6),this.Ae(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r);else{const o=t.codePointAt(0);this.Ae(240|o>>>18),this.Ae(128|63&o>>>12),this.Ae(128|63&o>>>6),this.Ae(128|63&o)}}this.Re()}Se(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Pe(r);else if(r<2048)this.Pe(960|r>>>6),this.Pe(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r);else{const o=t.codePointAt(0);this.Pe(240|o>>>18),this.Pe(128|63&o>>>12),this.Pe(128|63&o>>>6),this.Pe(128|63&o)}}this.ve()}De(e){const t=this.Ce(e),r=Mx(t);this.xe(1+r),this.buffer[this.position++]=255&r;for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=255&t[o]}Ne(e){const t=this.Ce(e),r=Mx(t);this.xe(1+r),this.buffer[this.position++]=~(255&r);for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=~(255&t[o])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(o){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,o,!1),new Uint8Array(u.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let o=1;o<t.length;++o)t[o]^=r?255:0;return t}Ae(e){const t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const o=new Uint8Array(r);o.set(this.buffer),this.buffer=o}}class pk{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class gk{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Me()}}class iw{constructor(){this.Be=new fk,this.Le=new pk(this.Be),this.Ue=new gk(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class up{constructor(e,t,r,o){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=o}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new up(this.indexId,this.documentKey,this.arrayValue,r)}}function lp(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=kx(n.arrayValue,e.arrayValue),0!==t?t:(t=kx(n.directionalValue,e.directionalValue),0!==t?t:tt.comparator(n.documentKey,e.documentKey)))}function kx(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class mk{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const r=t;r.dt()?this.je=r:this.Qe.push(r)}}We(e){const t=ym(e);if(void 0!==t&&!this.ze(t))return!1;const r=Gc(e);let o=0,u=0;for(;o<r.length&&this.ze(r[o]);++o);if(o===r.length)return!0;if(void 0!==this.je){const d=r[o];if(!this.He(this.je,d)||!this.Je(this.Ge[u++],d))return!1;++o}for(;o<r.length;++o){const d=r[o];if(u>=this.Ge.length||!this.Je(this.Ge[u++],d))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class yk{constructor(){this.Ye=new bT}addToCollectionParentIndex(e,t){return this.Ye.add(t),ye.resolve()}getCollectionParents(e,t){return ye.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return ye.resolve()}deleteFieldIndex(e,t){return ye.resolve()}getDocumentsMatchingTarget(e,t){return ye.resolve(null)}getIndexType(e,t){return ye.resolve(0)}getFieldIndexes(e,t){return ye.resolve([])}getNextCollectionGroupToUpdate(e){return ye.resolve(null)}getMinOffset(e,t){return ye.resolve(Eo.min())}getMinOffsetFromCollectionGroup(e,t){return ye.resolve(Eo.min())}updateCollectionGroup(e,t,r){return ye.resolve()}updateIndexEntries(e,t){return ye.resolve()}}class bT{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new qn(vn.comparator),u=!o.has(r);return this.index[t]=o.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new qn(vn.comparator)).toArray()}}const yI=new Uint8Array(0);class vk{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new bT,this.Ze=new ra(r=>Zc(r),(r,o)=>zl(r,o)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const r=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const u={collectionId:r,parent:C(o)};return Nx(e).put(u)}return ye.resolve()}getCollectionParents(e,t){const r=[],o=IDBKeyRange.bound([t,""],[TE(t),""],!1,!0);return Nx(e).W(o).next(u=>{for(const d of u){if(d.collectionId!==t)break;r.push(U(d.parent))}return r})}addFieldIndex(e,t){const r=vI(e),o={indexId:(d=t).indexId,collectionGroup:d.collectionGroup,fields:d.fields.map(m=>[m.fieldPath.canonicalString(),m.kind])};var d;delete o.indexId;const u=r.add(o);if(t.indexState){const d=ow(e);return u.next(m=>{d.put(Ax(m,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return u.next()}deleteFieldIndex(e,t){const r=vI(e),o=ow(e),u=sw(e);return r.delete(t.indexId).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=sw(e);let o=!0;const u=new Map;return ye.forEach(this.tn(t),d=>this.en(e,d).next(m=>{o&&(o=!!m),u.set(d,m)})).next(()=>{if(o){let d=Yt();const m=[];return ye.forEach(u,(w,T)=>{var M;Ge("IndexedDbIndexManager",`Using index ${M=w,`id=${M.indexId}|cg=${M.collectionGroup}|f=${M.fields.map(Qt=>`${Qt.fieldPath}:${Qt.kind}`).join(",")}`} to execute ${Zc(t)}`);const O=function(Qt,Jt){const tn=ym(Jt);if(void 0===tn)return null;for(const cn of O_(Qt,tn.fieldPath))switch(cn.op){case"array-contains-any":return cn.value.arrayValue.values||[];case"array-contains":return[cn.value]}return null}(T,w),q=function(Qt,Jt){const tn=new Map;for(const cn of Gc(Jt))for(const Ii of O_(Qt,cn.fieldPath))switch(Ii.op){case"==":case"in":tn.set(cn.fieldPath.canonicalString(),Ii.value);break;case"not-in":case"!=":return tn.set(cn.fieldPath.canonicalString(),Ii.value),Array.from(tn.values())}return null}(T,w),X=function(Qt,Jt){const tn=[];let cn=!0;for(const Ii of Gc(Jt)){const Iw=0===Ii.kind?KD(Qt,Ii.fieldPath,Qt.startAt):YD(Qt,Ii.fieldPath,Qt.startAt);tn.push(Iw.value),cn&&(cn=Iw.inclusive)}return new ql(tn,cn)}(T,w),pe=function(Qt,Jt){const tn=[];let cn=!0;for(const Ii of Gc(Jt)){const Iw=0===Ii.kind?YD(Qt,Ii.fieldPath,Qt.endAt):KD(Qt,Ii.fieldPath,Qt.endAt);tn.push(Iw.value),cn&&(cn=Iw.inclusive)}return new ql(tn,cn)}(T,w),je=this.nn(w,T,X),ze=this.nn(w,T,pe),_t=this.sn(w,T,q),Bt=this.rn(w.indexId,O,je,X.inclusive,ze,pe.inclusive,_t);return ye.forEach(Bt,Qt=>r.J(Qt,t.limit).next(Jt=>{Jt.forEach(tn=>{const cn=tt.fromSegments(tn.documentKey);d.has(cn)||(d=d.add(cn),m.push(cn))})}))}).next(()=>m)}return ye.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,r,o,u,d,m){const w=(null!=t?t.length:1)*Math.max(r.length,u.length),T=w/(null!=t?t.length:1),M=[];for(let O=0;O<w;++O){const q=t?this.on(t[O/T]):yI,X=this.un(e,q,r[O%T],o),pe=this.cn(e,q,u[O%T],d),je=m.map(ze=>this.un(e,q,ze,!0));M.push(...this.createRange(X,pe,je))}return M}un(e,t,r,o){const u=new up(e,tt.empty(),t,r);return o?u:u.Ke()}cn(e,t,r,o){const u=new up(e,tt.empty(),t,r);return o?u.Ke():u}en(e,t){const r=new mk(t),o=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,o).next(u=>{let d=null;for(const m of u)r.We(m)&&(!d||m.fields.length>d.fields.length)&&(d=m);return d})}getIndexType(e,t){let r=2;return ye.forEach(this.tn(t),o=>this.en(e,o).next(u=>{u?0!==r&&u.fields.length<function(d){let m=new qn(_r.comparator),w=!1;for(const T of d.filters){const M=T;M.field.isKeyField()||("array-contains"===M.op||"array-contains-any"===M.op?w=!0:m=m.add(M.field))}for(const T of d.orderBy)T.field.isKeyField()||(m=m.add(T.field));return m.size+(w?1:0)}(o)&&(r=1):r=0})).next(()=>r)}an(e,t){const r=new iw;for(const o of Gc(e)){const u=t.data.field(o.fieldPath);if(null==u)return null;const d=r.qe(o.kind);ap.Te.ce(u,d)}return r.$e()}on(e){const t=new iw;return ap.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const r=new iw;return ap.Te.ce(gh(this.databaseId,t),r.qe(function(o){const u=Gc(o);return 0===u.length?0:u[u.length-1].kind}(e))),r.$e()}sn(e,t,r){if(null===r)return[];let o=[];o.push(new iw);let u=0;for(const d of Gc(e)){const m=r[u++];for(const w of o)if(this.ln(t,d.fieldPath)&&Em(m))o=this.fn(o,d,m);else{const T=w.qe(d.kind);ap.Te.ce(m,T)}}return this.dn(o)}nn(e,t,r){return this.sn(e,t,r.position)}dn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].$e();return t}fn(e,t,r){const o=[...e],u=[];for(const d of r.arrayValue.values||[])for(const m of o){const w=new iw;w.seed(m.$e()),ap.Te.ce(d,w.qe(t.kind)),u.push(w)}return u}ln(e,t){return!!e.filters.find(r=>r instanceof Ei&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=vI(e),o=ow(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(u=>{const d=[];return ye.forEach(u,m=>o.get([m.indexId,this.uid]).next(w=>{d.push(function(T,M){const O=M?new Za(M.sequenceNumber,new Eo(sp(M.readTime),new tt(U(M.documentKey)),M.largestBatchId)):Za.empty(),q=T.fields.map(([X,pe])=>new vm(_r.fromServerFormat(X),pe));return new jf(T.indexId,T.collectionGroup,q,O)}(m,w))})).next(()=>d)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,o)=>{const u=r.indexState.sequenceNumber-o.indexState.sequenceNumber;return 0!==u?u:Kt(r.collectionGroup,o.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const o=vI(e),u=ow(e);return this._n(e).next(d=>o.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(m=>ye.forEach(m,w=>u.put(Ax(w.indexId,this.user,d,r)))))}updateIndexEntries(e,t){const r=new Map;return ye.forEach(t,(o,u)=>{const d=r.get(o.collectionGroup);return(d?ye.resolve(d):this.getFieldIndexes(e,o.collectionGroup)).next(m=>(r.set(o.collectionGroup,m),ye.forEach(m,w=>this.wn(e,o,w).next(T=>{const M=this.mn(u,w);return T.isEqual(M)?ye.resolve():this.gn(e,u,w,T,M)}))))})}yn(e,t,r,o){return sw(e).put({indexId:o.indexId,uid:this.uid,arrayValue:o.arrayValue,directionalValue:o.directionalValue,orderedDocumentKey:this.hn(r,t.key),documentKey:t.key.path.toArray()})}pn(e,t,r,o){return sw(e).delete([o.indexId,this.uid,o.arrayValue,o.directionalValue,this.hn(r,t.key),t.key.path.toArray()])}wn(e,t,r){const o=sw(e);let u=new qn(lp);return o.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.hn(r,t)])},(d,m)=>{u=u.add(new up(r.indexId,t,m.arrayValue,m.directionalValue))}).next(()=>u)}mn(e,t){let r=new qn(lp);const o=this.an(t,e);if(null==o)return r;const u=ym(t);if(null!=u){const d=e.data.field(u.fieldPath);if(Em(d))for(const m of d.arrayValue.values||[])r=r.add(new up(t.indexId,e.key,this.on(m),o))}else r=r.add(new up(t.indexId,e.key,yI,o));return r}gn(e,t,r,o,u){Ge("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const d=[];return function(m,w,T,M,O){const q=m.getIterator(),X=w.getIterator();let pe=Gf(q),je=Gf(X);for(;pe||je;){let ze=!1,_t=!1;if(pe&&je){const Bt=T(pe,je);Bt<0?_t=!0:Bt>0&&(ze=!0)}else null!=pe?_t=!0:ze=!0;ze?(M(je),je=Gf(X)):_t?(O(pe),pe=Gf(q)):(pe=Gf(q),je=Gf(X))}}(o,u,lp,m=>{d.push(this.yn(e,t,r,m))},m=>{d.push(this.pn(e,t,r,m))}),ye.waitFor(d)}_n(e){let t=1;return ow(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,o,u)=>{u.done(),t=o.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((d,m)=>lp(d,m)).filter((d,m,w)=>!m||0!==lp(d,w[m-1]));const o=[];o.push(e);for(const d of r){const m=lp(d,e),w=lp(d,t);if(0===m)o[0]=e.Ke();else if(m>0&&w<0)o.push(d),o.push(d.Ke());else if(w>0)break}o.push(t);const u=[];for(let d=0;d<o.length;d+=2)u.push(IDBKeyRange.bound([o[d].indexId,this.uid,o[d].arrayValue,o[d].directionalValue,yI,[]],[o[d+1].indexId,this.uid,o[d+1].arrayValue,o[d+1].directionalValue,yI,[]]));return u}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Rx)}getMinOffset(e,t){return ye.mapArray(this.tn(t),r=>this.en(e,r).next(o=>o||ht())).next(Rx)}}function Nx(n){return Hi(n,"collectionParents")}function sw(n){return Hi(n,"indexEntries")}function vI(n){return Hi(n,"indexConfiguration")}function ow(n){return Hi(n,"indexState")}function Rx(n){Rt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const o=n[r].indexState.offset;kE(o,e)<0&&(e=o),t<o.largestBatchId&&(t=o.largestBatchId)}return new Eo(e.readTime,e.documentKey,t)}const Ox={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class To{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new To(e,To.DEFAULT_COLLECTION_PERCENTILE,To.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Px(n,e,t){const r=n.store("mutations"),o=n.store("documentMutations"),u=[],d=IDBKeyRange.only(t.batchId);let m=0;const w=r.Z({range:d},(M,O,q)=>(m++,q.delete()));u.push(w.next(()=>{Rt(1===m)}));const T=[];for(const M of t.mutations){const O=Me(e,M.key.path,t.batchId);u.push(o.delete(O)),T.push(M.key)}return ye.waitFor(u).next(()=>T)}function _I(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ht();e=n.noDocument}return JSON.stringify(e).length}To.DEFAULT_COLLECTION_PERCENTILE=10,To.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,To.DEFAULT=new To(41943040,To.DEFAULT_COLLECTION_PERCENTILE,To.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),To.DISABLED=new To(-1,0,0);class wI{constructor(e,t,r,o){this.userId=e,this.It=t,this.indexManager=r,this.referenceDelegate=o,this.In={}}static oe(e,t,r,o){Rt(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new wI(u,t,r,o)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ch(e).Z({index:"userMutationsIndex",range:r},(o,u,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(e,t,r,o){const u=Vm(e),d=Ch(e);return d.add({}).next(m=>{Rt("number"==typeof m);const w=new mT(m,t,r,o),T=function(q,X,pe){const je=pe.baseMutations.map(_t=>Pm(q.re,_t)),ze=pe.mutations.map(_t=>Pm(q.re,_t));return{userId:X,batchId:pe.batchId,localWriteTimeMs:pe.localWriteTime.toMillis(),baseMutations:je,mutations:ze}}(this.It,this.userId,w),M=[];let O=new qn((q,X)=>Kt(q.canonicalString(),X.canonicalString()));for(const q of o){const X=Me(this.userId,q.key.path,m);O=O.add(q.key.path.popLast()),M.push(d.put(T)),M.push(u.put(X,qe))}return O.forEach(q=>{M.push(this.indexManager.addToCollectionParentIndex(e,q))}),e.addOnCommittedListener(()=>{this.In[m]=w.keys()}),ye.waitFor(M).next(()=>w)})}lookupMutationBatch(e,t){return Ch(e).get(t).next(r=>r?(Rt(r.userId===this.userId),op(this.It,r)):null)}Tn(e,t){return this.In[t]?ye.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const o=r.keys();return this.In[t]=o,o}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return Ch(e).Z({index:"userMutationsIndex",range:o},(d,m,w)=>{m.userId===this.userId&&(Rt(m.batchId>=r),u=op(this.It,m)),w.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Ch(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(o,u,d)=>{r=u.batchId,d.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ch(e).W("userMutationsIndex",t).next(r=>r.map(o=>op(this.It,o)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=he(this.userId,t.path),o=IDBKeyRange.lowerBound(r),u=[];return Vm(e).Z({range:o},(d,m,w)=>{const[T,M,O]=d,q=U(M);if(T===this.userId&&t.path.isEqual(q))return Ch(e).get(O).next(X=>{if(!X)throw ht();Rt(X.userId===this.userId),u.push(op(this.It,X))});w.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new qn(Kt);const o=[];return t.forEach(u=>{const d=he(this.userId,u.path),m=IDBKeyRange.lowerBound(d),w=Vm(e).Z({range:m},(T,M,O)=>{const[q,X,pe]=T,je=U(X);q===this.userId&&u.path.isEqual(je)?r=r.add(pe):O.done()});o.push(w)}),ye.waitFor(o).next(()=>this.En(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1,u=he(this.userId,r),d=IDBKeyRange.lowerBound(u);let m=new qn(Kt);return Vm(e).Z({range:d},(w,T,M)=>{const[O,q,X]=w,pe=U(q);O===this.userId&&r.isPrefixOf(pe)?pe.length===o&&(m=m.add(X)):M.done()}).next(()=>this.En(e,m))}En(e,t){const r=[],o=[];return t.forEach(u=>{o.push(Ch(e).get(u).next(d=>{if(null===d)throw ht();Rt(d.userId===this.userId),r.push(op(this.It,d))}))}),ye.waitFor(o).next(()=>r)}removeMutationBatch(e,t){return Px(e.ie,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),ye.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ye.resolve();const r=IDBKeyRange.lowerBound([this.userId]),o=[];return Vm(e).Z({range:r},(u,d,m)=>{if(u[0]===this.userId){const w=U(u[1]);o.push(w)}else m.done()}).next(()=>{Rt(0===o.length)})})}containsKey(e,t){return Fx(e,this.userId,t)}Rn(e){return Lx(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Fx(n,e,t){const r=he(e,t.path),o=r[1],u=IDBKeyRange.lowerBound(r);let d=!1;return Vm(n).Z({range:u,X:!0},(m,w,T)=>{const[M,O,q]=m;M===e&&O===o&&(d=!0),T.done()}).next(()=>d)}function Ch(n){return Hi(n,"mutations")}function Vm(n){return Hi(n,"documentMutations")}function Lx(n){return Hi(n,"mutationQueues")}class cp{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new cp(0)}static vn(){return new cp(-1)}}class _k{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const r=new cp(t.highestTargetId);return t.highestTargetId=r.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>Ot.fromTimestamp(new nr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Vn(e).next(o=>(o.highestListenSequenceNumber=t,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.Sn(e,o)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(r=>(r.targetCount+=1,this.Cn(t,r),this.Sn(e,r))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Um(e).delete(t.targetId)).next(()=>this.Vn(e)).next(r=>(Rt(r.targetCount>0),r.targetCount-=1,this.Sn(e,r)))}removeTargets(e,t,r){let o=0;const u=[];return Um(e).Z((d,m)=>{const w=nw(m);w.sequenceNumber<=t&&null===r.get(w.targetId)&&(o++,u.push(this.removeTargetData(e,w)))}).next(()=>ye.waitFor(u)).next(()=>o)}forEachTarget(e,t){return Um(e).Z((r,o)=>{const u=nw(o);t(u)})}Vn(e){return Vx(e).get("targetGlobalKey").next(t=>(Rt(null!==t),t))}Sn(e,t){return Vx(e).put("targetGlobalKey",t)}Dn(e,t){return Um(e).put(Dx(this.It,t))}Cn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Zc(t),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return Um(e).Z({range:o,index:"queryTargetsIndex"},(d,m,w)=>{const T=nw(m);zl(t,T.target)&&(u=T,w.done())}).next(()=>u)}addMatchingKeys(e,t,r){const o=[],u=Dh(e);return t.forEach(d=>{const m=C(d.path);o.push(u.put({targetId:r,path:m})),o.push(this.referenceDelegate.addReference(e,r,d))}),ye.waitFor(o)}removeMatchingKeys(e,t,r){const o=Dh(e);return ye.forEach(t,u=>{const d=C(u.path);return ye.waitFor([o.delete([r,d]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,t){const r=Dh(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),o=Dh(e);let u=Yt();return o.Z({range:r,X:!0},(d,m,w)=>{const T=U(d[1]),M=new tt(T);u=u.add(M)}).next(()=>u)}containsKey(e,t){const r=C(t.path),o=IDBKeyRange.bound([r],[TE(r)],!1,!0);let u=0;return Dh(e).Z({index:"documentTargetsIndex",X:!0,range:o},([d,m],w,T)=>{0!==d&&(u++,T.done())}).next(()=>u>0)}se(e,t){return Um(e).get(t).next(r=>r?nw(r):null)}}function Um(n){return Hi(n,"targets")}function Vx(n){return Hi(n,"targetGlobal")}function Dh(n){return Hi(n,"targetDocuments")}function Ux([n,e],[t,r]){const o=Kt(n,t);return 0===o?Kt(e,r):o}class wk{constructor(e){this.xn=e,this.buffer=new qn(Ux),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Ux(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class bk{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;Ge("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Se.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Bl(r)?Ge("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Io(r)}yield t.Fn(3e5)}))}}class Ek{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return ye.resolve(ls.at);const r=new wk(t);return this.$n.forEachTarget(e,o=>r.On(o.sequenceNumber)).next(()=>this.$n.Ln(e,o=>r.On(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.$n.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ge("LruGarbageCollector","Garbage collection skipped; disabled"),ye.resolve(Ox)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ox):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let r,o,u,d,m,w,T;const M=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(O=>(O>this.params.maximumSequenceNumbersToCollect?(Ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${O}`),o=this.params.maximumSequenceNumbersToCollect):o=O,d=Date.now(),this.nthSequenceNumber(e,o))).next(O=>(r=O,m=Date.now(),this.removeTargets(e,r,t))).next(O=>(u=O,w=Date.now(),this.removeOrphanedDocuments(e,r))).next(O=>(T=Date.now(),bo()<=Ku.in.DEBUG&&Ge("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-M}ms\n\tDetermined least recently used ${o} in `+(m-d)+`ms\n\tRemoved ${u} targets in `+(w-m)+`ms\n\tRemoved ${O} documents in `+(T-w)+`ms\nTotal Duration: ${T-M}ms`),ye.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:O})))}}class Ik{constructor(e,t){this.db=e,this.garbageCollector=new Ek(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}qn(e){let t=0;return this.Ln(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(r,o)=>t(o))}addReference(e,t,r){return bI(e,r)}removeReference(e,t,r){return bI(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return bI(e,t)}Gn(e,t){return function(r,o){let u=!1;return Lx(r).tt(d=>Fx(r,d,o).next(m=>(m&&(u=!0),ye.resolve(!m)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let u=0;return this.Kn(e,(d,m)=>{if(m<=t){const w=this.Gn(e,d).next(T=>{if(!T)return u++,r.getEntry(e,d).next(()=>(r.removeEntry(d,Ot.min()),Dh(e).delete([0,C(d.path)])))});o.push(w)}}).next(()=>ye.waitFor(o)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return bI(e,t)}Kn(e,t){const r=Dh(e);let o,u=ls.at;return r.Z({index:"documentTargetsIndex"},([d,m],{path:w,sequenceNumber:T})=>{0===d?(u!==ls.at&&t(new tt(U(o)),u),u=T,o=w):u=ls.at}).next(()=>{u!==ls.at&&t(new tt(U(o)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function bI(n,e){return Dh(n).put((r=n.currentSequenceNumber,{targetId:0,path:C(e.path),sequenceNumber:r}));var r}class Bx{constructor(){this.changes=new ra(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Wn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ye.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Ck{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return dp(e).put(r)}removeEntry(e,t,r){return dp(e).delete(function(o,u){const d=o.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],gI(u),d[d.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Qn(e,r)))}getEntry(e,t){let r=Wn.newInvalidDocument(t);return dp(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(aw(t))},(o,u)=>{r=this.jn(t,u)}).next(()=>r)}Wn(e,t){let r={size:0,document:Wn.newInvalidDocument(t)};return dp(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(aw(t))},(o,u)=>{r={document:this.jn(t,u),size:_I(u)}}).next(()=>r)}getEntries(e,t){let r=Is();return this.zn(e,t,(o,u)=>{const d=this.jn(o,u);r=r.insert(o,d)}).next(()=>r)}Hn(e,t){let r=Is(),o=new Sr(tt.comparator);return this.zn(e,t,(u,d)=>{const m=this.jn(u,d);r=r.insert(u,m),o=o.insert(u,_I(d))}).next(()=>({documents:r,Jn:o}))}zn(e,t,r){if(t.isEmpty())return ye.resolve();let o=new qn(Gx);t.forEach(w=>o=o.add(w));const u=IDBKeyRange.bound(aw(o.first()),aw(o.last())),d=o.getIterator();let m=d.getNext();return dp(e).Z({index:"documentKeyIndex",range:u},(w,T,M)=>{const O=tt.fromSegments([...T.prefixPath,T.collectionGroup,T.documentId]);for(;m&&Gx(m,O)<0;)r(m,null),m=d.getNext();m&&m.isEqual(O)&&(r(m,T),m=d.hasNext()?d.getNext():null),m?M.j(aw(m)):M.done()}).next(()=>{for(;m;)r(m,null),m=d.hasNext()?d.getNext():null})}getAllFromCollection(e,t,r){const o=[t.popLast().toArray(),t.lastSegment(),gI(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return dp(e).W(IDBKeyRange.bound(o,u,!0)).next(d=>{let m=Is();for(const w of d){const T=this.jn(tt.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);m=m.insert(T.key,T)}return m})}getAllFromCollectionGroup(e,t,r,o){let u=Is();const d=$x(t,r),m=$x(t,Eo.max());return dp(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,m,!0)},(w,T,M)=>{const O=this.jn(tt.fromSegments(T.prefixPath.concat(T.collectionGroup,T.documentId)),T);u=u.insert(O.key,O),u.size===o&&M.done()}).next(()=>u)}newChangeBuffer(e){return new Dk(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Hx(e).get("remoteDocumentGlobalKey").next(t=>(Rt(!!t),t))}Qn(e,t){return Hx(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const r=function ck(n,e){let t;if(e.document)t=dT(n.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=tt.fromSegments(e.noDocument.path),o=sp(e.noDocument.readTime);t=Wn.newNoDocument(r,o),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ht();{const r=tt.fromSegments(e.unknownDocument.path),o=sp(e.unknownDocument.version);t=Wn.newUnknownDocument(r,o)}}return e.readTime&&t.setReadTime(function(r){const o=new nr(r[0],r[1]);return Ot.fromTimestamp(o)}(e.readTime)),t}(this.It,t);if(!r.isNoDocument()||!r.version.isEqual(Ot.min()))return r}return Wn.newInvalidDocument(e)}}function jx(n){return new Ck(n)}class Dk extends Bx{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new ra(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(e){const t=[];let r=0,o=new qn((u,d)=>Kt(u.canonicalString(),d.canonicalString()));return this.changes.forEach((u,d)=>{const m=this.Xn.get(u);if(t.push(this.Yn.removeEntry(e,u,m.readTime)),d.isValidDocument()){const w=Cx(this.Yn.It,d);o=o.add(u.path.popLast()),r+=_I(w)-m.size,t.push(this.Yn.addEntry(e,u,w))}else if(r-=m.size,this.trackRemovals){const w=Cx(this.Yn.It,d.convertToNoDocument(Ot.min()));t.push(this.Yn.addEntry(e,u,w))}}),o.forEach(u=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.Yn.updateMetadata(e,r)),ye.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(r=>(this.Xn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:r,Jn:o})=>(o.forEach((u,d)=>{this.Xn.set(u,{size:d,readTime:r.get(u).readTime})}),r))}}function Hx(n){return Hi(n,"remoteDocumentGlobal")}function dp(n){return Hi(n,"remoteDocumentsV14")}function aw(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function $x(n,e){const t=e.documentKey.path.toArray();return[n,gI(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Gx(n,e){const t=n.path.toArray(),r=e.path.toArray();let o=0;for(let u=0;u<t.length-2&&u<r.length-2;++u)if(o=Kt(t[u],r[u]),o)return o;return o=Kt(t.length,r.length),o||(o=Kt(t[t.length-2],r[r.length-2]),o||Kt(t[t.length-1],r[r.length-1]))}class Tk{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class zx{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(r=o,this.getBaseDocument(e,t,r))).next(o=>(null!==r&&wh(r.mutation,o,Gs.empty(),nr.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Yt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Yt()){const o=Do();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,r).next(u=>{let d=ia();return u.forEach((m,w)=>{d=d.insert(m,w.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const r=Do();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Yt()))}populateOverlays(e,t,r){const o=[];return r.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((d,m)=>{t.set(d,m)})})}computeViews(e,t,r,o){let u=Is();const d=Xf(),m=Xf();return t.forEach((w,T)=>{const M=r.get(T.key);o.has(T.key)&&(void 0===M||M.mutation instanceof Ql)?u=u.insert(T.key,T):void 0!==M&&(d.set(T.key,M.mutation.getFieldMask()),wh(M.mutation,T,M.mutation.getFieldMask(),nr.now()))}),this.recalculateAndSaveOverlays(e,u).next(w=>(w.forEach((T,M)=>d.set(T,M)),t.forEach((T,M)=>{var O;return m.set(T,new Tk(M,null!==(O=d.get(T))&&void 0!==O?O:null))}),m))}recalculateAndSaveOverlays(e,t){const r=Xf();let o=new Sr((d,m)=>d-m),u=Yt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const m of d)m.keys().forEach(w=>{const T=t.get(w);if(null===T)return;let M=r.get(w)||Gs.empty();M=m.applyToLocalView(T,M),r.set(w,M);const O=(o.get(m.batchId)||Yt()).add(w);o=o.insert(m.batchId,O)})}).next(()=>{const d=[],m=o.getReverseIterator();for(;m.hasNext();){const w=m.getNext(),T=w.key,M=w.value,O=km();M.forEach(q=>{if(!u.has(q)){const X=XE(t.get(q),r.get(q));null!==X&&O.set(q,X),u=u.add(q)}}),d.push(this.documentOverlayCache.saveOverlays(e,T,O))}return ye.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return tt.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):P_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var o}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next(u=>{const d=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-u.size):ye.resolve(Do());let m=-1,w=u;return d.next(T=>ye.forEach(T,(M,O)=>(m<O.largestBatchId&&(m=O.largestBatchId),u.get(M)?ye.resolve():this.getBaseDocument(e,M,O).next(q=>{w=w.insert(M,q)}))).next(()=>this.populateOverlays(e,T,u)).next(()=>this.computeViews(e,w,T,Yt())).next(M=>({batchId:m,changes:H_(M)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new tt(t)).next(r=>{let o=ia();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const o=t.collectionGroup;let u=ia();return this.indexManager.getCollectionParents(e,o).next(d=>ye.forEach(d,m=>{const w=(T=t,M=m.child(o),new na(M,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt));var T,M;return this.getDocumentsMatchingCollectionQuery(e,w,r).next(T=>{T.forEach((M,O)=>{u=u.insert(M,O)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r){let o;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(u=>(o=u,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(u=>{u.forEach((m,w)=>{const T=w.getKey();null===o.get(T)&&(o=o.insert(T,Wn.newInvalidDocument(T)))});let d=ia();return o.forEach((m,w)=>{const T=u.get(m);void 0!==T&&wh(T.mutation,w,Gs.empty(),nr.now()),Ka(t,w)&&(d=d.insert(m,w))}),d})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):ye.resolve(Wn.newInvalidDocument(t))}}class Ak{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return ye.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:Jr(r.createTime)}),ye.resolve()}getNamedQuery(e,t){return ye.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:_T(r.bundledQuery),readTime:Jr(r.readTime)}),ye.resolve();var r}}class Sk{constructor(){this.overlays=new Sr(tt.comparator),this.es=new Map}getOverlay(e,t){return ye.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Do();return ye.forEach(t,o=>this.getOverlay(e,o).next(u=>{null!==u&&r.set(o,u)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((o,u)=>{this.ue(e,t,u)}),ye.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.es.get(r);return void 0!==o&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.es.delete(r)),ye.resolve()}getOverlaysForCollection(e,t,r){const o=Do(),u=t.length+1,d=new tt(t.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const w=m.getNext().value,T=w.getKey();if(!t.isPrefixOf(T.path))break;T.path.length===u&&w.largestBatchId>r&&o.set(w.getKey(),w)}return ye.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let u=new Sr((T,M)=>T-M);const d=this.overlays.getIterator();for(;d.hasNext();){const T=d.getNext().value;if(T.getKey().getCollectionGroup()===t&&T.largestBatchId>r){let M=u.get(T.largestBatchId);null===M&&(M=Do(),u=u.insert(T.largestBatchId,M)),M.set(T.getKey(),T)}}const m=Do(),w=u.getIterator();for(;w.hasNext()&&(w.getNext().value.forEach((T,M)=>m.set(T,M)),!(m.size()>=o)););return ye.resolve(m)}ue(e,t,r){const o=this.overlays.get(r.key);if(null!==o){const d=this.es.get(o.largestBatchId).delete(r.key);this.es.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new vT(t,r));let u=this.es.get(t);void 0===u&&(u=Yt(),this.es.set(t,u)),this.es.set(t,u.add(r.key))}}class ET{constructor(){this.ns=new qn($i.ss),this.rs=new qn($i.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new $i(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new $i(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new tt(new vn([])),r=new $i(t,e),o=new $i(t,e+1),u=[];return this.rs.forEachInRange([r,o],d=>{this.cs(d),u.push(d.key)}),u}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new tt(new vn([])),r=new $i(t,e),o=new $i(t,e+1);let u=Yt();return this.rs.forEachInRange([r,o],d=>{u=u.add(d.key)}),u}containsKey(e){const t=new $i(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class $i{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return tt.comparator(e.key,t.key)||Kt(e._s,t._s)}static os(e,t){return Kt(e._s,t._s)||tt.comparator(e.key,t.key)}}class xk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new qn($i.ss)}checkEmpty(e){return ye.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,o){const u=this.ws;this.ws++;const d=new mT(u,t,r,o);this.mutationQueue.push(d);for(const m of o)this.gs=this.gs.add(new $i(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ye.resolve(d)}lookupMutationBatch(e,t){return ye.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const o=this.ps(t+1),u=o<0?0:o;return ye.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ye.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return ye.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new $i(t,0),o=new $i(t,Number.POSITIVE_INFINITY),u=[];return this.gs.forEachInRange([r,o],d=>{const m=this.ys(d._s);u.push(m)}),ye.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new qn(Kt);return t.forEach(o=>{const u=new $i(o,0),d=new $i(o,Number.POSITIVE_INFINITY);this.gs.forEachInRange([u,d],m=>{r=r.add(m._s)})}),ye.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let u=r;tt.isDocumentKey(u)||(u=u.child(""));const d=new $i(new tt(u),0);let m=new qn(Kt);return this.gs.forEachWhile(w=>{const T=w.key.path;return!!r.isPrefixOf(T)&&(T.length===o&&(m=m.add(w._s)),!0)},d),ye.resolve(this.Is(m))}Is(e){const t=[];return e.forEach(r=>{const o=this.ys(r);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){Rt(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return ye.forEach(t.mutations,o=>{const u=new $i(o.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new $i(t,0),o=this.gs.firstAfterOrEqual(r);return ye.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return ye.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Mk{constructor(e){this.Es=e,this.docs=new Sr(tt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),u=o?o.size:0,d=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ye.resolve(r?r.document.mutableCopy():Wn.newInvalidDocument(t))}getEntries(e,t){let r=Is();return t.forEach(o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():Wn.newInvalidDocument(o))}),ye.resolve(r)}getAllFromCollection(e,t,r){let o=Is();const u=new tt(t.child("")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:m,value:{document:w}}=d.getNext();if(!t.isPrefixOf(m.path))break;m.path.length>t.length+1||kE(ME(w),r)<=0||(o=o.insert(w.key,w.mutableCopy()))}return ye.resolve(o)}getAllFromCollectionGroup(e,t,r,o){ht()}As(e,t){return ye.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new kk(this)}getSize(e){return ye.resolve(this.size)}}class kk extends Bx{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.Yn.addEntry(e,o)):this.Yn.removeEntry(r)}),ye.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class Nk{constructor(e){this.persistence=e,this.Rs=new ra(t=>Zc(t),zl),this.lastRemoteSnapshotVersion=Ot.min(),this.highestTargetId=0,this.bs=0,this.Ps=new ET,this.targetCount=0,this.vs=cp.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,o)=>t(o)),ye.resolve()}getLastRemoteSnapshotVersion(e){return ye.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ye.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),ye.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),ye.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new cp(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,ye.resolve()}updateTargetData(e,t){return this.Dn(t),ye.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,ye.resolve()}removeTargets(e,t,r){let o=0;const u=[];return this.Rs.forEach((d,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.Rs.delete(d),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ye.waitFor(u).next(()=>o)}getTargetCount(e){return ye.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return ye.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),ye.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(d=>{u.push(o.markPotentiallyOrphaned(e,d))}),ye.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),ye.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return ye.resolve(r)}containsKey(e,t){return ye.resolve(this.Ps.containsKey(t))}}class qx{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new ls(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new Nk(this),this.indexManager=new yk,this.remoteDocumentCache=new Mk(r=>this.referenceDelegate.xs(r)),this.It=new Ix(t),this.Ns=new Ak(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Sk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new xk(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){Ge("MemoryPersistence","Starting transaction:",e);const o=new Rk(this.Ss.next());return this.referenceDelegate.ks(),r(o).next(u=>this.referenceDelegate.Os(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ms(e,t){return ye.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class Rk extends A_{constructor(e){super(),this.currentSequenceNumber=e}}class EI{constructor(e){this.persistence=e,this.Fs=new ET,this.$s=null}static Bs(e){return new EI(e)}get Ls(){if(this.$s)return this.$s;throw ht()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),ye.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),ye.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),ye.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(o=>this.Ls.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.Ls.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ye.forEach(this.Ls,r=>{const o=tt.fromPath(r);return this.Us(e,o).next(u=>{u||t.removeEntry(o,Ot.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return ye.or([()=>ye.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class Ok{constructor(e){this.It=e}$(e,t,r,o){const u=new _m("createOrUpgrade",t);var m;r<1&&o>=1&&(e.createObjectStore("owner"),(m=e).createObjectStore("mutationQueues",{keyPath:"userId"}),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",K,{unique:!0}),m.createObjectStore("documentMutations"),Wx(e),function(m){m.createObjectStore("remoteDocuments")}(e));let d=ye.resolve();return r<3&&o>=3&&(0!==r&&(function(m){m.deleteObjectStore("targetDocuments"),m.deleteObjectStore("targets"),m.deleteObjectStore("targetGlobal")}(e),Wx(e)),d=d.next(()=>function(m){const w=m.store("targetGlobal"),T={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ot.min().toTimestamp(),targetCount:0};return w.put("targetGlobalKey",T)}(u))),r<4&&o>=4&&(0!==r&&(d=d.next(()=>function(m,w){return w.store("mutations").W().next(T=>{m.deleteObjectStore("mutations"),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",K,{unique:!0});const M=w.store("mutations"),O=T.map(q=>M.put(q));return ye.waitFor(O)})}(e,u))),d=d.next(()=>{!function(m){m.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&o>=5&&(d=d.next(()=>this.qs(u))),r<6&&o>=6&&(d=d.next(()=>(function(m){m.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(u)))),r<7&&o>=7&&(d=d.next(()=>this.Gs(u))),r<8&&o>=8&&(d=d.next(()=>this.Qs(e,u))),r<9&&o>=9&&(d=d.next(()=>{!function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&o>=10&&(d=d.next(()=>this.js(u))),r<11&&o>=11&&(d=d.next(()=>{(function(m){m.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(m){m.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&o>=12&&(d=d.next(()=>{!function(m){const w=m.createObjectStore("documentOverlays",{keyPath:J_});w.createIndex("collectionPathOverlayIndex",X_,{unique:!1}),w.createIndex("collectionGroupOverlayIndex",ew,{unique:!1})}(e)})),r<13&&o>=13&&(d=d.next(()=>function(m){const w=m.createObjectStore("remoteDocumentsV14",{keyPath:et});w.createIndex("documentKeyIndex",gt),w.createIndex("collectionGroupIndex",Mt)}(e)).next(()=>this.Ws(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&o>=14&&(d=d.next(()=>this.zs(e,u))),r<15&&o>=15&&(d=d.next(()=>function(m){m.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),m.createObjectStore("indexState",{keyPath:Qc}).createIndex("sequenceNumberIndex",K_,{unique:!1}),m.createObjectStore("indexEntries",{keyPath:Y_}).createIndex("documentKeyIndex",Q_,{unique:!1})}(e))),d}Ks(e){let t=0;return e.store("remoteDocuments").Z((r,o)=>{t+=_I(o)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}qs(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(o=>ye.forEach(o,u=>{const d=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",d).next(m=>ye.forEach(m,w=>{Rt(w.userId===u.userId);const T=op(this.It,w);return Px(e,u.userId,T).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(o=>{const u=[];return r.Z((d,m)=>{const w=new vn(d),T=[0,C(w)];u.push(t.get(T).next(M=>M?ye.resolve():t.put({targetId:0,path:C(w),sequenceNumber:o.highestListenSequenceNumber})))}).next(()=>ye.waitFor(u))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:dr});const r=t.store("collectionParents"),o=new bT,u=d=>{if(o.add(d)){const m=d.lastSegment(),w=d.popLast();return r.put({collectionId:m,parent:C(w)})}};return t.store("remoteDocuments").Z({X:!0},(d,m)=>{const w=new vn(d);return u(w.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([d,m,w],T)=>{const M=U(m);return u(M.popLast())}))}js(e){const t=e.store("targets");return t.Z((r,o)=>{const u=nw(o),d=Dx(this.It,u);return t.put(d)})}Ws(e,t){const r=t.store("remoteDocuments"),o=[];return r.Z((u,d)=>{const m=t.store("remoteDocumentsV14"),w=(T=d,T.document?new tt(vn.fromString(T.document.name).popFirst(5)):T.noDocument?tt.fromSegments(T.noDocument.path):T.unknownDocument?tt.fromSegments(T.unknownDocument.path):ht()).path.toArray();var T;const M={prefixPath:w.slice(0,w.length-2),collectionGroup:w[w.length-2],documentId:w[w.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};o.push(m.put(M))}).next(()=>ye.waitFor(o))}zs(e,t){const r=t.store("mutations"),o=jx(this.It),u=new qx(EI.Bs,this.It.re);return r.W().next(d=>{const m=new Map;return d.forEach(w=>{var T;let M=null!==(T=m.get(w.userId))&&void 0!==T?T:Yt();op(this.It,w).keys().forEach(O=>M=M.add(O)),m.set(w.userId,M)}),ye.forEach(m,(w,T)=>{const M=new Ar(T),O=mI.oe(this.It,M),q=u.getIndexManager(M),X=wI.oe(M,this.It,q,u.referenceDelegate);return new zx(o,X,O,q).recalculateAndSaveOverlaysForDocumentKeys(new gT(t,ls.at),w).next()})})}}function Wx(n){n.createObjectStore("targetDocuments",{keyPath:Lt}).createIndex("documentTargetsIndex",xn,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Le,{unique:!0}),n.createObjectStore("targetGlobal")}const IT="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class CT{constructor(e,t,r,o,u,d,m,w,T,M,O=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Hs=u,this.window=d,this.document=m,this.Js=T,this.Ys=M,this.Xs=O,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=q=>Promise.resolve(),!CT.C())throw new Ue(be.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ik(this,o),this.ii=t+"main",this.It=new Ix(w),this.ri=new Co(this.ii,this.Xs,new Ok(this.It)),this.Cs=new _k(this.referenceDelegate,this.It),this.remoteDocumentCache=jx(this.It),this.Ns=new dk,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===M&&tr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ue(be.FAILED_PRECONDITION,IT);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new ls(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var r=(0,Se.Z)(function*(o){if(t.started)return e(o)});return function(o){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,Se.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,Se.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>II(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(Bl(e))return Ge("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ge("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return uw(e).get("owner").next(t=>ye.resolve(this.mi(t)))}gi(e){return II(e).delete(this.clientId)}yi(){var e=this;return(0,Se.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=Hi(r,"clientMetadata");return o.W().next(u=>{const d=e.Ii(u,18e5),m=u.filter(w=>-1===d.indexOf(w));return ye.forEach(m,w=>o.delete(w.clientId)).next(()=>m)})}).catch(()=>[]);if(e.oi)for(const r of t)e.oi.removeItem(e.Ti(r.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?ye.resolve(!0):uw(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Ue(be.FAILED_PRECONDITION,IT);return!1}}return!(!this.networkEnabled||!this.inForeground)||II(e).W().next(r=>void 0===this.Ii(r,5e3).find(o=>{if(this.clientId!==o.clientId){const d=!this.inForeground&&o.inForeground,m=this.networkEnabled===o.networkEnabled;if(!this.networkEnabled&&o.networkEnabled||d&&m)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Ge("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Se.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new gT(t,ls.at);return e._i(r).next(()=>e.gi(r))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(r=>this.pi(r.updateTimeMs,t)&&!this.Ei(r.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>II(e).W().next(t=>this.Ii(t,18e5).map(r=>r.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return wI.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new vk(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return mI.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,r){Ge("IndexedDbPersistence","Starting transaction:",e);const o="readonly"===t?"readonly":"readwrite",u=15===(d=this.Xs)?lk:14===d?Ex:13===d?Lm:12===d?tw:11===d?Fm:void ht();var d;let m;return this.ri.runTransaction(e,o,u,w=>(m=new gT(w,this.Ss?this.Ss.next():ls.at),"readwrite-primary"===t?this.fi(m).next(T=>!!T||this.di(m)).next(T=>{if(!T)throw tr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Ue(be.FAILED_PRECONDITION,T_);return r(m)}).next(T=>this.wi(m).next(()=>T)):this.Vi(m).next(()=>r(m)))).then(w=>(m.raiseOnCommittedEvent(),w))}Vi(e){return uw(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ue(be.FAILED_PRECONDITION,IT)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return uw(e).put("owner",t)}static C(){return Co.C()}_i(e){const t=uw(e);return t.get("owner").next(r=>this.mi(r)?(Ge("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ye.resolve())}pi(e,t){const r=Date.now();return!(e<r-t||e>r&&(tr(`Detected an update time that is in the future: ${e} > ${r}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,Dn.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const r=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Ge("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return tr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){tr("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function uw(n){return Hi(n,"owner")}function II(n){return Hi(n,"clientMetadata")}function DT(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class TT{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=o}static Ci(e,t){let r=Yt(),o=Yt();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new TT(e,t.fromCache,r,o)}}class Zx{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,o){return this.ki(e,t).next(u=>u||this.Oi(e,t,o,r)).next(u=>u||this.Mi(e,t))}ki(e,t){if(Dm(t))return ye.resolve(null);let r=ji(t);return this.indexManager.getIndexType(e,r).next(o=>0===o?null:(null!==t.limit&&1===o&&(t=Sm(t,null,"F"),r=ji(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const d=Yt(...u);return this.Ni.getDocuments(e,d).next(m=>this.indexManager.getMinOffset(e,r).next(w=>{const T=this.Fi(t,m);return this.$i(t,T,d,w.readTime)?this.ki(e,Sm(t,null,"F")):this.Bi(e,T,t,w)}))})))}Oi(e,t,r,o){return Dm(t)||o.isEqual(Ot.min())?this.Mi(e,t):this.Ni.getDocuments(e,r).next(u=>{const d=this.Fi(t,u);return this.$i(t,d,r,o)?this.Mi(e,t):(bo()<=Ku.in.DEBUG&&Ge("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Kf(t)),this.Bi(e,d,t,xE(o,-1)))})}Fi(e,t){let r=new qn(xm(e));return t.forEach((o,u)=>{Ka(e,u)&&(r=r.add(u))}),r}$i(e,t,r,o){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Mi(e,t){return bo()<=Ku.in.DEBUG&&Ge("QueryEngine","Using full collection scan to execute query:",Kf(t)),this.Ni.getDocumentsMatchingQuery(e,t,Eo.min())}Bi(e,t,r,o){return this.Ni.getDocumentsMatchingQuery(e,r,o).next(u=>(t.forEach(d=>{u=u.insert(d.key,d)}),u))}}class Pk{constructor(e,t,r,o){this.persistence=e,this.Li=t,this.It=o,this.Ui=new Sr(Kt),this.qi=new ra(u=>Zc(u),zl),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zx(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function Kx(n,e,t,r){return new Pk(n,e,t,r)}function Yx(n,e){return AT.apply(this,arguments)}function AT(){return AT=(0,Se.Z)(function*(n,e){const t=nt(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next(u=>(o=u,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(u=>{const d=[],m=[];let w=Yt();for(const T of o){d.push(T.batchId);for(const M of T.mutations)w=w.add(M.key)}for(const T of u){m.push(T.batchId);for(const M of T.mutations)w=w.add(M.key)}return t.localDocuments.getDocuments(r,w).next(T=>({ji:T,removedBatchIds:d,addedBatchIds:m}))})})}),AT.apply(this,arguments)}function Fk(n,e){const t=nt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),u=t.Gi.newChangeBuffer({trackRemovals:!0});return function(d,m,w,T){const M=w.batch,O=M.keys();let q=ye.resolve();return O.forEach(X=>{q=q.next(()=>T.getEntry(m,X)).next(pe=>{const je=w.docVersions.get(X);Rt(null!==je),pe.version.compareTo(je)<0&&(M.applyToRemoteDocument(pe,w),pe.isValidDocument()&&(pe.setReadTime(w.commitVersion),T.addEntry(pe)))})}),q.next(()=>d.mutationQueue.removeMutationBatch(m,M))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let m=Yt();for(let w=0;w<d.mutationResults.length;++w)d.mutationResults[w].transformResults.length>0&&(m=m.add(d.batch.mutations[w].key));return m}(e))).next(()=>t.localDocuments.getDocuments(r,o))})}function Qx(n){const e=nt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function Lk(n,e){const t=nt(n),r=e.snapshotVersion;let o=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const d=t.Gi.newChangeBuffer({trackRemovals:!0});o=t.Ui;const m=[];e.targetChanges.forEach((M,O)=>{const q=o.get(O);if(!q)return;m.push(t.Cs.removeMatchingKeys(u,M.removedDocuments,O).next(()=>t.Cs.addMatchingKeys(u,M.addedDocuments,O)));let X=q.withSequenceNumber(u.currentSequenceNumber);var pe,je,ze;e.targetMismatches.has(O)?X=X.withResumeToken(Yr.EMPTY_BYTE_STRING,Ot.min()).withLastLimboFreeSnapshotVersion(Ot.min()):M.resumeToken.approximateByteSize()>0&&(X=X.withResumeToken(M.resumeToken,r)),o=o.insert(O,X),je=X,ze=M,(0===(pe=q).resumeToken.approximateByteSize()||je.snapshotVersion.toMicroseconds()-pe.snapshotVersion.toMicroseconds()>=3e8||ze.addedDocuments.size+ze.modifiedDocuments.size+ze.removedDocuments.size>0)&&m.push(t.Cs.updateTargetData(u,X))});let w=Is(),T=Yt();if(e.documentUpdates.forEach(M=>{e.resolvedLimboDocuments.has(M)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,M))}),m.push(Jx(u,d,e.documentUpdates).next(M=>{w=M.Wi,T=M.zi})),!r.isEqual(Ot.min())){const M=t.Cs.getLastRemoteSnapshotVersion(u).next(O=>t.Cs.setTargetsMetadata(u,u.currentSequenceNumber,r));m.push(M)}return ye.waitFor(m).next(()=>d.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,w,T)).next(()=>w)}).then(u=>(t.Ui=o,u))}function Jx(n,e,t){let r=Yt(),o=Yt();return t.forEach(u=>r=r.add(u)),e.getEntries(n,r).next(u=>{let d=Is();return t.forEach((m,w)=>{const T=u.get(m);w.isFoundDocument()!==T.isFoundDocument()&&(o=o.add(m)),w.isNoDocument()&&w.version.isEqual(Ot.min())?(e.removeEntry(m,w.readTime),d=d.insert(m,w)):!T.isValidDocument()||w.version.compareTo(T.version)>0||0===w.version.compareTo(T.version)&&T.hasPendingWrites?(e.addEntry(w),d=d.insert(m,w)):Ge("LocalStore","Ignoring outdated watch update for ",m,". Current version:",T.version," Watch version:",w.version)}),{Wi:d,zi:o}})}function Vk(n,e){const t=nt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Bm(n,e){const t=nt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.Cs.getTargetData(r,e).next(u=>u?(o=u,ye.resolve(o)):t.Cs.allocateTargetId(r).next(d=>(o=new Ih(e,d,0,r.currentSequenceNumber),t.Cs.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.Ui.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(r.targetId,r),t.qi.set(e,r.targetId)),r})}function jm(n,e,t){return ST.apply(this,arguments)}function ST(){return ST=(0,Se.Z)(function*(n,e,t){const r=nt(n),o=r.Ui.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Bl(d))throw d;Ge("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ui=r.Ui.remove(e),r.qi.delete(o.target)}),ST.apply(this,arguments)}function CI(n,e,t){const r=nt(n);let o=Ot.min(),u=Yt();return r.persistence.runTransaction("Execute query","readonly",d=>function(m,w,T){const M=nt(m),O=M.qi.get(T);return void 0!==O?ye.resolve(M.Ui.get(O)):M.Cs.getTargetData(w,T)}(r,d,ji(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(d,m.targetId).next(w=>{u=w})}).next(()=>r.Li.getDocumentsMatchingQuery(d,e,t?o:Ot.min(),t?u:Yt())).next(m=>(tM(r,F_(e),m),{documents:m,Hi:u})))}function Xx(n,e){const t=nt(n),r=nt(t.Cs),o=t.Ui.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",u=>r.se(u,e).next(d=>d?d.target:null))}function eM(n,e){const t=nt(n),r=t.Ki.get(e)||Ot.min();return t.persistence.runTransaction("Get new document changes","readonly",o=>t.Gi.getAllFromCollectionGroup(o,e,xE(r,-1),Number.MAX_SAFE_INTEGER)).then(o=>(tM(t,e,o),o))}function tM(n,e,t){let r=n.Ki.get(e)||Ot.min();t.forEach((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.Ki.set(e,r)}function xT(){return xT=(0,Se.Z)(function*(n,e,t,r){const o=nt(n);let u=Yt(),d=Is();for(const T of t){const M=e.Ji(T.metadata.name);T.document&&(u=u.add(M));const O=e.Yi(T);O.setReadTime(e.Xi(T.metadata.readTime)),d=d.insert(M,O)}const m=o.Gi.newChangeBuffer({trackRemovals:!0}),w=yield Bm(o,(T=r,ji(yh(vn.fromString(`__bundle__/docs/${T}`)))));var T;return o.persistence.runTransaction("Apply bundle documents","readwrite",T=>Jx(T,m,d).next(M=>(m.apply(T),M)).next(M=>o.Cs.removeMatchingKeysForTargetId(T,w.targetId).next(()=>o.Cs.addMatchingKeys(T,u,w.targetId)).next(()=>o.localDocuments.getLocalViewOfDocuments(T,M.Wi,M.zi)).next(()=>M.Wi)))}),xT.apply(this,arguments)}function Bk(n,e){return MT.apply(this,arguments)}function MT(){return MT=(0,Se.Z)(function*(n,e,t=Yt()){const r=yield Bm(n,ji(_T(e.bundledQuery))),o=nt(n);return o.persistence.runTransaction("Save named query","readwrite",u=>{const d=Jr(e.readTime);if(r.snapshotVersion.compareTo(d)>=0)return o.Ns.saveNamedQuery(u,e);const m=r.withResumeToken(Yr.EMPTY_BYTE_STRING,d);return o.Ui=o.Ui.insert(m.targetId,m),o.Cs.updateTargetData(u,m).next(()=>o.Cs.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>o.Cs.addMatchingKeys(u,t,r.targetId)).next(()=>o.Ns.saveNamedQuery(u,e))})}),MT.apply(this,arguments)}function nM(n,e){return`firestore_clients_${n}_${e}`}function rM(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function kT(n,e){return`firestore_targets_${n}_${e}`}class DI{constructor(e,t,r,o){this.user=e,this.batchId=t,this.state=r,this.error=o}static Zi(e,t,r){const o=JSON.parse(r);let u,d="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return d&&o.error&&(d="string"==typeof o.error.message&&"string"==typeof o.error.code,d&&(u=new Ue(o.error.code,o.error.message))),d?new DI(e,t,o.state,u):(tr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class lw{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Zi(e,t){const r=JSON.parse(t);let o,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(o=new Ue(r.error.code,r.error.message))),u?new lw(e,r.state,o):(tr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class TI{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const r=JSON.parse(t);let o="object"==typeof r&&r.activeTargetIds instanceof Array,u=z_();for(let d=0;o&&d<r.activeTargetIds.length;++d)o=N_(r.activeTargetIds[d]),u=u.add(r.activeTargetIds[d]);return o?new TI(e,u):(tr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class NT{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new NT(t.clientId,t.onlineState):(tr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class RT{constructor(){this.activeTargetIds=z_()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class OT{constructor(e,t,r,o,u){this.window=e,this.Hs=t,this.persistenceKey=r,this.sr=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Sr(Kt),this.started=!1,this.cr=[];const d=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.ar=nM(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new RT),this.lr=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Se.Z)(function*(){const t=yield e.syncEngine.vi();for(const o of t){if(o===e.sr)continue;const u=e.getItem(nM(e.persistenceKey,o));if(u){const d=TI.Zi(o,u);d&&(e.ur=e.ur.insert(d.clientId,d))}}e.gr();const r=e.storage.getItem(e.wr);if(r){const o=e.yr(r);o&&e.pr(o)}for(const o of e.cr)e.rr(o);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((r,o)=>{o.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,r){this.Tr(e,t,r),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(kT(this.persistenceKey,e));if(r){const o=lw.Zi(e,r);o&&(t=o.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(kT(this.persistenceKey,e))}updateQueryState(e,t,r){this.Rr(e,t,r)}handleUserChange(e,t,r){t.forEach(o=>{this.Er(o)}),this.currentUser=e,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ge("SharedClientState","READ",e,t),t}setItem(e,t){Ge("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ge("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Ge("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ar)return void tr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,Se.Z)(function*(){if(t.started){if(null!==r.key)if(t.lr.test(r.key)){if(null==r.newValue){const o=t.vr(r.key);return t.Vr(o,null)}{const o=t.Sr(r.key,r.newValue);if(o)return t.Vr(o.clientId,o)}}else if(t.dr.test(r.key)){if(null!==r.newValue){const o=t.Dr(r.key,r.newValue);if(o)return t.Cr(o)}}else if(t._r.test(r.key)){if(null!==r.newValue){const o=t.Nr(r.key,r.newValue);if(o)return t.kr(o)}}else if(r.key===t.wr){if(null!==r.newValue){const o=t.yr(r.newValue);if(o)return t.pr(o)}}else if(r.key===t.hr){const o=function(u){let d=ls.at;if(null!=u)try{const m=JSON.parse(u);Rt("number"==typeof m),d=m}catch(m){tr("SharedClientState","Failed to read sequence number from WebStorage",m)}return d}(r.newValue);o!==ls.at&&t.sequenceNumberHandler(o)}else if(r.key===t.mr){const o=t.Or(r.newValue);yield Promise.all(o.map(u=>t.syncEngine.Mr(u)))}}else t.cr.push(r)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,r){const o=new DI(this.currentUser,e,t,r),u=rM(this.persistenceKey,this.currentUser,e);this.setItem(u,o.tr())}Er(e){const t=rM(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,r){const o=kT(this.persistenceKey,e),u=new lw(e,t,r);this.setItem(o,u.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const r=this.vr(e);return TI.Zi(r,t)}Dr(e,t){const r=this.dr.exec(e),o=Number(r[1]);return DI.Zi(new Ar(void 0!==r[2]?r[2]:null),o,t)}Nr(e,t){const r=this._r.exec(e),o=Number(r[1]);return lw.Zi(o,t)}yr(e){return NT.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,Se.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Ge("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const r=t?this.ur.insert(e,t):this.ur.remove(e),o=this.Ir(this.ur),u=this.Ir(r),d=[],m=[];return u.forEach(w=>{o.has(w)||d.push(w)}),o.forEach(w=>{u.has(w)||m.push(w)}),this.syncEngine.Br(d,m).then(()=>{this.ur=r})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=z_();return e.forEach((r,o)=>{t=t.unionWith(o.activeTargetIds)}),t}}class iM{constructor(){this.Lr=new RT,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,r){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new RT,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class jk{qr(e){}shutdown(){}}class sM{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Ge("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Ge("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Hk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $k{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class Gk extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,r,o,u){const d=this.ho(e,t);Ge("RestConnection","Sending: ",d,r);const m={};return this.lo(m,o,u),this.fo(e,d,m,r).then(w=>(Ge("RestConnection","Received: ",w),w),w=>{throw $c("RestConnection",`${e} failed with error: `,w,"url: ",d,"request:",r),w})}_o(e,t,r,o,u,d){return this.ao(e,t,r,o,u)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+uh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),r&&r.headers.forEach((o,u)=>e[u]=o)}ho(e,t){return`${this.oo}/v1/${t}:${Hk[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,o){return new Promise((u,d)=>{const m=new VD;m.setWithCredentials(!0),m.listenOnce(FD.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case hm.NO_ERROR:const T=m.getResponseJson();Ge("Connection","XHR received:",JSON.stringify(T)),u(T);break;case hm.TIMEOUT:Ge("Connection",'RPC "'+e+'" timed out'),d(new Ue(be.DEADLINE_EXCEEDED,"Request time out"));break;case hm.HTTP_ERROR:const M=m.getStatus();if(Ge("Connection",'RPC "'+e+'" failed with status:',M,"response text:",m.getResponseText()),M>0){const O=m.getResponseJson().error;if(O&&O.status&&O.message){const q=function(X){const pe=X.toLowerCase().replace(/_/g,"-");return Object.values(be).indexOf(pe)>=0?pe:be.UNKNOWN}(O.status);d(new Ue(q,O.message))}else d(new Ue(be.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new Ue(be.UNAVAILABLE,"Connection failed."));break;default:ht()}}finally{Ge("Connection",'RPC "'+e+'" completed.')}});const w=JSON.stringify(o);m.send(t,"POST",w,r,15)})}wo(e,t,r){const o=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=_E(),d=wE(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new LD({})),this.lo(m.initMessageHeaders,t,r),m.encodeInitMessageHeaders=!0;const w=o.join("");Ge("Connection","Creating WebChannel: "+w,m);const T=u.createWebChannel(w,m);let M=!1,O=!1;const q=new $k({Hr:pe=>{O?Ge("Connection","Not sending because WebChannel is closed:",pe):(M||(Ge("Connection","Opening WebChannel transport."),T.open(),M=!0),Ge("Connection","WebChannel sending:",pe),T.send(pe))},Jr:()=>T.close()}),X=(pe,je,ze)=>{pe.listen(je,_t=>{try{ze(_t)}catch(Bt){setTimeout(()=>{throw Bt},0)}})};return X(T,fm.EventType.OPEN,()=>{O||Ge("Connection","WebChannel transport opened.")}),X(T,fm.EventType.CLOSE,()=>{O||(O=!0,Ge("Connection","WebChannel transport closed"),q.io())}),X(T,fm.EventType.ERROR,pe=>{O||(O=!0,$c("Connection","WebChannel transport errored:",pe),q.io(new Ue(be.UNAVAILABLE,"The operation could not be completed")))}),X(T,fm.EventType.MESSAGE,pe=>{var je;if(!O){const ze=pe.data[0];Rt(!!ze);const _t=ze,Bt=_t.error||(null===(je=_t[0])||void 0===je?void 0:je.error);if(Bt){Ge("Connection","WebChannel received error:",Bt);const Qt=Bt.status;let Jt=function(cn){const Ii=Qr[cn];if(void 0!==Ii)return sI(Ii)}(Qt),tn=Bt.message;void 0===Jt&&(Jt=be.INTERNAL,tn="Unknown error status: "+Qt+" with message "+Bt.message),O=!0,q.io(new Ue(Jt,tn)),T.close()}else Ge("Connection","WebChannel received:",ze),q.ro(ze)}}),X(d,lx.STAT_EVENT,pe=>{pe.stat===E_.PROXY?Ge("Connection","Detected buffering proxy"):pe.stat===E_.NOPROXY&&Ge("Connection","Detected no buffering proxy")}),setTimeout(()=>{q.so()},0),q}}function oM(){return typeof window<"u"?window:null}function AI(){return typeof document<"u"?document:null}function cw(n){return new lT(n,!0)}class PT{constructor(e,t,r=1e3,o=1.5,u=6e4){this.Hs=e,this.timerId=t,this.mo=r,this.yo=o,this.po=u,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),o=Math.max(0,t-r);o>0&&Ge("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,o,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class aM{constructor(e,t,r,o,u,d,m,w){this.Hs=e,this.vo=r,this.Vo=o,this.So=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=w,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new PT(e,t)}ko(){return 1===this.state||5===this.state||this.Oo()}Oo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return(0,Se.Z)(function*(){e.ko()&&(yield e.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Oo()&&null===this.Co&&(this.Co=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}Bo(){var e=this;return(0,Se.Z)(function*(){if(e.Oo())return e.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(e,t){var r=this;return(0,Se.Z)(function*(){r.Uo(),r.qo(),r.No.cancel(),r.Do++,4!==e?r.No.reset():t&&t.code===be.RESOURCE_EXHAUSTED?(tr(t.toString()),tr("Using maximum backoff delay to prevent overloading the backend."),r.No.Ao()):t&&t.code===be.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Ko(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),t=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Do===t&&this.Qo(r,o)},r=>{e(()=>{const o=new Ue(be.UNKNOWN,"Fetching auth token failed: "+r.message);return this.jo(o)})})}Qo(e,t){const r=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.xo=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.Oo()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(o=>{r(()=>this.jo(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}Mo(){var e=this;this.state=5,this.No.Ro((0,Se.Z)(function*(){e.state=0,e.start()}))}jo(e){return Ge("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return t=>{this.Hs.enqueueAndForget(()=>this.Do===e?t():(Ge("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zk extends aM{constructor(e,t,r,o,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,d),this.It=u}Wo(e,t){return this.So.wo("Listen",e,t)}onMessage(e){this.No.reset();const t=function _x(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(w=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===w?1:"REMOVE"===w?2:"CURRENT"===w?3:"RESET"===w?4:ht(),o=e.targetChange.targetIds||[],u=function(w,T){return w.gt?(Rt(void 0===T||"string"==typeof T),Yr.fromBase64String(T||"")):(Rt(void 0===T||T instanceof Uint8Array),Yr.fromUint8Array(T||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,m=d&&function(w){const T=void 0===w.code?be.UNKNOWN:sI(w.code);return new Ue(T,w.message||"")}(d);t=new aI(r,o,u,m||null)}else if("documentChange"in e){const r=e.documentChange,o=tl(n,r.document.name),u=Jr(r.document.updateTime),d=new ci({mapValue:{fields:r.document.fields}}),m=Wn.newFoundDocument(o,u,d);t=new ep(r.targetIds||[],r.removedTargetIds||[],m.key,m)}else if("documentDelete"in e){const r=e.documentDelete,o=tl(n,r.document),u=r.readTime?Jr(r.readTime):Ot.min(),d=Wn.newNoDocument(o,u);t=new ep([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const r=e.documentRemove,o=tl(n,r.document);t=new ep([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return ht();{const r=e.filter,u=new gx(r.count||0);t=new oI(r.targetId,u)}}var w;return t}(this.It,e),r=function(o){if(!("targetChange"in o))return Ot.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Ot.min():u.readTime?Jr(u.readTime):Ot.min()}(e);return this.listener.zo(t,r)}Ho(e){const t={};t.database=rp(this.It),t.addTarget=function(o,u){let d;const m=u.target;return d=Cm(m)?{documents:hT(o,m)}:{query:pI(o,m)},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?d.resumeToken=Om(o,u.resumeToken):u.snapshotVersion.compareTo(Ot.min())>0&&(d.readTime=Eh(o,u.snapshotVersion.toTimestamp())),d}(this.It,e);const r=function bx(n,e){const t=function(r,o){switch(o){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ht()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Lo(t)}Jo(e){const t={};t.database=rp(this.It),t.removeTarget=e,this.Lo(t)}}class qk extends aM{constructor(e,t,r,o,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,d),this.It=u,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,t){return this.So.wo("Write",e,t)}onMessage(e){if(Rt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const t=function wx(n,e){return n&&n.length>0?(Rt(void 0!==e),n.map(t=>function(r,o){let u=Jr(r.updateTime?r.updateTime:o);return u.isEqual(Ot.min())&&(u=Jr(o)),new JE(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Jr(e.commitTime);return this.listener.tu(r,t)}return Rt(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=rp(this.It),this.Lo(e)}Zo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Pm(this.It,r))};this.Lo(t)}}class Wk extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.So=r,this.It=o,this.su=!1}iu(){if(this.su)throw new Ue(be.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.So.ao(e,t,r,o,u)).catch(o=>{throw"FirebaseError"===o.name?(o.code===be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ue(be.UNKNOWN,o.toString())})}_o(e,t,r,o){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.So._o(e,t,r,u,d,o)).catch(u=>{throw"FirebaseError"===u.name?(u.code===be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ue(be.UNKNOWN,u.toString())})}terminate(){this.su=!0}}class Kk{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}cu(){0===this.ru&&(this.au("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.au("Offline"),Promise.resolve())))}lu(e){"Online"===this.state?this.au("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.au("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.au(e)}au(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(tr(t),this.uu=!1):Ge("OnlineStateTracker",t)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class Yk{constructor(e,t,r,o,u){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=u,this.gu.qr(m=>{r.enqueueAndForget((0,Se.Z)(function*(){var w;Jc(d)&&(Ge("RemoteStore","Restarting streams for network reachability change."),yield(w=(0,Se.Z)(function*(T){const M=nt(T);M.wu.add(4),yield Hm(M),M.yu.set("Unknown"),M.wu.delete(4),yield dw(M)}),function(T){return w.apply(this,arguments)})(d))}))}),this.yu=new Kk(r,o)}}function dw(n){return LT.apply(this,arguments)}function LT(){return LT=(0,Se.Z)(function*(n){if(Jc(n))for(const e of n.mu)yield e(!0)}),LT.apply(this,arguments)}function Hm(n){return VT.apply(this,arguments)}function VT(){return VT=(0,Se.Z)(function*(n){for(const e of n.mu)yield e(!1)}),VT.apply(this,arguments)}function SI(n,e){const t=nt(n);t._u.has(e.targetId)||(t._u.set(e.targetId,e),jT(t)?BT(t):Gm(t).Oo()&&UT(t,e))}function hw(n,e){const t=nt(n),r=Gm(t);t._u.delete(e),r.Oo()&&uM(t,e),0===t._u.size&&(r.Oo()?r.$o():Jc(t)&&t.yu.set("Unknown"))}function UT(n,e){n.pu.Mt(e.targetId),Gm(n).Ho(e)}function uM(n,e){n.pu.Mt(e),Gm(n).Jo(e)}function BT(n){n.pu=new aT({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),se:e=>n._u.get(e)||null}),Gm(n).start(),n.yu.cu()}function jT(n){return Jc(n)&&!Gm(n).ko()&&n._u.size>0}function Jc(n){return 0===nt(n).wu.size}function lM(n){n.pu=void 0}function Qk(n){return HT.apply(this,arguments)}function HT(){return HT=(0,Se.Z)(function*(n){n._u.forEach((e,t)=>{UT(n,e)})}),HT.apply(this,arguments)}function Jk(n,e){return $T.apply(this,arguments)}function $T(){return $T=(0,Se.Z)(function*(n,e){lM(n),jT(n)?(n.yu.lu(e),BT(n)):n.yu.set("Unknown")}),$T.apply(this,arguments)}function Xk(n,e,t){return GT.apply(this,arguments)}function GT(){return GT=(0,Se.Z)(function*(n,e,t){if(n.yu.set("Online"),e instanceof aI&&2===e.state&&e.cause)try{yield(r=(0,Se.Z)(function*(o,u){const d=u.cause;for(const m of u.targetIds)o._u.has(m)&&(yield o.remoteSyncer.rejectListen(m,d),o._u.delete(m),o.pu.removeTarget(m))}),function(o,u){return r.apply(this,arguments)})(n,e)}catch(r){Ge("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield xI(n,r)}else if(e instanceof ep?n.pu.Gt(e):e instanceof oI?n.pu.Yt(e):n.pu.Wt(e),!t.isEqual(Ot.min()))try{const r=yield Qx(n.localStore);t.compareTo(r)>=0&&(yield function(o,u){const d=o.pu.te(u);return d.targetChanges.forEach((m,w)=>{if(m.resumeToken.approximateByteSize()>0){const T=o._u.get(w);T&&o._u.set(w,T.withResumeToken(m.resumeToken,u))}}),d.targetMismatches.forEach(m=>{const w=o._u.get(m);if(!w)return;o._u.set(m,w.withResumeToken(Yr.EMPTY_BYTE_STRING,w.snapshotVersion)),uM(o,m);const T=new Ih(w.target,m,1,w.sequenceNumber);UT(o,T)}),o.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(r){Ge("RemoteStore","Failed to raise snapshot:",r),yield xI(n,r)}var r}),GT.apply(this,arguments)}function xI(n,e,t){return zT.apply(this,arguments)}function zT(){return zT=(0,Se.Z)(function*(n,e,t){if(!Bl(e))throw e;n.wu.add(1),yield Hm(n),n.yu.set("Offline"),t||(t=()=>Qx(n.localStore)),n.asyncQueue.enqueueRetryable((0,Se.Z)(function*(){Ge("RemoteStore","Retrying IndexedDB access"),yield t(),n.wu.delete(1),yield dw(n)}))}),zT.apply(this,arguments)}function cM(n,e){return e().catch(t=>xI(n,t,e))}function $m(n){return qT.apply(this,arguments)}function qT(){return qT=(0,Se.Z)(function*(n){const e=nt(n),t=Th(e);let r=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;eN(e);)try{const o=yield Vk(e.localStore,r);if(null===o){0===e.du.length&&t.$o();break}r=o.batchId,tN(e,o)}catch(o){yield xI(e,o)}dM(e)&&hM(e)}),qT.apply(this,arguments)}function eN(n){return Jc(n)&&n.du.length<10}function tN(n,e){n.du.push(e);const t=Th(n);t.Oo()&&t.Xo&&t.Zo(e.mutations)}function dM(n){return Jc(n)&&!Th(n).ko()&&n.du.length>0}function hM(n){Th(n).start()}function nN(n){return WT.apply(this,arguments)}function WT(){return WT=(0,Se.Z)(function*(n){Th(n).nu()}),WT.apply(this,arguments)}function rN(n){return ZT.apply(this,arguments)}function ZT(){return ZT=(0,Se.Z)(function*(n){const e=Th(n);for(const t of n.du)e.Zo(t.mutations)}),ZT.apply(this,arguments)}function iN(n,e,t){return KT.apply(this,arguments)}function KT(){return KT=(0,Se.Z)(function*(n,e,t){const r=n.du.shift(),o=yT.from(r,e,t);yield cM(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield $m(n)}),KT.apply(this,arguments)}function sN(n,e){return YT.apply(this,arguments)}function YT(){return YT=(0,Se.Z)(function*(n,e){var t;e&&Th(n).Xo&&(yield(t=(0,Se.Z)(function*(r,o){if(sT(u=o.code)&&u!==be.ABORTED){const d=r.du.shift();Th(r).Fo(),yield cM(r,()=>r.remoteSyncer.rejectFailedWrite(d.batchId,o)),yield $m(r)}var u}),function(r,o){return t.apply(this,arguments)})(n,e)),dM(n)&&hM(n)}),YT.apply(this,arguments)}function fM(n,e){return QT.apply(this,arguments)}function QT(){return QT=(0,Se.Z)(function*(n,e){const t=nt(n);t.asyncQueue.verifyOperationInProgress(),Ge("RemoteStore","RemoteStore received new credentials");const r=Jc(t);t.wu.add(3),yield Hm(t),r&&t.yu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.wu.delete(3),yield dw(t)}),QT.apply(this,arguments)}function JT(n,e){return XT.apply(this,arguments)}function XT(){return XT=(0,Se.Z)(function*(n,e){const t=nt(n);e?(t.wu.delete(2),yield dw(t)):e||(t.wu.add(2),yield Hm(t),t.yu.set("Unknown"))}),XT.apply(this,arguments)}function Gm(n){return n.Iu||(n.Iu=function(e,t,r){const o=nt(e);return o.iu(),new zk(t,o.So,o.authCredentials,o.appCheckCredentials,o.It,r)}(n.datastore,n.asyncQueue,{Yr:Qk.bind(null,n),Zr:Jk.bind(null,n),zo:Xk.bind(null,n)}),n.mu.push(function(){var e=(0,Se.Z)(function*(t){t?(n.Iu.Fo(),jT(n)?BT(n):n.yu.set("Unknown")):(yield n.Iu.stop(),lM(n))});return function(t){return e.apply(this,arguments)}}())),n.Iu}function Th(n){return n.Tu||(n.Tu=function(e,t,r){const o=nt(e);return o.iu(),new qk(t,o.So,o.authCredentials,o.appCheckCredentials,o.It,r)}(n.datastore,n.asyncQueue,{Yr:nN.bind(null,n),Zr:sN.bind(null,n),eu:rN.bind(null,n),tu:iN.bind(null,n)}),n.mu.push(function(){var e=(0,Se.Z)(function*(t){t?(n.Tu.Fo(),yield $m(n)):(yield n.Tu.stop(),n.du.length>0&&(Ge("RemoteStore",`Stopping write stream with ${n.du.length} pending writes`),n.du=[]))});return function(t){return e.apply(this,arguments)}}())),n.Tu}class eA{constructor(e,t,r,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new Br,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,r,o,u){const d=Date.now()+r,m=new eA(e,t,d,o,u);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ue(be.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zm(n,e){if(tr("AsyncQueue",`${e}: ${n}`),Bl(n))return new Ue(be.UNAVAILABLE,`${e}: ${n}`);throw n}class qm{constructor(e){this.comparator=e?(t,r)=>e(t,r)||tt.comparator(t.key,r.key):(t,r)=>tt.comparator(t.key,r.key),this.keyedMap=ia(),this.sortedSet=new Sr(this.comparator)}static emptySet(e){return new qm(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof qm)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new qm;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class pM{constructor(){this.Eu=new Sr(tt.comparator)}track(e){const t=e.doc.key,r=this.Eu.get(t);r?0!==e.type&&3===r.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==r.type?this.Eu=this.Eu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Eu=this.Eu.remove(t):1===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):ht():this.Eu=this.Eu.insert(t,e)}Au(){const e=[];return this.Eu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Wm{constructor(e,t,r,o,u,d,m,w,T){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=w,this.hasCachedResults=T}static fromInitialDocuments(e,t,r,o,u){const d=[];return t.forEach(m=>{d.push({type:0,doc:m})}),new Wm(e,t,qm.emptySet(t),d,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class oN{constructor(){this.Ru=void 0,this.listeners=[]}}class aN{constructor(){this.queries=new ra(e=>WE(e),vh),this.onlineState="Unknown",this.bu=new Set}}function tA(n,e){return nA.apply(this,arguments)}function nA(){return nA=(0,Se.Z)(function*(n,e){const t=nt(n),r=e.query;let o=!1,u=t.queries.get(r);if(u||(o=!0,u=new oN),o)try{u.Ru=yield t.onListen(r)}catch(d){const m=zm(d,`Initialization of query '${Kf(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,u),u.listeners.push(e),e.Pu(t.onlineState),u.Ru&&e.vu(u.Ru)&&sA(t)}),nA.apply(this,arguments)}function rA(n,e){return iA.apply(this,arguments)}function iA(){return iA=(0,Se.Z)(function*(n,e){const t=nt(n),r=e.query;let o=!1;const u=t.queries.get(r);if(u){const d=u.listeners.indexOf(e);d>=0&&(u.listeners.splice(d,1),o=0===u.listeners.length)}if(o)return t.queries.delete(r),t.onUnlisten(r)}),iA.apply(this,arguments)}function uN(n,e){const t=nt(n);let r=!1;for(const o of e){const d=t.queries.get(o.query);if(d){for(const m of d.listeners)m.vu(o)&&(r=!0);d.Ru=o}}r&&sA(t)}function lN(n,e,t){const r=nt(n),o=r.queries.get(e);if(o)for(const u of o.listeners)u.onError(t);r.queries.delete(e)}function sA(n){n.bu.forEach(e=>{e.next()})}class oA{constructor(e,t,r){this.query=e,this.Vu=t,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=r||{}}vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new Wm(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Su?this.Cu(e)&&(this.Vu.next(e),t=!0):this.xu(e,this.onlineState)&&(this.Nu(e),t=!0),this.Du=e,t}onError(e){this.Vu.error(e)}Pu(e){this.onlineState=e;let t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}xu(e,t){return!e.fromCache||(!this.options.ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Cu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(e){e=Wm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Su=!0,this.Vu.next(e)}}class cN{constructor(e,t){this.payload=e,this.byteLength=t}Ou(){return"metadata"in this.payload}}class gM{constructor(e){this.It=e}Ji(e){return tl(this.It,e)}Yi(e){return e.metadata.exists?dT(this.It,e.document,!1):Wn.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Jr(e)}}class dN{constructor(e,t,r){this.Mu=e,this.localStore=t,this.It=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=mM(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=vn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,r=new gM(this.It);for(const o of e)if(o.metadata.queries){const u=r.Ji(o.metadata.name);for(const d of o.metadata.queries){const m=(t.get(d)||Yt()).add(u);t.set(d,m)}}return t}complete(){var e=this;return(0,Se.Z)(function*(){const t=yield function Uk(n,e,t,r){return xT.apply(this,arguments)}(e.localStore,new gM(e.It),e.documents,e.Mu.id),r=e.$u(e.documents);for(const o of e.queries)yield Bk(e.localStore,o,r.get(o.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function mM(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class yM{constructor(e){this.key=e}}class vM{constructor(e){this.key=e}}class _M{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Yt(),this.mutatedKeys=Yt(),this.Gu=xm(e),this.Qu=new qm(this.Gu)}get ju(){return this.Uu}Wu(e,t){const r=t?t.zu:new pM,o=t?t.Qu:this.Qu;let u=t?t.mutatedKeys:this.mutatedKeys,d=o,m=!1;const w="F"===this.query.limitType&&o.size===this.query.limit?o.last():null,T="L"===this.query.limitType&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((M,O)=>{const q=o.get(M),X=Ka(this.query,O)?O:null,pe=!!q&&this.mutatedKeys.has(q.key),je=!!X&&(X.hasLocalMutations||this.mutatedKeys.has(X.key)&&X.hasCommittedMutations);let ze=!1;q&&X?q.data.isEqual(X.data)?pe!==je&&(r.track({type:3,doc:X}),ze=!0):this.Hu(q,X)||(r.track({type:2,doc:X}),ze=!0,(w&&this.Gu(X,w)>0||T&&this.Gu(X,T)<0)&&(m=!0)):!q&&X?(r.track({type:0,doc:X}),ze=!0):q&&!X&&(r.track({type:1,doc:q}),ze=!0,(w||T)&&(m=!0)),ze&&(X?(d=d.add(X),u=je?u.add(M):u.delete(M)):(d=d.delete(M),u=u.delete(M)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const M="F"===this.query.limitType?d.last():d.first();d=d.delete(M.key),u=u.delete(M.key),r.track({type:1,doc:M})}return{Qu:d,zu:r,$i:m,mutatedKeys:u}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const o=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const u=e.zu.Au();u.sort((T,M)=>function(O,q){const X=pe=>{switch(pe){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ht()}};return X(O)-X(q)}(T.type,M.type)||this.Gu(T.doc,M.doc)),this.Ju(r);const d=t?this.Yu():[],m=0===this.Ku.size&&this.current?1:0,w=m!==this.qu;return this.qu=m,0!==u.length||w?{snapshot:new Wm(this.query,e.Qu,o,u,e.mutatedKeys,0===m,w,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:d}:{Xu:d}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new pM,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Yt(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new vM(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new yM(r))}),t}tc(e){this.Uu=e.Hi,this.Ku=Yt();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return Wm.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class hN{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class fN{constructor(e){this.key=e,this.nc=!1}}class pN{constructor(e,t,r,o,u,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.sc={},this.ic=new ra(m=>WE(m),vh),this.rc=new Map,this.oc=new Set,this.uc=new Sr(tt.comparator),this.cc=new Map,this.ac=new ET,this.hc={},this.lc=new Map,this.fc=cp.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function gN(n,e){return aA.apply(this,arguments)}function aA(){return aA=(0,Se.Z)(function*(n,e){const t=MA(n);let r,o;const u=t.ic.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),o=u.view.ec();else{const d=yield Bm(t.localStore,ji(e));t.isPrimaryClient&&SI(t.remoteStore,d);const m=t.sharedClientState.addLocalQueryTarget(d.targetId);r=d.targetId,o=yield uA(t,e,r,"current"===m,d.resumeToken)}return o}),aA.apply(this,arguments)}function uA(n,e,t,r,o){return lA.apply(this,arguments)}function lA(){return lA=(0,Se.Z)(function*(n,e,t,r,o){n._c=(O,q,X)=>{return(pe=(0,Se.Z)(function*(je,ze,_t,Bt){let Qt=ze.view.Wu(_t);Qt.$i&&(Qt=yield CI(je.localStore,ze.query,!1).then(({documents:cn})=>ze.view.Wu(cn,Qt)));const Jt=Bt&&Bt.targetChanges.get(ze.targetId),tn=ze.view.applyChanges(Qt,je.isPrimaryClient,Jt);return _A(je,ze.targetId,tn.Xu),tn.snapshot}),function(je,ze,_t,Bt){return pe.apply(this,arguments)})(n,O,q,X);var pe};const u=yield CI(n.localStore,e,!0),d=new _M(e,u.Hi),m=d.Wu(u.documents),w=Rm.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,o),T=d.applyChanges(m,n.isPrimaryClient,w);_A(n,t,T.Xu);const M=new hN(e,t,d);return n.ic.set(e,M),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),T.snapshot}),lA.apply(this,arguments)}function mN(n,e){return cA.apply(this,arguments)}function cA(){return cA=(0,Se.Z)(function*(n,e){const t=nt(n),r=t.ic.get(e),o=t.rc.get(r.targetId);if(o.length>1)return t.rc.set(r.targetId,o.filter(u=>!vh(u,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield jm(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),hw(t.remoteStore,r.targetId),Zm(t,r.targetId)}).catch(Io))):(Zm(t,r.targetId),yield jm(t.localStore,r.targetId,!0))}),cA.apply(this,arguments)}function dA(){return dA=(0,Se.Z)(function*(n,e,t){const r=kA(n);try{const o=yield function(u,d){const m=nt(u),w=nr.now(),T=d.reduce((q,X)=>q.add(X.key),Yt());let M,O;return m.persistence.runTransaction("Locally write mutations","readwrite",q=>{let X=Is(),pe=Yt();return m.Gi.getEntries(q,T).next(je=>{X=je,X.forEach((ze,_t)=>{_t.isValidDocument()||(pe=pe.add(ze))})}).next(()=>m.localDocuments.getOverlayedDocuments(q,X)).next(je=>{M=je;const ze=[];for(const _t of d){const Bt=iT(_t,M.get(_t.key).overlayedDocument);null!=Bt&&ze.push(new Ql(_t.key,Bt,jE(Bt.value.mapValue),Zn.exists(!0)))}return m.mutationQueue.addMutationBatch(q,w,ze,d)}).next(je=>{O=je;const ze=je.applyToLocalDocumentSet(M,pe);return m.documentOverlayCache.saveOverlays(q,je.batchId,ze)})}).then(()=>({batchId:O.batchId,changes:H_(M)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(u,d,m){let w=u.hc[u.currentUser.toKey()];w||(w=new Sr(Kt)),w=w.insert(d,m),u.hc[u.currentUser.toKey()]=w}(r,o.batchId,t),yield Xc(r,o.changes),yield $m(r.remoteStore)}catch(o){const u=zm(o,"Failed to persist write");t.reject(u)}}),dA.apply(this,arguments)}function wM(n,e){return hA.apply(this,arguments)}function hA(){return hA=(0,Se.Z)(function*(n,e){const t=nt(n);try{const r=yield Lk(t.localStore,e);e.targetChanges.forEach((o,u)=>{const d=t.cc.get(u);d&&(Rt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.nc=!0:o.modifiedDocuments.size>0?Rt(d.nc):o.removedDocuments.size>0&&(Rt(d.nc),d.nc=!1))}),yield Xc(t,r,e)}catch(r){yield Io(r)}}),hA.apply(this,arguments)}function bM(n,e,t){const r=nt(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const o=[];r.ic.forEach((u,d)=>{const m=d.view.Pu(e);m.snapshot&&o.push(m.snapshot)}),function(u,d){const m=nt(u);m.onlineState=d;let w=!1;m.queries.forEach((T,M)=>{for(const O of M.listeners)O.Pu(d)&&(w=!0)}),w&&sA(m)}(r.eventManager,e),o.length&&r.sc.zo(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function vN(n,e,t){return fA.apply(this,arguments)}function fA(){return fA=(0,Se.Z)(function*(n,e,t){const r=nt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.cc.get(e),u=o&&o.key;if(u){let d=new Sr(tt.comparator);d=d.insert(u,Wn.newNoDocument(u,Ot.min()));const m=Yt().add(u),w=new Nm(Ot.min(),new Map,new qn(Kt),d,m);yield wM(r,w),r.uc=r.uc.remove(u),r.cc.delete(e),wA(r)}else yield jm(r.localStore,e,!1).then(()=>Zm(r,e,t)).catch(Io)}),fA.apply(this,arguments)}function _N(n,e){return pA.apply(this,arguments)}function pA(){return pA=(0,Se.Z)(function*(n,e){const t=nt(n),r=e.batch.batchId;try{const o=yield Fk(t.localStore,e);vA(t,r,null),yA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Xc(t,o)}catch(o){yield Io(o)}}),pA.apply(this,arguments)}function wN(n,e,t){return gA.apply(this,arguments)}function gA(){return gA=(0,Se.Z)(function*(n,e,t){const r=nt(n);try{const o=yield function(u,d){const m=nt(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",w=>{let T;return m.mutationQueue.lookupMutationBatch(w,d).next(M=>(Rt(null!==M),T=M.keys(),m.mutationQueue.removeMutationBatch(w,M))).next(()=>m.mutationQueue.performConsistencyCheck(w)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(w,T,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(w,T)).next(()=>m.localDocuments.getDocuments(w,T))})}(r.localStore,e);vA(r,e,t),yA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Xc(r,o)}catch(o){yield Io(o)}}),gA.apply(this,arguments)}function mA(){return mA=(0,Se.Z)(function*(n,e){const t=nt(n);Jc(t.remoteStore)||Ge("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const d=nt(u);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>d.mutationQueue.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(-1===r)return void e.resolve();const o=t.lc.get(r)||[];o.push(e),t.lc.set(r,o)}catch(r){const o=zm(r,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}}),mA.apply(this,arguments)}function yA(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function vA(n,e,t){const r=nt(n);let o=r.hc[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),r.hc[r.currentUser.toKey()]=o}}function Zm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.rc.get(e))n.ic.delete(r),t&&n.sc.wc(r,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(r=>{n.ac.containsKey(r)||EM(n,r)})}function EM(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(hw(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),wA(n))}function _A(n,e,t){for(const r of t)r instanceof yM?(n.ac.addReference(r.key,e),EN(n,r)):r instanceof vM?(Ge("SyncEngine","Document no longer in limbo: "+r.key),n.ac.removeReference(r.key,e),n.ac.containsKey(r.key)||EM(n,r.key)):ht()}function EN(n,e){const t=e.key,r=t.path.canonicalString();n.uc.get(t)||n.oc.has(r)||(Ge("SyncEngine","New document in limbo: "+t),n.oc.add(r),wA(n))}function wA(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new tt(vn.fromString(e)),r=n.fc.next();n.cc.set(r,new fN(t)),n.uc=n.uc.insert(t,r),SI(n.remoteStore,new Ih(ji(yh(t.path)),r,2,ls.at))}}function Xc(n,e,t){return bA.apply(this,arguments)}function bA(){return bA=(0,Se.Z)(function*(n,e,t){const r=nt(n),o=[],u=[],d=[];var m;r.ic.isEmpty()||(r.ic.forEach((m,w)=>{d.push(r._c(w,e,t).then(T=>{if((T||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(w.targetId,T?.fromCache?"not-current":"current"),T){o.push(T);const M=TT.Ci(w.targetId,T);u.push(M)}}))}),yield Promise.all(d),r.sc.zo(o),yield(m=(0,Se.Z)(function*(w,T){const M=nt(w);try{yield M.persistence.runTransaction("notifyLocalViewChanges","readwrite",O=>ye.forEach(T,q=>ye.forEach(q.Si,X=>M.persistence.referenceDelegate.addReference(O,q.targetId,X)).next(()=>ye.forEach(q.Di,X=>M.persistence.referenceDelegate.removeReference(O,q.targetId,X)))))}catch(O){if(!Bl(O))throw O;Ge("LocalStore","Failed to update sequence numbers: "+O)}for(const O of T){const q=O.targetId;if(!O.fromCache){const X=M.Ui.get(q),je=X.withLastLimboFreeSnapshotVersion(X.snapshotVersion);M.Ui=M.Ui.insert(q,je)}}}),function(w,T){return m.apply(this,arguments)})(r.localStore,u))}),bA.apply(this,arguments)}function IN(n,e){return EA.apply(this,arguments)}function EA(){return EA=(0,Se.Z)(function*(n,e){const t=nt(n);if(!t.currentUser.isEqual(e)){Ge("SyncEngine","User change. New user:",e.toKey());const r=yield Yx(t.localStore,e);t.currentUser=e,(o=t).lc.forEach(d=>{d.forEach(m=>{m.reject(new Ue(be.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.lc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Xc(t,r.ji)}var o}),EA.apply(this,arguments)}function CN(n,e){const t=nt(n),r=t.cc.get(e);if(r&&r.nc)return Yt().add(r.key);{let o=Yt();const u=t.rc.get(e);if(!u)return o;for(const d of u){const m=t.ic.get(d);o=o.unionWith(m.view.ju)}return o}}function DN(n,e){return IA.apply(this,arguments)}function IA(){return IA=(0,Se.Z)(function*(n,e){const t=nt(n),r=yield CI(t.localStore,e.query,!0),o=e.view.tc(r);return t.isPrimaryClient&&_A(t,e.targetId,o.Xu),o}),IA.apply(this,arguments)}function TN(n,e){return CA.apply(this,arguments)}function CA(){return CA=(0,Se.Z)(function*(n,e){const t=nt(n);return eM(t.localStore,e).then(r=>Xc(t,r))}),CA.apply(this,arguments)}function AN(n,e,t,r){return DA.apply(this,arguments)}function DA(){return DA=(0,Se.Z)(function*(n,e,t,r){const o=nt(n),u=yield function(d,m){const w=nt(d),T=nt(w.mutationQueue);return w.persistence.runTransaction("Lookup mutation documents","readonly",M=>T.Tn(M,m).next(O=>O?w.localDocuments.getDocuments(M,O):ye.resolve(null)))}(o.localStore,e);var m;null!==u?("pending"===t?yield $m(o.remoteStore):"acknowledged"===t||"rejected"===t?(vA(o,e,r||null),yA(o,e),m=e,nt(nt(o.localStore).mutationQueue).An(m)):ht(),yield Xc(o,u)):Ge("SyncEngine","Cannot apply mutation batch with id: "+e)}),DA.apply(this,arguments)}function TA(){return TA=(0,Se.Z)(function*(n,e){const t=nt(n);if(MA(t),kA(t),!0===e&&!0!==t.dc){const r=t.sharedClientState.getAllActiveQueryTargets(),o=yield IM(t,r.toArray());t.dc=!0,yield JT(t.remoteStore,!0);for(const u of o)SI(t.remoteStore,u)}else if(!1===e&&!1!==t.dc){const r=[];let o=Promise.resolve();t.rc.forEach((u,d)=>{t.sharedClientState.isLocalQueryTarget(d)?r.push(d):o=o.then(()=>(Zm(t,d),jm(t.localStore,d,!0))),hw(t.remoteStore,d)}),yield o,yield IM(t,r),function(u){const d=nt(u);d.cc.forEach((m,w)=>{hw(d.remoteStore,w)}),d.ac.fs(),d.cc=new Map,d.uc=new Sr(tt.comparator)}(t),t.dc=!1,yield JT(t.remoteStore,!1)}}),TA.apply(this,arguments)}function IM(n,e,t){return AA.apply(this,arguments)}function AA(){return AA=(0,Se.Z)(function*(n,e,t){const r=nt(n),o=[],u=[];for(const d of e){let m;const w=r.rc.get(d);if(w&&0!==w.length){m=yield Bm(r.localStore,ji(w[0]));for(const T of w){const M=r.ic.get(T),O=yield DN(r,M);O.snapshot&&u.push(O.snapshot)}}else{const T=yield Xx(r.localStore,d);m=yield Bm(r.localStore,T),yield uA(r,CM(T),d,!1,m.resumeToken)}o.push(m)}return r.sc.zo(u),o}),AA.apply(this,arguments)}function CM(n){return qE(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function xN(n){const e=nt(n);return nt(nt(e.localStore).persistence).vi()}function MN(n,e,t,r){return SA.apply(this,arguments)}function SA(){return SA=(0,Se.Z)(function*(n,e,t,r){const o=nt(n);if(o.dc)return void Ge("SyncEngine","Ignoring unexpected query state notification.");const u=o.rc.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const d=yield eM(o.localStore,F_(u[0])),m=Nm.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Yr.EMPTY_BYTE_STRING);yield Xc(o,d,m);break}case"rejected":yield jm(o.localStore,e,!0),Zm(o,e,r);break;default:ht()}}),SA.apply(this,arguments)}function kN(n,e,t){return xA.apply(this,arguments)}function xA(){return xA=(0,Se.Z)(function*(n,e,t){const r=MA(n);if(r.dc){for(const o of e){if(r.rc.has(o)){Ge("SyncEngine","Adding an already active target "+o);continue}const u=yield Xx(r.localStore,o),d=yield Bm(r.localStore,u);yield uA(r,CM(u),d.targetId,!1,d.resumeToken),SI(r.remoteStore,d)}for(const o of t)r.rc.has(o)&&(yield jm(r.localStore,o,!1).then(()=>{hw(r.remoteStore,o),Zm(r,o)}).catch(Io))}}),xA.apply(this,arguments)}function MA(n){const e=nt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=wM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=CN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vN.bind(null,e),e.sc.zo=uN.bind(null,e.eventManager),e.sc.wc=lN.bind(null,e.eventManager),e}function kA(n){const e=nt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_N.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wN.bind(null,e),e}class DM{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Se.Z)(function*(){t.It=cw(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return Kx(this.persistence,new Zx,e.initialUser,this.It)}yc(e){return new qx(EI.Bs,this.It)}gc(e){return new iM}terminate(){var e=this;return(0,Se.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class TM extends DM{constructor(e,t,r){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Se.Z)(function*(){yield t().call(r,e),yield r.Ac.initialize(r,e),yield kA(r.Ac.syncEngine),yield $m(r.Ac.remoteStore),yield r.persistence.li(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return Kx(this.persistence,new Zx,e.initialUser,this.It)}Tc(e,t){return new bk(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const r=new dx(t,this.persistence);return new k_(e.asyncQueue,r)}yc(e){const t=DT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?To.withCacheSize(this.cacheSizeBytes):To.DEFAULT;return new CT(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,oM(),AI(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(e){return new iM}}class RN extends TM{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Se.Z)(function*(){yield t().call(r,e);const o=r.Ac.syncEngine;r.sharedClientState instanceof OT&&(r.sharedClientState.syncEngine={Fr:AN.bind(null,o),$r:MN.bind(null,o),Br:kN.bind(null,o),vi:xN.bind(null,o),Mr:TN.bind(null,o)},yield r.sharedClientState.start()),yield r.persistence.li(function(){var u=(0,Se.Z)(function*(d){yield function SN(n,e){return TA.apply(this,arguments)}(r.Ac.syncEngine,d),r.gcScheduler&&(d&&!r.gcScheduler.started?r.gcScheduler.start():d||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(d&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():d||r.indexBackfillerScheduler.stop())});return function(d){return u.apply(this,arguments)}}())})()}gc(e){const t=oM();if(!OT.C(t))throw new Ue(be.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=DT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new OT(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class NA{initialize(e,t){var r=this;return(0,Se.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>bM(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=IN.bind(null,r.syncEngine),yield JT(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new aN}createDatastore(e){const t=cw(e.databaseInfo.databaseId),r=new Gk(e.databaseInfo);return new Wk(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,o=e.asyncQueue,u=m=>bM(this.syncEngine,m,0),d=sM.C()?new sM:new jk,new Yk(t,r,o,u,d);var t,r,o,u,d}createSyncEngine(e,t){return function(r,o,u,d,m,w,T){const M=new pN(r,o,u,d,m,w);return T&&(M.dc=!0),M}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Se.Z)(function*(t){const r=nt(t);Ge("RemoteStore","RemoteStore shutting down."),r.wu.add(5),yield Hm(r),r.gu.shutdown(),r.yu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function RA(n,e,t){if(!t)throw new Ue(be.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function AM(n,e,t,r){if(!0===e&&!0===r)throw new Ue(be.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function SM(n){if(!tt.isDocumentKey(n))throw new Ue(be.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function xM(n){if(tt.isDocumentKey(n))throw new Ue(be.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function MI(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":ht()}function _n(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ue(be.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=MI(n);throw new Ue(be.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function MM(n,e){if(e<=0)throw new Ue(be.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}const kM=new Map;class NM{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ue(be.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ue(be.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,AM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fw{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new NM({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ue(be.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ue(be.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new NM(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new EE;switch(t.type){case"gapi":return new C_(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ue(be.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=kM.get(e);t&&(Ge("ComponentProvider","Removing Datastore"),kM.delete(e),t.terminate())}(this),Promise.resolve()}}class wr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wr(this.firestore,e,this._key)}}class Cs{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Cs(this.firestore,e,this._query)}}class Jl extends Cs{constructor(e,t,r){super(e,t,yh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wr(this.firestore,null,new tt(e))}withConverter(e){return new Jl(this.firestore,e,this._path)}}function OM(n,e,...t){if(n=(0,Dn.m9)(n),RA("collection","path",e),n instanceof fw){const r=vn.fromString(e,...t);return xM(r),new Jl(n,null,r)}{if(!(n instanceof wr||n instanceof Jl))throw new Ue(be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(vn.fromString(e,...t));return xM(r),new Jl(n.firestore,null,r)}}function kI(n,e,...t){if(n=(0,Dn.m9)(n),1===arguments.length&&(e=DE.R()),RA("doc","path",e),n instanceof fw){const r=vn.fromString(e,...t);return SM(r),new wr(n,null,new tt(r))}{if(!(n instanceof wr||n instanceof Jl))throw new Ue(be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(vn.fromString(e,...t));return SM(r),new wr(n.firestore,n instanceof Jl?n.converter:null,new tt(r))}}function PM(n,e){return n=(0,Dn.m9)(n),e=(0,Dn.m9)(e),(n instanceof wr||n instanceof Jl)&&(e instanceof wr||e instanceof Jl)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function OA(n,e){return n=(0,Dn.m9)(n),e=(0,Dn.m9)(e),n instanceof Cs&&e instanceof Cs&&n.firestore===e.firestore&&vh(n._query,e._query)&&n.converter===e.converter}function FM(n,e=10240){let t=0;return{read:()=>(0,Se.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Se.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class NI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):tr("Uncaught Error in snapshot listener:",e)}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class PN{constructor(e,t){this.Pc=e,this.It=t,this.metadata=new Br,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(r=>{r&&r.Ou()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,Se.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,Se.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,Se.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const r=e.vc.decode(t),o=Number(r);isNaN(o)&&e.Dc(`length string (${r}) is not valid number`);const u=yield e.Cc(o);return new cN(JSON.parse(u),t.length+o)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,Se.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Cc(e){var t=this;return(0,Se.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const r=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,Se.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class VN{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Se.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ue(be.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(o=(0,Se.Z)(function*(u,d){const m=nt(u),w=rp(m.It)+"/documents",T={documents:d.map(X=>np(m.It,X))},M=yield m._o("BatchGetDocuments",w,T,d.length),O=new Map;M.forEach(X=>{const pe=function vx(n,e){return"found"in e?function(t,r){Rt(!!r.found);const o=tl(t,r.found.name),u=Jr(r.found.updateTime),d=new ci({mapValue:{fields:r.found.fields}});return Wn.newFoundDocument(o,u,d)}(n,e):"missing"in e?function(t,r){Rt(!!r.missing),Rt(!!r.readTime);const o=tl(t,r.missing),u=Jr(r.readTime);return Wn.newNoDocument(o,u)}(n,e):ht()}(m.It,X);O.set(pe.key.toString(),pe)});const q=[];return d.forEach(X=>{const pe=O.get(X.toString());Rt(!!pe),q.push(pe)}),q}),function(u,d){return o.apply(this,arguments)})(t.datastore,e);var o;return r.forEach(o=>t.recordVersion(o)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new bh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Se.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,o)=>{const u=tt.fromPath(o);e.mutations.push(new iI(u,e.precondition(u)))}),yield(r=(0,Se.Z)(function*(o,u){const d=nt(o),m=rp(d.It)+"/documents",w={writes:u.map(T=>Pm(d.It,T))};yield d.ao("Commit",m,w)}),function(o,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ht();t=Ot.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Ue(be.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ot.min())?Zn.exists(!1):Zn.updateTime(t):Zn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ot.min()))throw new Ue(be.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Zn.updateTime(t)}return Zn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class UN{constructor(e,t,r,o,u){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=o,this.deferred=u,this.kc=r.maxAttempts,this.No=new PT(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.No.Ro((0,Se.Z)(function*(){const t=new VN(e.datastore),r=e.Mc(t);r&&r.then(o=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(o)}).catch(u=>{e.Fc(u)}))}).catch(o=>{e.Fc(o)})}))}Mc(e){try{const t=this.updateFunction(e);return!hh(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!sT(t)}return!1}}class BN{constructor(e,t,r,o){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=Ar.UNAUTHENTICATED,this.clientId=DE.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,Se.Z)(function*(m){Ge("FirestoreClient","Received user=",m.uid),yield u.authCredentialListener(m),u.user=m});return function(m){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,d=>(Ge("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,Se.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ue(be.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Br;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Se.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=zm(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function LM(n,e){return PA.apply(this,arguments)}function PA(){return PA=(0,Se.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ge("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,Se.Z)(function*(u){r.isEqual(u)||(yield Yx(e.localStore,u),r=u)});return function(u){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),PA.apply(this,arguments)}function VM(n,e){return FA.apply(this,arguments)}function FA(){return FA=(0,Se.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield LA(n);Ge("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(o=>fM(e.remoteStore,o)),n.setAppCheckTokenChangeListener((o,u)=>fM(e.remoteStore,u)),n.onlineComponents=e}),FA.apply(this,arguments)}function LA(n){return VA.apply(this,arguments)}function VA(){return VA=(0,Se.Z)(function*(n){return n.offlineComponents||(Ge("FirestoreClient","Using default OfflineComponentProvider"),yield LM(n,new DM)),n.offlineComponents}),VA.apply(this,arguments)}function RI(n){return UA.apply(this,arguments)}function UA(){return UA=(0,Se.Z)(function*(n){return n.onlineComponents||(Ge("FirestoreClient","Using default OnlineComponentProvider"),yield VM(n,new NA)),n.onlineComponents}),UA.apply(this,arguments)}function UM(n){return LA(n).then(e=>e.persistence)}function OI(n){return LA(n).then(e=>e.localStore)}function BA(n){return RI(n).then(e=>e.remoteStore)}function jA(n){return RI(n).then(e=>e.syncEngine)}function Km(n){return HA.apply(this,arguments)}function HA(){return HA=(0,Se.Z)(function*(n){const e=yield RI(n),t=e.eventManager;return t.onListen=gN.bind(null,e.syncEngine),t.onUnlisten=mN.bind(null,e.syncEngine),t}),HA.apply(this,arguments)}function jM(n,e,t={}){const r=new Br;return n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return function(o,u,d,m,w){const T=new NI({next:O=>{u.enqueueAndForget(()=>rA(o,M));const q=O.docs.has(d);!q&&O.fromCache?w.reject(new Ue(be.UNAVAILABLE,"Failed to get document because the client is offline.")):q&&O.fromCache&&m&&"server"===m.source?w.reject(new Ue(be.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):w.resolve(O)},error:O=>w.reject(O)}),M=new oA(yh(d.path),T,{includeMetadataChanges:!0,ku:!0});return tA(o,M)}(yield Km(n),n.asyncQueue,e,t,r)})),r.promise}function HM(n,e,t={}){const r=new Br;return n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return function(o,u,d,m,w){const T=new NI({next:O=>{u.enqueueAndForget(()=>rA(o,M)),O.fromCache&&"server"===m.source?w.reject(new Ue(be.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):w.resolve(O)},error:O=>w.reject(O)}),M=new oA(d,T,{includeMetadataChanges:!0,ku:!0});return tA(o,M)}(yield Km(n),n.asyncQueue,e,t,r)})),r.promise}class ZN{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.No=new PT(this,"async_queue_retry"),this.Wc=()=>{const t=AI();t&&Ge("AsyncQueue","Visibility state changed to "+t.visibilityState),this.No.Po()};const e=AI();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const t=AI();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const t=new Br;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,Se.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.No.reset()}catch(t){if(!Bl(t))throw t;Ge("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.No.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,tr("INTERNAL UNHANDLED ERROR: ",function(u){let d=u.message||"";return u.stack&&(d=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),d}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=t,t}enqueueAfterDelay(e,t,r){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const o=eA.createAndSchedule(this,e,t,r,u=>this.Yc(u));return this.qc.push(o),o}zc(){this.Kc&&ht()}verifyOperationInProgress(){}Xc(){var e=this;return(0,Se.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.qc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.qc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.qc.indexOf(e);this.qc.splice(t,1)}}function $A(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class KN{constructor(){this._progressObserver={},this._taskCompletionResolver=new Br,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class br extends fw{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new ZN,this._persistenceKey=o?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||$M(this),this._firestoreClient.terminate()}}function Xr(n){return n._firestoreClient||$M(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function $M(n){var e;const t=n._freezeSettings(),r=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new FE(n._databaseId,u,n._persistenceKey,(m=t).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,m.useFetchStreams));var u,m;n._firestoreClient=new BN(n._authCredentials,n._appCheckCredentials,n._queue,r)}function GM(n,e,t){const r=new Br;return n.asyncQueue.enqueue((0,Se.Z)(function*(){try{yield LM(n,t),yield VM(n,e),r.resolve()}catch(o){const u=o;if(!("FirebaseError"===(d=u).name?d.code===be.FAILED_PRECONDITION||d.code===be.UNIMPLEMENTED:!(typeof DOMException<"u"&&d instanceof DOMException)||22===d.code||20===d.code||11===d.code))throw u;$c("Error enabling offline persistence. Falling back to persistence disabled: "+u),r.reject(u)}var d})).then(()=>r.promise)}function zM(n){if(n._initialized||n._terminated)throw new Ue(be.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Xl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xl(Yr.fromBase64String(e))}catch(t){throw new Ue(be.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Xl(Yr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ed{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ue(be.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _r(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class hp{constructor(e){this._methodName=e}}class PI{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ue(be.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ue(be.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Kt(this._lat,e._lat)||Kt(this._long,e._long)}}const sR=/^__.*__$/;class oR{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Ql(e,this.data,this.fieldMask,t,this.fieldTransforms):new Jf(e,this.data,t,this.fieldTransforms)}}class qM{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ql(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function WM(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ht()}}class FI{constructor(e,t,r,o,u,d){this.settings=e,this.databaseId=t,this.It=r,this.ignoreUndefinedProperties=o,void 0===u&&this.na(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new FI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.ia({path:r,oa:!1});return o.ua(e),o}ca(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.ia({path:r,oa:!1});return o.na(),o}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return UI(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(WM(this.sa)&&sR.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class aR{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=r||cw(e)}da(e,t,r,o=!1){return new FI({sa:e,methodName:t,fa:r,path:_r.emptyPath(),oa:!1,la:o},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function fp(n){const e=n._freezeSettings(),t=cw(n._databaseId);return new aR(n._databaseId,!!e.ignoreUndefinedProperties,t)}function LI(n,e,t,r,o,u={}){const d=n.da(u.merge||u.mergeFields?2:0,e,t,o);WA("Data must be an object, but it was:",d,r);const m=YM(r,d);let w,T;if(u.merge)w=new Gs(d.fieldMask),T=d.fieldTransforms;else if(u.mergeFields){const M=[];for(const O of u.mergeFields){const q=ZA(e,O,t);if(!d.contains(q))throw new Ue(be.INVALID_ARGUMENT,`Field '${q}' is specified in your field mask but missing from your input data.`);JM(M,q)||M.push(q)}w=new Gs(M),T=d.fieldTransforms.filter(O=>w.covers(O.field))}else w=null,T=d.fieldTransforms;return new oR(new ci(m),w,T)}class pw extends hp{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof pw}}function ZM(n,e,t){return new FI({sa:3,fa:e.settings.fa,methodName:n._methodName,oa:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class GA extends hp{_toFieldTransform(e){return new _h(e.path,new Yf)}isEqual(e){return e instanceof GA}}class uR extends hp{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=ZM(this,e,!0),r=this._a.map(u=>pp(u,t)),o=new Zl(r);return new _h(e.path,o)}isEqual(e){return this===e}}class lR extends hp{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=ZM(this,e,!0),r=this._a.map(u=>pp(u,t)),o=new Kl(r);return new _h(e.path,o)}isEqual(e){return this===e}}class cR extends hp{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new Yl(e.It,KE(e.It,this.wa));return new _h(e.path,t)}isEqual(e){return this===e}}function zA(n,e,t,r){const o=n.da(1,e,t);WA("Data must be an object, but it was:",o,r);const u=[],d=ci.empty();Hl(r,(w,T)=>{const M=VI(e,w,t);T=(0,Dn.m9)(T);const O=o.ca(M);if(T instanceof pw)u.push(M);else{const q=pp(T,O);null!=q&&(u.push(M),d.set(M,q))}});const m=new Gs(u);return new qM(d,m,o.fieldTransforms)}function qA(n,e,t,r,o,u){const d=n.da(1,e,t),m=[ZA(e,r,t)],w=[o];if(u.length%2!=0)throw new Ue(be.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let q=0;q<u.length;q+=2)m.push(ZA(e,u[q])),w.push(u[q+1]);const T=[],M=ci.empty();for(let q=m.length-1;q>=0;--q)if(!JM(T,m[q])){const X=m[q];let pe=w[q];pe=(0,Dn.m9)(pe);const je=d.ca(X);if(pe instanceof pw)T.push(X);else{const ze=pp(pe,je);null!=ze&&(T.push(X),M.set(X,ze))}}const O=new Gs(T);return new qM(M,O,d.fieldTransforms)}function KM(n,e,t,r=!1){return pp(t,n.da(r?4:3,e))}function pp(n,e){if(QM(n=(0,Dn.m9)(n)))return WA("Unsupported field value:",e,n),YM(n,e);if(n instanceof hp)return function(t,r){if(!WM(r.sa))throw r.ha(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,r){const o=[];let u=0;for(const d of t){let m=pp(d,r.aa(u));null==m&&(m={nullValue:"NULL_VALUE"}),o.push(m),u++}return{arrayValue:{values:o}}}(n,e)}return function(t,r){if(null===(t=(0,Dn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return KE(r.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const o=nr.fromDate(t);return{timestampValue:Eh(r.It,o)}}if(t instanceof nr){const o=new nr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Eh(r.It,o)}}if(t instanceof PI)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Xl)return{bytesValue:Om(r.It,t._byteString)};if(t instanceof wr){const o=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(o))throw r.ha(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:tp(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ha(`Unsupported field value: ${MI(t)}`)}(n,e)}function YM(n,e){const t={};return zc(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hl(n,(r,o)=>{const u=pp(o,e.ra(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function QM(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof nr||n instanceof PI||n instanceof Xl||n instanceof wr||n instanceof hp)}function WA(n,e,t){if(!QM(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=MI(t);throw e.ha("an object"===r?n+" a custom object":n+" "+r)}var r}function ZA(n,e,t){if((e=(0,Dn.m9)(e))instanceof ed)return e._internalPath;if("string"==typeof e)return VI(n,e);throw UI("Field path arguments must be of type string or ",n,!1,void 0,t)}const dR=new RegExp("[~\\*/\\[\\]]");function VI(n,e,t){if(e.search(dR)>=0)throw UI(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ed(...e.split("."))._internalPath}catch{throw UI(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function UI(n,e,t,r,o){const u=r&&!r.isEmpty(),d=void 0!==o;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let w="";return(u||d)&&(w+=" (found",u&&(w+=` in field ${r}`),d&&(w+=` in document ${o}`),w+=")"),new Ue(be.INVALID_ARGUMENT,m+n+w)}function JM(n,e){return n.some(t=>t.isEqual(e))}class gw{constructor(e,t,r,o,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new wr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new hR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(BI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class hR extends gw{data(){return super.data()}}function BI(n,e){return"string"==typeof e?VI(n,e):e instanceof ed?e._internalPath:e._delegate._internalPath}function XM(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ue(be.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mw{}function Ah(n,...e){for(const t of e)n=t._apply(n);return n}class fR extends mw{constructor(e,t,r){super(),this.ma=e,this.ga=t,this.ya=r,this.type="where"}_apply(e){const t=fp(e.firestore),r=function(o,u,d,m,w,T,M){let O;if(w.isKeyField()){if("array-contains"===T||"array-contains-any"===T)throw new Ue(be.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if("in"===T||"not-in"===T){s1(M,T);const X=[];for(const pe of M)X.push(i1(m,o,pe));O={arrayValue:{values:X}}}else O=i1(m,o,M)}else"in"!==T&&"not-in"!==T&&"array-contains-any"!==T||s1(M,T),O=KM(d,"where",M,"in"===T||"not-in"===T);const q=Ei.create(w,T,O);return function(X,pe){if(pe.dt()){const ze=Am(X);if(null!==ze&&!ze.isEqual(pe.field))throw new Ue(be.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${ze.toString()}' and '${pe.field.toString()}'`);const _t=Tm(X);null!==_t&&o1(0,pe.field,_t)}const je=function(ze,_t){for(const Bt of ze.filters)if(_t.indexOf(Bt.op)>=0)return Bt.op;return null}(X,function(ze){switch(ze){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(pe.op));if(null!==je)throw new Ue(be.INVALID_ARGUMENT,je===pe.op?`Invalid query. You cannot use more than one '${pe.op.toString()}' filter.`:`Invalid query. You cannot use '${pe.op.toString()}' filters with '${je.toString()}' filters.`)}(o,q),q}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new Cs(e.firestore,e.converter,function(o,u){const d=o.filters.concat([u]);return new na(o.path,o.collectionGroup,o.explicitOrderBy.slice(),d,o.limit,o.limitType,o.startAt,o.endAt)}(e._query,r))}}class gR extends mw{constructor(e,t){super(),this.ma=e,this.pa=t,this.type="orderBy"}_apply(e){const t=function(r,o,u){if(null!==r.startAt)throw new Ue(be.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Ue(be.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new Wl(o,u);return function(m,w){if(null===Tm(m)){const T=Am(m);null!==T&&o1(0,T,w.field)}}(r,d),d}(e._query,this.ma,this.pa);return new Cs(e.firestore,e.converter,function(r,o){const u=r.explicitOrderBy.concat([o]);return new na(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class e1 extends mw{constructor(e,t,r){super(),this.type=e,this.Ia=t,this.Ta=r}_apply(e){return new Cs(e.firestore,e.converter,Sm(e._query,this.Ia,this.Ta))}}class t1 extends mw{constructor(e,t,r){super(),this.type=e,this.Ea=t,this.Aa=r}_apply(e){const t=r1(e,this.type,this.Ea,this.Aa);return new Cs(e.firestore,e.converter,(o=t,new na((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class n1 extends mw{constructor(e,t,r){super(),this.type=e,this.Ea=t,this.Aa=r}_apply(e){const t=r1(e,this.type,this.Ea,this.Aa);return new Cs(e.firestore,e.converter,(o=t,new na((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function r1(n,e,t,r){if(t[0]=(0,Dn.m9)(t[0]),t[0]instanceof gw)return function(o,u,d,m,w){if(!m)throw new Ue(be.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const T=[];for(const M of Kc(o))if(M.field.isKeyField())T.push(gh(u,m.key));else{const O=m.data.field(M.field);if(wm(O))throw new Ue(be.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+M.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===O){const q=M.field.canonicalString();throw new Ue(be.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${q}' (used as the orderBy) does not exist.`)}T.push(O)}return new ql(T,w)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const o=fp(n.firestore);return function(u,d,m,w,T,M){const O=u.explicitOrderBy;if(T.length>O.length)throw new Ue(be.INVALID_ARGUMENT,`Too many arguments provided to ${w}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const q=[];for(let X=0;X<T.length;X++){const pe=T[X];if(O[X].field.isKeyField()){if("string"!=typeof pe)throw new Ue(be.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${w}(), but got a ${typeof pe}`);if(!P_(u)&&-1!==pe.indexOf("/"))throw new Ue(be.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${w}() must be a plain document ID, but '${pe}' contains a slash.`);const je=u.path.child(vn.fromString(pe));if(!tt.isDocumentKey(je))throw new Ue(be.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${w}() must result in a valid document path, but '${je}' is not because it contains an odd number of segments.`);const ze=new tt(je);q.push(gh(d,ze))}else{const je=KM(m,w,pe);q.push(je)}}return new ql(q,M)}(n._query,n.firestore._databaseId,o,e,t,r)}}function i1(n,e,t){if("string"==typeof(t=(0,Dn.m9)(t))){if(""===t)throw new Ue(be.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!P_(e)&&-1!==t.indexOf("/"))throw new Ue(be.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(vn.fromString(t));if(!tt.isDocumentKey(r))throw new Ue(be.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return gh(n,new tt(r))}if(t instanceof wr)return gh(n,t._key);throw new Ue(be.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${MI(t)}.`)}function s1(n,e){if(!Array.isArray(n)||0===n.length)throw new Ue(be.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Ue(be.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function o1(n,e,t){if(!t.isEqual(e))throw new Ue(be.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class KA{convertValue(e,t="none"){switch(qc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes($l(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ht()}}convertObject(e,t){const r={};return Hl(e.fields,(o,u)=>{r[o]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new PI(xr(e.latitude),xr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=PE(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(zf(e));default:return null}}convertTimestamp(e){const t=Qu(e);return new nr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=vn.fromString(e);Rt(b(r));const o=new Gl(r.get(1),r.get(3)),u=new tt(r.popFirst(5));return o.isEqual(t)||tr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function jI(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class IR extends KA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new wr(this.firestore,null,t)}}class gp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class td extends gw{constructor(e,t,r,o,u,d){super(e,t,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new yw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(BI("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class yw extends td{data(e={}){return super.data(e)}}class Sh{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new gp(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new yw(this._firestore,this._userDataWriter,r.key,r,new gp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ue(be.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(d=>({type:"added",doc:new yw(r._firestore,r._userDataWriter,d.doc.key,d.doc,new gp(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>o||3!==d.type).map(d=>{const m=new yw(r._firestore,r._userDataWriter,d.doc.key,d.doc,new gp(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let w=-1,T=-1;return 0!==d.type&&(w=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),1!==d.type&&(u=u.add(d.doc),T=u.indexOf(d.doc.key)),{type:CR(d.type),doc:m,oldIndex:w,newIndex:T}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function CR(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ht()}}function a1(n,e){return n instanceof td&&e instanceof td?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Sh&&e instanceof Sh&&n._firestore===e._firestore&&OA(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class xh extends KA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new wr(this.firestore,null,t)}}function u1(n,e,t){n=_n(n,wr);const r=_n(n.firestore,br),o=jI(n.converter,e,t);return Ym(r,[LI(fp(r),"setDoc",n._key,o,null!==n.converter,t).toMutation(n._key,Zn.none())])}function l1(n,e,t,...r){n=_n(n,wr);const o=_n(n.firestore,br),u=fp(o);let d;return d="string"==typeof(e=(0,Dn.m9)(e))||e instanceof ed?qA(u,"updateDoc",n._key,e,t,r):zA(u,"updateDoc",n._key,e),Ym(o,[d.toMutation(n._key,Zn.exists(!0))])}function c1(n,...e){var t,r,o;n=(0,Dn.m9)(n);let u={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||$A(e[d])||(u=e[d],d++);const m={includeMetadataChanges:u.includeMetadataChanges};if($A(e[d])){const O=e[d];e[d]=null===(t=O.next)||void 0===t?void 0:t.bind(O),e[d+1]=null===(r=O.error)||void 0===r?void 0:r.bind(O),e[d+2]=null===(o=O.complete)||void 0===o?void 0:o.bind(O)}let w,T,M;if(n instanceof wr)T=_n(n.firestore,br),M=yh(n._key.path),w={next:O=>{e[d]&&e[d](YA(T,n,O))},error:e[d+1],complete:e[d+2]};else{const O=_n(n,Cs);T=_n(O.firestore,br),M=O._query;const q=new xh(T);w={next:X=>{e[d]&&e[d](new Sh(T,q,O,X))},error:e[d+1],complete:e[d+2]},XM(n._query)}return function(O,q,X,pe){const je=new NI(pe),ze=new oA(q,je,X);return O.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return tA(yield Km(O),ze)})),()=>{je.bc(),O.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return rA(yield Km(O),ze)}))}}(Xr(T),M,m,w)}function Ym(n,e){return function(t,r){const o=new Br;return t.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return function yN(n,e,t){return dA.apply(this,arguments)}(yield jA(t),r,o)})),o.promise}(Xr(n),e)}function YA(n,e,t){const r=t.docs.get(e._key),o=new xh(n);return new td(n,o,e._key,r,new gp(t.hasPendingWrites,t.fromCache),e.converter)}const OR={maxAttempts:5};class d1{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=fp(e)}set(e,t,r){this._verifyNotCommitted();const o=Mh(e,this._firestore),u=jI(o.converter,t,r),d=LI(this._dataReader,"WriteBatch.set",o._key,u,null!==o.converter,r);return this._mutations.push(d.toMutation(o._key,Zn.none())),this}update(e,t,r,...o){this._verifyNotCommitted();const u=Mh(e,this._firestore);let d;return d="string"==typeof(t=(0,Dn.m9)(t))||t instanceof ed?qA(this._dataReader,"WriteBatch.update",u._key,t,r,o):zA(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(d.toMutation(u._key,Zn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Mh(e,this._firestore);return this._mutations=this._mutations.concat(new bh(t._key,Zn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ue(be.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Mh(n,e){if((n=(0,Dn.m9)(n)).firestore!==e)throw new Ue(be.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class PR extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=fp(e)}get(e){const t=Mh(e,this._firestore),r=new IR(this._firestore);return this._transaction.lookup([t._key]).then(o=>{if(!o||1!==o.length)return ht();const u=o[0];if(u.isFoundDocument())return new gw(this._firestore,r,u.key,u,t.converter);if(u.isNoDocument())return new gw(this._firestore,r,t._key,null,t.converter);throw ht()})}set(e,t,r){const o=Mh(e,this._firestore),u=jI(o.converter,t,r),d=LI(this._dataReader,"Transaction.set",o._key,u,null!==o.converter,r);return this._transaction.set(o._key,d),this}update(e,t,r,...o){const u=Mh(e,this._firestore);let d;return d="string"==typeof(t=(0,Dn.m9)(t))||t instanceof ed?qA(this._dataReader,"Transaction.update",u._key,t,r,o):zA(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,d),this}delete(e){const t=Mh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Mh(e,this._firestore),r=new xh(this._firestore);return super.get(e).then(o=>new td(this._firestore,r,t._key,o._document,new gp(!1,!1),t.converter))}}function QA(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ue("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function f1(){if(typeof Uint8Array>"u")throw new Ue("unimplemented","Uint8Arrays are not available in this environment.")}function p1(){if(!function $D(){return typeof atob<"u"}())throw new Ue("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){uh=Pc.SDK_VERSION,(0,Pc._registerComponent)(new Og.wA("firestore",(t,{instanceIdentifier:r,options:o})=>{const u=t.getProvider("app").getImmediate(),d=new br(new jD(t.getProvider("auth-internal")),new IE(t.getProvider("app-check-internal")),function(m,w){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Ue(be.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gl(m.options.projectId,w)}(u,r),u);return o=Object.assign({useFetchStreams:e},o),d._setSettings(o),d},"PUBLIC").setMultipleInstances(!0)),(0,Pc.registerVersion)(bE,"3.7.1",n),(0,Pc.registerVersion)(bE,"3.7.1","esm2017")}();class vw{constructor(e){this._delegate=e}static fromBase64String(e){return p1(),new vw(Xl.fromBase64String(e))}static fromUint8Array(e){return f1(),new vw(Xl.fromUint8Array(e))}toBase64(){return p1(),this._delegate.toBase64()}toUint8Array(){return f1(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function JA(n){return function GR(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class zR{enableIndexedDbPersistence(e,t){return function QN(n,e){zM(n=_n(n,br));const t=Xr(n),r=n._freezeSettings(),o=new NA;return GM(t,o,new TM(o,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function JN(n){zM(n=_n(n,br));const e=Xr(n),t=n._freezeSettings(),r=new NA;return GM(e,r,new RN(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function XN(n){if(n._initialized&&!n._terminated)throw new Ue(be.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Br;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Se.Z)(function*(){try{yield(t=(0,Se.Z)(function*(r){if(!Co.C())return Promise.resolve();const o=r+"main";yield Co.delete(o)}),function(r){return t.apply(this,arguments)})(DT(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class g1{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Gl||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&$c("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function RM(n,e,t,r={}){var o;const u=(n=_n(n,fw))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&$c("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let d,m;if("string"==typeof r.mockUserToken)d=r.mockUserToken,m=Ar.MOCK_USER;else{d=(0,Dn.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new Ue(be.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Ar(w)}n._authCredentials=new BD(new gm(d,m))}}(this._delegate,e,t,r)}enableNetwork(){return function tR(n){return function jN(n){return n.asyncQueue.enqueue((0,Se.Z)(function*(){const e=yield UM(n),t=yield BA(n);return e.setNetworkEnabled(!0),function(r){const o=nt(r);return o.wu.delete(0),dw(o)}(t)}))}(Xr(n=_n(n,br)))}(this._delegate)}disableNetwork(){return function nR(n){return function HN(n){return n.asyncQueue.enqueue((0,Se.Z)(function*(){const e=yield UM(n),t=yield BA(n);return e.setNetworkEnabled(!1),(r=(0,Se.Z)(function*(o){const u=nt(o);u.wu.add(0),yield Hm(u),u.yu.set("Offline")}),function(o){return r.apply(this,arguments)})(t);var r}))}(Xr(n=_n(n,br)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,AM("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function eR(n){return function(e){const t=new Br;return e.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return function bN(n,e){return mA.apply(this,arguments)}(yield jA(e),t)})),t.promise}(Xr(n=_n(n,br)))}(this._delegate)}onSnapshotsInSync(e){return function RR(n,e){return function zN(n,e){const t=new NI(e);return n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return r=yield Km(n),o=t,nt(r).bu.add(o),void o.next();var r,o})),()=>{t.bc(),n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return r=yield Km(n),o=t,void nt(r).bu.delete(o);var r,o}))}}(Xr(n=_n(n,br)),$A(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ue("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Qm(this,OM(this._delegate,e))}catch(t){throw qs(t,"collection()","Firestore.collection()")}}doc(e){try{return new Ya(this,kI(this._delegate,e))}catch(t){throw qs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ws(this,function ON(n,e){if(n=_n(n,fw),RA("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ue(be.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Cs(n,null,(t=e,new na(vn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw qs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function FR(n,e,t){n=_n(n,br);const r=Object.assign(Object.assign({},OR),t);return function(o){if(o.maxAttempts<1)throw new Ue(be.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,u,d){const m=new Br;return o.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){const w=yield function BM(n){return RI(n).then(e=>e.datastore)}(o);new UN(o.asyncQueue,w,d,u,m).run()})),m.promise}(Xr(n),o=>e(new PR(n,o)),r)}(this._delegate,t=>e(new m1(this,t)))}batch(){return Xr(this._delegate),new y1(new d1(this._delegate,e=>Ym(this._delegate,e)))}loadBundle(e){return function rR(n,e){const t=Xr(n=_n(n,br)),r=new KN;return function qN(n,e,t,r){const o=function(u,d){let m;return m="string"==typeof u?(new TextEncoder).encode(u):u,w=function(w,T){if(w instanceof Uint8Array)return FM(w,T);if(w instanceof ArrayBuffer)return FM(new Uint8Array(w),T);if(w instanceof ReadableStream)return w.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new PN(w,d);var w}(t,cw(e));n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){!function NN(n,e,t){const r=nt(n);var o;(o=(0,Se.Z)(function*(u,d,m){try{const w=yield d.getMetadata();if(yield function(q,X){const pe=nt(q),je=Jr(X.createTime);return pe.persistence.runTransaction("hasNewerBundle","readonly",ze=>pe.Ns.getBundleMetadata(ze,X.id)).then(ze=>!!ze&&ze.createTime.compareTo(je)>=0)}(u.localStore,w))return yield d.close(),m._completeWith({taskState:"Success",documentsLoaded:(q=w).totalDocuments,bytesLoaded:q.totalBytes,totalDocuments:q.totalDocuments,totalBytes:q.totalBytes}),Promise.resolve(new Set);m._updateProgress(mM(w));const T=new dN(w,u.localStore,d.It);let M=yield d.mc();for(;M;){const q=yield T.Fu(M);q&&m._updateProgress(q),M=yield d.mc()}const O=yield T.complete();return yield Xc(u,O.Lu,void 0),yield function(q,X){const pe=nt(q);return pe.persistence.runTransaction("Save bundle","readwrite",je=>pe.Ns.saveBundleMetadata(je,X))}(u.localStore,w),m._completeWith(O.progress),Promise.resolve(O.Bu)}catch(w){return $c("SyncEngine",`Loading bundle failed with ${w}`),m._failWith(w),Promise.resolve(new Set)}var q}),function(u,d,m){return o.apply(this,arguments)})(r,e,t).then(o=>{r.sharedClientState.notifyBundleLoaded(o)})}(yield jA(n),o,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function iR(n,e){return function WN(n,e){return n.asyncQueue.enqueue((0,Se.Z)(function*(){return function(t,r){const o=nt(t);return o.persistence.runTransaction("Get named query","readonly",u=>o.Ns.getNamedQuery(u,r))}(yield OI(n),e)}))}(Xr(n=_n(n,br)),e).then(t=>t?new Cs(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Ws(this,t):null)}}class HI extends KA{constructor(e){super(),this.firestore=e}convertBytes(e){return new vw(new Xl(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Ya.forKey(t,this.firestore,null)}}class m1{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new HI(e)}get(e){const t=yp(e);return this._delegate.get(t).then(r=>new _w(this._firestore,new td(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const o=yp(e);return r?(QA("Transaction.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const u=yp(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...o),this}delete(e){const t=yp(e);return this._delegate.delete(t),this}}class y1{constructor(e){this._delegate=e}set(e,t,r){const o=yp(e);return r?(QA("WriteBatch.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const u=yp(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...o),this}delete(e){const t=yp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class mp{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new yw(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new ww(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=mp.INSTANCES;let o=r.get(e);o||(o=new WeakMap,r.set(e,o));let u=o.get(t);return u||(u=new mp(e,new HI(e),t),o.set(t,u)),u}}mp.INSTANCES=new WeakMap;class Ya{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new HI(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Ue("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ya(t,new wr(t._delegate,r,new tt(e)))}static forKey(e,t,r){return new Ya(t,new wr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Qm(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Qm(this.firestore,OM(this._delegate,e))}catch(t){throw qs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Dn.m9)(e))instanceof wr&&PM(this._delegate,e)}set(e,t){t=QA("DocumentReference.set",t);try{return t?u1(this._delegate,e,t):u1(this._delegate,e)}catch(r){throw qs(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?l1(this._delegate,e):l1(this._delegate,e,t,...r)}catch(o){throw qs(o,"updateDoc()","DocumentReference.update()")}}delete(){return function kR(n){return Ym(_n(n.firestore,br),[new bh(n._key,Zn.none())])}(this._delegate)}onSnapshot(...e){const t=v1(e),r=_1(e,o=>new _w(this.firestore,new td(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return c1(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function TR(n){n=_n(n,wr);const e=_n(n.firestore,br),t=Xr(e),r=new xh(e);return function $N(n,e){const t=new Br;return n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return(r=(0,Se.Z)(function*(o,u,d){try{const m=yield function(w,T){const M=nt(w);return M.persistence.runTransaction("read document","readonly",O=>M.localDocuments.getDocument(O,T))}(o,u);m.isFoundDocument()?d.resolve(m):m.isNoDocument()?d.resolve(null):d.reject(new Ue(be.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const w=zm(m,`Failed to get document '${u} from cache`);d.reject(w)}}),function(o,u,d){return r.apply(this,arguments)})(yield OI(n),e,t);var r})),t.promise}(t,n._key).then(o=>new td(e,r,n._key,o,new gp(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function AR(n){n=_n(n,wr);const e=_n(n.firestore,br);return jM(Xr(e),n._key,{source:"server"}).then(t=>YA(e,n,t))}(this._delegate):function DR(n){n=_n(n,wr);const e=_n(n.firestore,br);return jM(Xr(e),n._key).then(t=>YA(e,n,t))}(this._delegate),t.then(r=>new _w(this.firestore,new td(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Ya(this.firestore,this._delegate.withConverter(e?mp.getInstance(this.firestore,e):null))}}function qs(n,e,t){return n.message=n.message.replace(e,t),n}function v1(n){for(const e of n)if("object"==typeof e&&!JA(e))return e;return{}}function _1(n,e){var t,r;let o;return o=JA(n[0])?n[0]:JA(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{o.next&&o.next(e(u))},error:null===(t=o.error)||void 0===t?void 0:t.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class _w{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Ya(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return a1(this._delegate,e._delegate)}}class ww extends _w{data(e){const t=this._delegate.data(e);return function pm(n,e){n||ht()}(void 0!==t),t}}class Ws{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new HI(e)}where(e,t,r){try{return new Ws(this.firestore,Ah(this._delegate,function pR(n,e,t){const r=e,o=BI("where",n);return new fR(o,r,t)}(e,t,r)))}catch(o){throw qs(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Ws(this.firestore,Ah(this._delegate,function mR(n,e="asc"){const t=e,r=BI("orderBy",n);return new gR(r,t)}(e,t)))}catch(r){throw qs(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ws(this.firestore,Ah(this._delegate,function yR(n){return MM("limit",n),new e1("limit",n,"F")}(e)))}catch(t){throw qs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Ws(this.firestore,Ah(this._delegate,function vR(n){return MM("limitToLast",n),new e1("limitToLast",n,"L")}(e)))}catch(t){throw qs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ws(this.firestore,Ah(this._delegate,function _R(...n){return new t1("startAt",n,!0)}(...e)))}catch(t){throw qs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ws(this.firestore,Ah(this._delegate,function wR(...n){return new t1("startAfter",n,!1)}(...e)))}catch(t){throw qs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ws(this.firestore,Ah(this._delegate,function bR(...n){return new n1("endBefore",n,!1)}(...e)))}catch(t){throw qs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ws(this.firestore,Ah(this._delegate,function ER(...n){return new n1("endAt",n,!0)}(...e)))}catch(t){throw qs(t,"endAt()","Query.endAt()")}}isEqual(e){return OA(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function xR(n){n=_n(n,Cs);const e=_n(n.firestore,br),t=Xr(e),r=new xh(e);return function GN(n,e){const t=new Br;return n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return(r=(0,Se.Z)(function*(o,u,d){try{const m=yield CI(o,u,!0),w=new _M(u,m.Hi),T=w.Wu(m.documents),M=w.applyChanges(T,!1);d.resolve(M.snapshot)}catch(m){const w=zm(m,`Failed to execute query '${u} against cache`);d.reject(w)}}),function(o,u,d){return r.apply(this,arguments)})(yield OI(n),e,t);var r})),t.promise}(t,n._query).then(o=>new Sh(e,r,n,o))}(this._delegate):"server"===e?.source?function MR(n){n=_n(n,Cs);const e=_n(n.firestore,br),t=Xr(e),r=new xh(e);return HM(t,n._query,{source:"server"}).then(o=>new Sh(e,r,n,o))}(this._delegate):function SR(n){n=_n(n,Cs);const e=_n(n.firestore,br),t=Xr(e),r=new xh(e);return XM(n._query),HM(t,n._query).then(o=>new Sh(e,r,n,o))}(this._delegate),t.then(r=>new XA(this.firestore,new Sh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=v1(e),r=_1(e,o=>new XA(this.firestore,new Sh(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return c1(this._delegate,t,r)}withConverter(e){return new Ws(this.firestore,this._delegate.withConverter(e?mp.getInstance(this.firestore,e):null))}}class WR{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new ww(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class XA{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Ws(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new ww(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new WR(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new ww(this._firestore,r))})}isEqual(e){return a1(this._delegate,e._delegate)}}class Qm extends Ws{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ya(this.firestore,e):null}doc(e){try{return new Ya(this.firestore,void 0===e?kI(this._delegate):kI(this._delegate,e))}catch(t){throw qs(t,"doc()","CollectionReference.doc()")}}add(e){return function NR(n,e){const t=_n(n.firestore,br),r=kI(n),o=jI(n.converter,e);return Ym(t,[LI(fp(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,Zn.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Ya(this.firestore,t))}isEqual(e){return PM(this._delegate,e._delegate)}withConverter(e){return new Qm(this.firestore,this._delegate.withConverter(e?mp.getInstance(this.firestore,e):null))}}function yp(n){return _n(n,wr)}class eS{constructor(...e){this._delegate=new ed(...e)}static documentId(){return new eS(_r.keyField().canonicalString())}isEqual(e){return(e=(0,Dn.m9)(e))instanceof ed&&this._delegate._internalPath.isEqual(e._internalPath)}}class vp{constructor(e){this._delegate=e}static serverTimestamp(){const e=function VR(){return new GA("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new vp(e)}static delete(){const e=function LR(){return new pw("deleteField")}();return e._methodName="FieldValue.delete",new vp(e)}static arrayUnion(...e){const t=function UR(...n){return new uR("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new vp(t)}static arrayRemove(...e){const t=function BR(...n){return new lR("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new vp(t)}static increment(e){const t=function jR(n){return new cR("increment",n)}(e);return t._methodName="FieldValue.increment",new vp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const ZR={Firestore:g1,GeoPoint:PI,Timestamp:nr,Blob:vw,Transaction:m1,WriteBatch:y1,DocumentReference:Ya,DocumentSnapshot:_w,Query:Ws,QueryDocumentSnapshot:ww,QuerySnapshot:XA,CollectionReference:Qm,FieldPath:eS,FieldValue:vp,setLogLevel:function qR(n){!function UD(n){Wa.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function YR(n){(function KR(n,e){n.INTERNAL.registerComponent(new Og.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),o=t.getProvider("firestore").getImmediate();return e(r,o)},"PUBLIC").setServiceProps(Object.assign({},ZR)))})(n,(e,t)=>new g1(e,t,new zR)),n.registerVersion("@firebase/firestore-compat","0.2.1")}(Zr.Z);var QR=V(6451),$I=V(5363),JR=V(6063);class XR extends Ni.x{constructor(e=1/0,t=1/0,r=JR.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:u,_windowTime:d}=this;t||(r.push(e),!o&&r.push(u.now()+d)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:o}=this,u=o.slice();for(let d=0;d<u.length&&!e.closed;d+=r?1:2)e.next(u[d]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:o}=this,u=(o?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!o){const d=t.now();let m=0;for(let w=1;w<r.length&&r[w]<=d;w+=2)m=w;m&&r.splice(0,m+1)}}}var eO=V(3099);function w1(n,e,t){let r,o=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:o=!1,scheduler:t}=n):r=n??1/0,(0,eO.B)({connector:()=>new XR(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}function b1(n,e){return(0,Na.m)(e)?mr(()=>n,e):mr(()=>n)}var tS=V(9468);V(5867);const I1=new Map,sO={activated:!1,tokenObservers:[]},oO={initialized:!1,enabled:!1};function Gi(n){return I1.get(n)||sO}function Qa(n,e){I1.set(n,e)}function zI(){return oO}class dO{constructor(e,t,r,o,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=o,o>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Se.Z)(function*(){t.stop();try{t.pending=new Dn.BH,yield function hO(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Dn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Zs=new Dn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function D1(n){if(!Gi(n).activated)throw Zs.create("use-before-activation",{appName:n.name})}function sS(n,e){return oS.apply(this,arguments)}function oS(){return oS=(0,Se.Z)(function*({url:n,body:e},t){var r,o;const u={"Content-Type":"application/json"},d=t.getImmediate({optional:!0});if(d){const X=yield d.getHeartbeatsHeader();X&&(u["X-Firebase-Client"]=X)}const m={method:"POST",body:JSON.stringify(e),headers:u};let w,T;try{w=yield fetch(n,m)}catch(X){throw Zs.create("fetch-network-error",{originalErrorMessage:null===(r=X)||void 0===r?void 0:r.message})}if(200!==w.status)throw Zs.create("fetch-status-error",{httpStatus:w.status});try{T=yield w.json()}catch(X){throw Zs.create("fetch-parse-error",{originalErrorMessage:null===(o=X)||void 0===o?void 0:o.message})}const M=T.ttl.match(/^([\d.]+)(s)$/);if(!M||!M[2]||isNaN(Number(M[1])))throw Zs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${T.ttl}`});const O=1e3*Number(M[1]),q=Date.now();return{token:T.token,expireTimeMillis:q+O,issuedAtTimeMillis:q}}),oS.apply(this,arguments)}function mO(n,e){const{projectId:t,appId:r,apiKey:o}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${o}`,body:{debug_token:e}}}const bw="firebase-app-check-store";let ZI=null;function A1(){return ZI||(ZI=new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=o=>{n(o.target.result)},r.onerror=o=>{var u;e(Zs.create("storage-open",{originalErrorMessage:null===(u=o.target.error)||void 0===u?void 0:u.message}))},r.onupgradeneeded=o=>{0===o.oldVersion&&o.target.result.createObjectStore(bw,{keyPath:"compositeKey"})}}catch(r){e(Zs.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}}),ZI)}function aS(){return aS=(0,Se.Z)(function*(n,e){const r=(yield A1()).transaction(bw,"readwrite"),u=r.objectStore(bw).put({compositeKey:n,value:e});return new Promise((d,m)=>{u.onsuccess=w=>{d()},r.onerror=w=>{var T;m(Zs.create("storage-set",{originalErrorMessage:null===(T=w.target.error)||void 0===T?void 0:T.message}))}})}),aS.apply(this,arguments)}const Ew=new Ku.Yd("@firebase/app-check");function cS(n,e){return(0,Dn.hl)()?function wO(n,e){return function S1(n,e){return aS.apply(this,arguments)}(function M1(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Ew.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function k1(){return zI().enabled}function N1(){return hS.apply(this,arguments)}function hS(){return hS=(0,Se.Z)(function*(){const n=zI();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),hS.apply(this,arguments)}const TO={error:"UNKNOWN_ERROR"};function AO(n){return Dn.US.encodeString(JSON.stringify(n),!1)}function KI(n){return fS.apply(this,arguments)}function fS(){return fS=(0,Se.Z)(function*(n,e=!1){const t=n.app;D1(t);const r=Gi(t);let u,o=r.token;if(o&&!Jm(o)&&(Qa(t,Object.assign(Object.assign({},r),{token:void 0})),o=void 0),!o){const w=yield r.cachedTokenPromise;w&&(Jm(w)?o=w:yield cS(t,void 0))}if(!e&&o&&Jm(o))return{token:o.token};let m,d=!1;if(k1()){r.exchangeTokenPromise||(r.exchangeTokenPromise=sS(mO(t,yield N1()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),d=!0);const w=yield r.exchangeTokenPromise;return yield cS(t,w),Qa(t,Object.assign(Object.assign({},r),{token:w})),{token:w.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),d=!0),o=yield r.exchangeTokenPromise}catch(w){"appCheck/throttled"===w.code?Ew.warn(w.message):Ew.error(w),u=w}return o?u?m=Jm(o)?{token:o.token,internalError:u}:P1(u):(m={token:o.token},Qa(t,Object.assign(Object.assign({},r),{token:o})),yield cS(t,o)):m=P1(u),d&&O1(t,m),m}),fS.apply(this,arguments)}function gS(n,e){const t=Gi(n),r=t.tokenObservers.filter(o=>o.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Qa(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function R1(n){const{app:e}=n,t=Gi(e);let r=t.tokenRefresher;r||(r=function SO(n){const{app:e}=n;return new dO((0,Se.Z)(function*(){let r;if(r=Gi(e).token?yield KI(n,!0):yield KI(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Gi(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),Qa(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function O1(n,e){const t=Gi(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function Jm(n){return n.expireTimeMillis-Date.now()>0}function P1(n){return{token:AO(TO),error:n}}class xO{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Gi(this.app);for(const t of e)gS(this.app,t.next);return Promise.resolve()}}const $1="app-check-internal";!function $O(){(0,Pc._registerComponent)(new Og.wA("app-check",n=>function MO(n,e){return new xO(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider($1).initialize()})),(0,Pc._registerComponent)(new Og.wA($1,n=>function kO(n){return{getToken:e=>KI(n,e),addTokenListener:e=>function pS(n,e,t,r){const{app:o}=n,u=Gi(o),d={next:t,error:r,type:e};if(Qa(o,Object.assign(Object.assign({},u),{tokenObservers:[...u.tokenObservers,d]})),u.token&&Jm(u.token)){const m=u.token;Promise.resolve().then(()=>{t({token:m.token}),R1(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>R1(n))}(n,"INTERNAL",e),removeTokenListener:e=>gS(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Pc.registerVersion)("@firebase/app-check","0.5.15")}();class _S{constructor(){return(0,_i.vb)("app-check")}}typeof window<"u"&&window,V(127);const z1=new h.OlP("angularfire2.auth.use-emulator"),q1=new h.OlP("angularfire2.auth.settings"),W1=new h.OlP("angularfire2.auth.tenant-id"),Z1=new h.OlP("angularfire2.auth.langugage-code"),K1=new h.OlP("angularfire2.auth.use-device-language"),Y1=new h.OlP("angularfire.auth.persistence"),Q1=(n,e,t,r,o,u,d,m)=>(0,wo.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const w=e.runOutsideAngular(()=>n.auth());if(t&&w.useEmulator(...t),r&&(w.tenantId=r),w.languageCode=o,u&&w.useDeviceLanguage(),d)for(const[T,M]of Object.entries(d))w.settings[T]=M;return m&&w.setPersistence(m),w},[t,r,o,u,d,m]);let J1=(()=>{class n{constructor(t,r,o,u,d,m,w,T,M,O,q,X){const pe=new Ni.x,je=mt(void 0).pipe((0,$I.Q)(d.outsideAngular),mr(()=>u.runOutsideAngular(()=>Promise.resolve().then(V.bind(V,9545)))),(0,ut.U)(()=>(0,wo.on)(t,u,r)),(0,ut.U)(ze=>Q1(ze,u,m,T,M,O,w,q)),w1({bufferSize:1,refCount:!1}));if(Cr(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=mt(null);else{je.pipe(me()).subscribe();const _t=je.pipe(mr(Jt=>Jt.getRedirectResult().then(tn=>tn,()=>null)),_i.iC,w1({bufferSize:1,refCount:!1})),Bt=je.pipe(mr(Jt=>new zr.y(tn=>({unsubscribe:u.runOutsideAngular(()=>Jt.onAuthStateChanged(cn=>tn.next(cn),cn=>tn.error(cn),()=>tn.complete()))})))),Qt=je.pipe(mr(Jt=>new zr.y(tn=>({unsubscribe:u.runOutsideAngular(()=>Jt.onIdTokenChanged(cn=>tn.next(cn),cn=>tn.error(cn),()=>tn.complete()))}))));this.authState=_t.pipe(b1(Bt),(0,tS.R)(d.outsideAngular),(0,$I.Q)(d.insideAngular)),this.user=_t.pipe(b1(Qt),(0,tS.R)(d.outsideAngular),(0,$I.Q)(d.insideAngular)),this.idToken=this.user.pipe(mr(Jt=>Jt?(0,Sn.D)(Jt.getIdToken()):mt(null))),this.idTokenResult=this.user.pipe(mr(Jt=>Jt?(0,Sn.D)(Jt.getIdTokenResult()):mt(null))),this.credential=(0,QR.T)(_t,pe,this.authState.pipe(D(Jt=>!Jt))).pipe((0,ut.U)(Jt=>Jt?.user?Jt:null),(0,tS.R)(d.outsideAngular),(0,$I.Q)(d.insideAngular))}return(0,wo.pX)(this,je,u,{spy:{apply:(ze,_t,Bt)=>{(ze.startsWith("signIn")||ze.startsWith("createUser"))&&Bt.then(Qt=>pe.next(Qt))}}})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(wo.Dh),h.LFG(wo.xv,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(_i.HU),h.LFG(z1,8),h.LFG(q1,8),h.LFG(W1,8),h.LFG(Z1,8),h.LFG(K1,8),h.LFG(Y1,8),h.LFG(_S,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function X1(n,e){return function KO(n,e=vb.z){return new zr.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function bS(n,e){return X1(n,e).pipe((0,ut.U)(t=>({payload:t,type:"query"})))}function QI(n,e){return bS(n,e).pipe(Il(void 0),_b(),(0,ut.U)(([t,r])=>{const o=r.payload.docChanges(),u=o.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((d,m)=>{const w=o.find(M=>M.doc.ref.isEqual(d.ref)),T=t?.payload.docs.find(M=>M.ref.isEqual(d.ref));w&&JSON.stringify(w.doc.metadata)===JSON.stringify(d.metadata)||!w&&T&&JSON.stringify(T.metadata)===JSON.stringify(d.metadata)||u.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:d}})}),u}))}function ek(n,e,t){return QI(n,t).pipe(Vt((r,o)=>function QO(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function JO(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return ES(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return ES(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return ES(n,e.oldIndex,1)}return n}(n,r))}),n}(r,o.map(u=>u.payload),e),[]),function hD(n,e=uo.y){return n=n??fD,(0,qr.e)((t,r)=>{let o,u=!0;t.subscribe((0,Dr.x)(r,d=>{const m=e(d);(u||!n(o,m))&&(u=!1,o=m,r.next(d))}))})}(),(0,ut.U)(r=>r.map(o=>({type:o.type,payload:o}))))}function ES(n,e,t,...r){const o=n.slice();return o.splice(e,t,...r),o}function tk(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class nk{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=QI(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,ut.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)))),t.pipe(Il(void 0),_b(),D(([r,o])=>o.length>0||!r),(0,ut.U)(([r,o])=>o),_i.iC)}auditTrail(e){return this.stateChanges(e).pipe(Vt((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=tk(e);return ek(this.query,t,this.afs.schedulers.outsideAngular).pipe(_i.iC)}valueChanges(e={}){return bS(this.query,this.afs.schedulers.outsideAngular).pipe((0,ut.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),_i.iC)}get(e){return(0,Sn.D)(this.query.get(e)).pipe(_i.iC)}add(e){return this.ref.add(e)}doc(e){return new rk(this.ref.doc(e),this.afs)}}class rk{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:o,query:u}=ik(r,t);return new nk(o,u,this.afs)}snapshotChanges(){return function YO(n,e){return X1(n,e).pipe(Il(void 0),_b(),(0,ut.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(_i.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,ut.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Sn.D)(this.ref.get(e)).pipe(_i.iC)}}class XO{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?QI(this.query,this.afs.schedulers.outsideAngular).pipe((0,ut.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),D(t=>t.length>0),_i.iC):QI(this.query,this.afs.schedulers.outsideAngular).pipe(_i.iC)}auditTrail(e){return this.stateChanges(e).pipe(Vt((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=tk(e);return ek(this.query,t,this.afs.schedulers.outsideAngular).pipe(_i.iC)}valueChanges(e={}){return bS(this.query,this.afs.schedulers.outsideAngular).pipe((0,ut.U)(r=>r.payload.docs.map(o=>e.idField?Object.assign({[e.idField]:o.id},o.data()):o.data())),_i.iC)}get(e){return(0,Sn.D)(this.query.get(e)).pipe(_i.iC)}}const eP=new h.OlP("angularfire2.enableFirestorePersistence"),tP=new h.OlP("angularfire2.firestore.persistenceSettings"),nP=new h.OlP("angularfire2.firestore.settings"),rP=new h.OlP("angularfire2.firestore.use-emulator");function ik(n,e=(t=>t)){return{query:e(n),ref:n}}let iP=(()=>{class n{constructor(t,r,o,u,d,m,w,T,M,O,q,X,pe,je,ze,_t,Bt){this.schedulers=w;const Qt=(0,wo.on)(t,m,r),Jt=M;O&&Q1(Qt,m,q,pe,je,ze,X,_t),[this.firestore,this.persistenceEnabled$]=(0,wo.cc)(`${Qt.name}.firestore`,"AngularFirestore",Qt.name,()=>{const tn=m.runOutsideAngular(()=>Qt.firestore());if(u&&tn.settings(u),Jt&&tn.useEmulator(...Jt),o&&!Cr(d)){const cn=()=>{try{return(0,Sn.D)(tn.enablePersistence(T||void 0).then(()=>!0,()=>!1))}catch(Ii){return typeof console<"u"&&console.warn(Ii),mt(!1)}};return[tn,m.runOutsideAngular(cn)]}return[tn,mt(!1)]},[u,Jt,o])}collection(t,r){let o;o="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:d}=ik(o,r),m=this.schedulers.ngZone.run(()=>u);return new nk(m,d,this)}collectionGroup(t,r){const o=r||(d=>d),u=this.firestore.collectionGroup(t);return new XO(o(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const o=this.schedulers.ngZone.run(()=>r);return new rk(o,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(wo.Dh),h.LFG(wo.xv,8),h.LFG(eP,8),h.LFG(nP,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(_i.HU),h.LFG(tP,8),h.LFG(rP,8),h.LFG(J1,8),h.LFG(z1,8),h.LFG(q1,8),h.LFG(W1,8),h.LFG(Z1,8),h.LFG(K1,8),h.LFG(Y1,8),h.LFG(_S,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),IS=(()=>{class n{constructor(t){this.afs=t,this.educationCollection=this.afs.collection("educations"),this.trainingCollection=this.afs.collection("trainings"),this.projectCollection=this.afs.collection("projects")}getEducations(){return this.educationCollection.valueChanges().pipe((0,ut.U)(t=>t.reverse()))}getTrainings(){return this.trainingCollection.valueChanges()}getProjects(){return this.projectCollection.valueChanges().pipe((0,ut.U)(t=>t.reverse()))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(iP))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function sP(n,e){if(1&n&&(h.TgZ(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7)(4,"p",8),h._uU(5),h.qZA(),h.TgZ(6,"p",9),h._uU(7),h.qZA()(),h.TgZ(8,"div",10)(9,"p",11),h._uU(10),h.qZA(),h.TgZ(11,"p",12),h._uU(12),h.qZA()()()()()),2&n){const t=e.$implicit;h.xp6(5),h.hij(" ",t.year," "),h.xp6(2),h.hij(" ",t.type," "),h.xp6(3),h.hij(" ",t.title," "),h.xp6(2),h.hij(" ",t.place," ")}}let oP=(()=>{class n{constructor(t){this.portfolio=t}ngOnInit(){Pl.init(),this.educations$=this.portfolio.getEducations()}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(IS))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-education"]],decls:6,vars:3,consts:[["id","education",1,"row"],[1,"col-md-12","col-lg-8","col-12","mx-auto","mt-5"],[1,"text-center","mt-5"],["class","row overflow-hidden mt-5",4,"ngFor","ngForOf"],[1,"row","overflow-hidden","mt-5"],[1,"col-lg-8","col-md-12","col-12","mx-auto"],[1,"row","border"],["data-aos","fade-right","data-aos-duration","600","data-aos-anchor-placement","bottom-bottom",1,"col-lg-4","col-md-4","col-12","p-5","align-middle","purple-bg"],[1,"text-center"],[1,"text-center","fs-4","fw-bolder"],["data-aos","fade-left","data-aos-duration","600","data-aos-anchor-placement","bottom-bottom",1,"col-lg-8","col-md-8","col-12","p-5","align-middle"],[1,"text-center","fs-4"],[1,"text-center","fs-5"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),h._uU(3," Educaci\xf3n "),h.qZA()()(),h.YNc(4,sP,13,4,"div",3),h.ALo(5,"async")),2&t&&(h.xp6(4),h.Q6J("ngForOf",h.lcZ(5,1,r.educations$)))},dependencies:[Ti,Ys]}),n})();function aP(n,e){if(1&n&&(h.TgZ(0,"div",5)(1,"div",6),h._UZ(2,"img",7),h.TgZ(3,"div",8)(4,"h5",9),h._uU(5),h.qZA(),h.TgZ(6,"h6",10)(7,"a",11),h._uU(8,"Demo"),h.qZA(),h._uU(9),h.qZA(),h.TgZ(10,"h6",10)(11,"a",11),h._uU(12,"Github Repo"),h.qZA()(),h._UZ(13,"hr",12),h.TgZ(14,"p",13),h._uU(15),h.qZA()()()()),2&n){const t=e.$implicit;h.xp6(2),h.s9C("src",t.image,h.LSH),h.xp6(3),h.Oqu(t.name),h.xp6(2),h.s9C("href",t.url,h.LSH),h.xp6(2),h.hij(" ",t.auth," "),h.xp6(2),h.s9C("href",t.repo,h.LSH),h.xp6(4),h.hij(" ",t.description," ")}}let uP=(()=>{class n{constructor(t){this.portfolio=t,this.stopLoading=new h.vpe}ngOnInit(){Pl.init(),this.projects$=this.portfolio.getProjects(),this.projects$.subscribe(t=>this.stopLoading.emit({loading:!1}))}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(IS))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-projects"]],outputs:{stopLoading:"stopLoading"},decls:7,vars:3,consts:[["id","projects",1,"row","mt-5"],[1,"col-md-12","col-lg-8","col-12","mx-auto","mt-5"],[1,"text-center","mt-5"],[1,"row","mt-5"],["data-aos","zoom-in","data-aos-duration","900","data-aos-anchor-placement","center-bottom","class","col-12 col-md-6 mb-3 mx-auto",4,"ngFor","ngForOf"],["data-aos","zoom-in","data-aos-duration","900","data-aos-anchor-placement","center-bottom",1,"col-12","col-md-6","mb-3","mx-auto"],[1,"card","w-100","h-100","border-0","shadow"],[1,"card-img-top",3,"src"],[1,"card-body"],[1,"card-title","text-center"],[1,"card-subtitle","mb-2","text-muted","text-center"],["target","_blank",1,"text-decoration-none","text-purple",3,"href"],[1,"w-75","mx-auto"],[1,"card-text","text-center"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),h._uU(3," Proyectos "),h.qZA()()(),h.TgZ(4,"div",3),h.YNc(5,aP,16,6,"div",4),h.ALo(6,"async"),h.qZA()),2&t&&(h.xp6(5),h.Q6J("ngForOf",h.lcZ(6,1,r.projects$)))},dependencies:[Ti,Ys]}),n})(),lP=(()=>{class n{constructor(){}ngOnInit(){Pl.init()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-skills"]],decls:7,vars:0,consts:[["id","skills",1,"row"],[1,"col-md-12","col-lg-8","col-12","mx-auto","mt-5"],[1,"text-center","mt-5"],[1,"row","mt-5"],[1,"col-lg-6","col-12","mx-auto"],["data-aos","fade-up","data-aos-duration","600","data-aos-anchor-placement","bottom-bottom","src","/assets/images/techs.jpeg",1,"img-fluid"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),h._uU(3," Tecnolog\xedas "),h.qZA()()(),h.TgZ(4,"div",3)(5,"div",4),h._UZ(6,"img",5),h.qZA()())}}),n})();function cP(n,e){if(1&n&&(h.TgZ(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7)(4,"p",8),h._uU(5),h.qZA(),h.TgZ(6,"p",9),h._uU(7),h.qZA()(),h.TgZ(8,"div",10)(9,"p",11),h._uU(10),h.qZA(),h.TgZ(11,"p",12)(12,"a",13),h._uU(13," Certificado "),h.qZA()()()()()()),2&n){const t=e.$implicit;h.xp6(5),h.hij(" ",t.year," "),h.xp6(2),h.hij(" ",t.place," "),h.xp6(3),h.hij(" ",t.title," "),h.xp6(2),h.s9C("href",t.certificate,h.LSH)}}let dP=(()=>{class n{constructor(t){this.portfolio=t}ngOnInit(){this.trainings$=this.portfolio.getTrainings()}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(IS))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-trainings"]],decls:6,vars:3,consts:[["id","trainings",1,"row","mt-5"],[1,"col-md-12","col-lg-8","col-12","mx-auto","mt-5"],[1,"text-center","mt-5"],["class","row overflow-hidden mt-5",4,"ngFor","ngForOf"],[1,"row","overflow-hidden","mt-5"],[1,"col-lg-8","col-md-12","col-12","mx-auto"],[1,"row","border"],["data-aos","fade-right","data-aos-duration","600","data-aos-anchor-placement","bottom-bottom",1,"col-lg-4","col-md-4","col-12","p-5","align-middle","purple-bg"],[1,"text-center"],[1,"text-center","fs-4","fw-bolder"],["data-aos","fade-left","data-aos-duration","600","data-aos-anchor-placement","bottom-bottom",1,"col-lg-8","col-md-8","col-12","p-5","align-middle"],[1,"text-center","fs-4"],[1,"text-center","fs-5"],["target","_blank",1,"text-decoration-none","text-purple",3,"href"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),h._uU(3," Capacitaciones "),h.qZA()()(),h.YNc(4,cP,14,4,"div",3),h.ALo(5,"async")),2&t&&(h.xp6(4),h.Q6J("ngForOf",h.lcZ(5,1,r.trainings$)))},dependencies:[Ti,Ys]}),n})(),hP=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-footer"]],decls:26,vars:0,consts:[[1,"container"],[1,"row","align-items-center"],[1,"col-8","mt-4","fs-5","transparent-footer","text-center"],[1,"p-3"],["href","#education",1,"text-decoration-none","text-uppercase","p-3"],["href","#trainings",1,"text-decoration-none","text-uppercase","p-3"],["href","#projects",1,"text-decoration-none","text-uppercase","p-3"],["href","#skills",1,"text-decoration-none","text-uppercase","p-3"],[1,"col-4","justify-content-end"],["target","_blank","href","https://www.linkedin.com/in/daniel-gomez-552836176/",1,"text-decoration-none"],[1,"btn","purple-button","btn-circle","btn-xl","me-3"],[1,"fab","fa-linkedin"],["target","_blank","href","https://github.com/DanGo95"],[1,"btn","purple-button","btn-circle","btn-xl","mt-3"],[1,"fab","fa-github"],[1,"row","mx-auto"],[1,"text-white","text-center","p-3","fs-5"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),h._uU(5,"Educaci\xf3n"),h.qZA()(),h.TgZ(6,"div",3)(7,"a",5),h._uU(8,"Capacitaciones"),h.qZA()(),h.TgZ(9,"div",3)(10,"a",6),h._uU(11,"Proyectos"),h.qZA()(),h.TgZ(12,"div",3)(13,"a",7),h._uU(14,"tecnolog\xedas"),h.qZA()()(),h.TgZ(15,"div",8)(16,"a",9)(17,"button",10),h._UZ(18,"i",11),h.qZA()(),h._UZ(19,"br"),h.TgZ(20,"a",12)(21,"button",13),h._UZ(22,"i",14),h.qZA()()()(),h.TgZ(23,"div",15)(24,"p",16),h._uU(25,"@2022"),h.qZA()()())},styles:[".purple-button[_ngcontent-%COMP%]{background-color:#a7539e;color:#fff}.purple-button[_ngcontent-%COMP%]:hover{background-color:#a7539e;color:#000}.transparent-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff}.transparent-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{opacity:.6;font-weight:700;color:#000;cursor:pointer;background-color:#fff}.btn-circle[_ngcontent-%COMP%]{width:30px;height:30px;padding:6px 0;border-radius:15px;text-align:center;font-size:12px;line-height:1.42857}.btn-circle.btn-xl[_ngcontent-%COMP%]{width:60px;height:60px;padding:10px 16px;border-radius:35px;font-size:24px}"]}),n})();function fP(n,e){1&n&&(h.TgZ(0,"div",19)(1,"div",20),h._UZ(2,"i",21),h.qZA()())}const pP=[{path:"",component:(()=>{class n{constructor(){this.loading=!0}ngOnInit(){}stopLoading(t){this.loading=t.loading}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-intro"]],decls:30,vars:2,consts:[["class","row",4,"ngIf"],[1,"container-fluid",3,"ngClass"],[1,"row","intro"],[1,"col-12","mx-auto","position-relative","mt-5"],["src","/assets/images/portada.jpg","width","200px",1,"rounded","img-fluid","mx-auto","d-block","mt-5"],[1,"text-white","text-center","mt-3"],["href","https://drive.google.com/file/d/1BgWEFV0huHKTc_lKmFBl91nUHEPCzClK/view?usp=sharing","target","_blank",1,"text-decoration-none"],[1,"btn","btn-outline-light","mx-auto","d-block","p-3","mb-5","mt-3","fw-bold"],[1,"position-absolute","top-100","start-50","translate-middle"],["target","_blank","href","https://www.linkedin.com/in/daniel-gomez-552836176/"],[1,"btn","purple-button","btn-circle","btn-xl","me-3"],[1,"fab","fa-linkedin"],["target","_blank","href","https://github.com/DanGo95"],[1,"btn","purple-button","btn-circle","btn-xl"],[1,"fab","fa-github"],[1,"container"],[3,"stopLoading"],[1,"row","intro","mt-5"],[1,"row","navbar-bg"],[1,"row"],[1,"col","mx-auto","text-center","mt-5"],[1,"fa-5x","fas","fa-spinner","fa-spin"]],template:function(t,r){1&t&&(h._UZ(0,"app-header"),h.YNc(1,fP,3,0,"div",0),h.TgZ(2,"div",1)(3,"div",2)(4,"div",3),h._UZ(5,"img",4),h.TgZ(6,"h1",5),h._uU(7,"Daniel Alejandro G\xf3mez"),h.qZA(),h.TgZ(8,"h4",5),h._uU(9,"Desarrollador frontend Jr"),h.qZA(),h.TgZ(10,"a",6)(11,"button",7),h._uU(12,"Descargar CV"),h.qZA()(),h.TgZ(13,"div",8)(14,"a",9)(15,"button",10),h._UZ(16,"i",11),h.qZA()(),h.TgZ(17,"a",12)(18,"button",13),h._UZ(19,"i",14),h.qZA()()()()(),h.TgZ(20,"div",15),h._UZ(21,"app-about-me")(22,"app-education")(23,"app-trainings"),h.TgZ(24,"app-projects",16),h.NdJ("stopLoading",function(u){return r.stopLoading(u)}),h.qZA()(),h._UZ(25,"app-skills"),h.TgZ(26,"div",17),h._UZ(27,"app-contact"),h.qZA(),h.TgZ(28,"div",18),h._UZ(29,"app-footer"),h.qZA()()),2&t&&(h.xp6(1),h.Q6J("ngIf",r.loading),h.xp6(1),h.Q6J("ngClass",r.loading?"loading":"not-loading"))},dependencies:[yn,ir,d0,MC,yb,oP,uP,lP,dP,hP],styles:[".intro[_ngcontent-%COMP%]{background-image:url(/assets/images/banner-bg.jpg);background-size:cover;color:#fff}.purple-button[_ngcontent-%COMP%]{background-color:#a7539e;color:#fff}.purple-button[_ngcontent-%COMP%]:hover{background-color:#822a79;color:#fff}.loading[_ngcontent-%COMP%]{display:none}.not-loading[_ngcontent-%COMP%]{display:block}.fa-spinner[_ngcontent-%COMP%]{color:#822a79}.btn-circle[_ngcontent-%COMP%]{width:30px;height:30px;padding:6px 0;border-radius:15px;text-align:center;font-size:12px;line-height:1.42857}.btn-circle.btn-xl[_ngcontent-%COMP%]{width:60px;height:60px;padding:10px 16px;border-radius:35px;font-size:24px}"]}),n})()},{path:"**",pathMatch:"full",redirectTo:""}];let gP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[u0.forRoot(pP),u0]}),n})(),mP=(()=>{class n{constructor(){this.title="portfolio"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&h._UZ(0,"router-outlet")},dependencies:[ju]}),n})(),yP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[Ts,Tv,mf]}),n})();const sk_firebase={projectId:"portfolio-869fb",appId:"1:519728869280:web:43f4e90f4878c23d14bec5",storageBucket:"portfolio-869fb.appspot.com",apiKey:"AIzaSyB-d6aHGmu6Ne2zLfhFG_q-ENzE2I2im2I",authDomain:"portfolio-869fb.firebaseapp.com",messagingSenderId:"519728869280"};let vP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n,bootstrap:[mP]}),n.\u0275inj=h.cJS({imports:[sc,gP,yP,wo.hO.initializeApp(sk_firebase)]}),n})();(0,h.G48)(),ml().bootstrapModule(vP).catch(n=>console.error(n))},7123:function(ft){ft.exports=function(le){function V(F){if(h[F])return h[F].exports;var L=h[F]={exports:{},id:F,loaded:!1};return le[F].call(L.exports,L,L.exports,V),L.loaded=!0,L.exports}var h={};return V.m=le,V.c=h,V.p="dist/",V(0)}([function(le,V,h){"use strict";function F(ee){return ee&&ee.__esModule?ee:{default:ee}}var L=Object.assign||function(ee){for(var W=1;W<arguments.length;W++){var ie=arguments[W];for(var fe in ie)Object.prototype.hasOwnProperty.call(ie,fe)&&(ee[fe]=ie[fe])}return ee},de=(F(h(1)),h(6)),ne=F(de),re=F(h(7)),H=F(h(8)),Y=F(h(9)),ke=F(h(10)),Qe=F(h(11)),ge=F(h(14)),Pe=[],rt=!1,De={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},Ee=function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(rt=!0),rt)return Pe=(0,Qe.default)(Pe,De),(0,ke.default)(Pe,De.once),Pe},Te=function(){Pe=(0,ge.default)(),Ee()};le.exports={init:function(ee){De=L(De,ee),Pe=(0,ge.default)();var W=document.all&&!window.atob;return function(ee){return!0===ee||"mobile"===ee&&Y.default.mobile()||"phone"===ee&&Y.default.phone()||"tablet"===ee&&Y.default.tablet()||"function"==typeof ee&&!0===ee()}(De.disable)||W?void Pe.forEach(function(ee,W){ee.node.removeAttribute("data-aos"),ee.node.removeAttribute("data-aos-easing"),ee.node.removeAttribute("data-aos-duration"),ee.node.removeAttribute("data-aos-delay")}):(De.disableMutationObserver||H.default.isSupported()||(console.info('\n      aos: MutationObserver is not supported on this browser,\n      code mutations observing has been disabled.\n      You may have to call "refreshHard()" by yourself.\n    '),De.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",De.easing),document.querySelector("body").setAttribute("data-aos-duration",De.duration),document.querySelector("body").setAttribute("data-aos-delay",De.delay),"DOMContentLoaded"===De.startEvent&&["complete","interactive"].indexOf(document.readyState)>-1?Ee(!0):"load"===De.startEvent?window.addEventListener(De.startEvent,function(){Ee(!0)}):document.addEventListener(De.startEvent,function(){Ee(!0)}),window.addEventListener("resize",(0,re.default)(Ee,De.debounceDelay,!0)),window.addEventListener("orientationchange",(0,re.default)(Ee,De.debounceDelay,!0)),window.addEventListener("scroll",(0,ne.default)(function(){(0,ke.default)(Pe,De.once)},De.throttleDelay)),De.disableMutationObserver||H.default.ready("[data-aos]",Te),Pe)},refresh:Ee,refreshHard:Te}},function(le,V){},,,,,function(le,V){(function(h){"use strict";function F(ve,j,ee){function W(Ft){var gn=We,Tt=jt;return We=jt=void 0,pt=Ft,Ct=ve.apply(Tt,gn)}function ie(Ft){return pt=Ft,yt=setTimeout(Ve,j),rn?W(Ft):Ct}function ue(Ft){var gn=Ft-Ht;return void 0===Ht||gn>=j||gn<0||dn&&Ft-pt>=Xt}function Ve(){var Ft=Ie();return ue(Ft)?Be(Ft):void(yt=setTimeout(Ve,function fe(Ft){var Mn=j-(Ft-Ht);return dn?Te(Mn,Xt-(Ft-pt)):Mn}(Ft)))}function Be(Ft){return yt=void 0,nn&&We?W(Ft):(We=jt=void 0,Ct)}function Dt(){var Ft=Ie(),gn=ue(Ft);if(We=arguments,jt=this,Ht=Ft,gn){if(void 0===yt)return ie(Ht);if(dn)return yt=setTimeout(Ve,j),W(Ht)}return void 0===yt&&(yt=setTimeout(Ve,j)),Ct}var We,jt,Xt,Ct,yt,Ht,pt=0,rn=!1,dn=!1,nn=!0;if("function"!=typeof ve)throw new TypeError(ce);return j=se(j)||0,ae(ee)&&(rn=!!ee.leading,Xt=(dn="maxWait"in ee)?Ee(se(ee.maxWait)||0,j):Xt,nn="trailing"in ee?!!ee.trailing:nn),Dt.cancel=function lt(){void 0!==yt&&clearTimeout(yt),pt=0,We=Ht=jt=yt=void 0},Dt.flush=function qt(){return void 0===yt?Ct:Be(Ie())},Dt}function ae(ve){var j=typeof ve>"u"?"undefined":re(ve);return!!ve&&("object"==j||"function"==j)}function ne(ve){return"symbol"==(typeof ve>"u"?"undefined":re(ve))||function de(ve){return!!ve&&"object"==(typeof ve>"u"?"undefined":re(ve))}(ve)&&De.call(ve)==G}function se(ve){if("number"==typeof ve)return ve;if(ne(ve))return H;if(ae(ve)){var j="function"==typeof ve.valueOf?ve.valueOf():ve;ve=ae(j)?j+"":j}if("string"!=typeof ve)return 0===ve?ve:+ve;ve=ve.replace(Y,"");var ee=ke.test(ve);return ee||Ae.test(ve)?Qe(ve.slice(2),ee?2:8):Fe.test(ve)?H:+ve}var re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ve){return typeof ve}:function(ve){return ve&&"function"==typeof Symbol&&ve.constructor===Symbol&&ve!==Symbol.prototype?"symbol":typeof ve},ce="Expected a function",H=NaN,G="[object Symbol]",Y=/^\s+|\s+$/g,Fe=/^[-+]0x[0-9a-f]+$/i,ke=/^0b[01]+$/i,Ae=/^0o[0-7]+$/i,Qe=parseInt,we="object"==(typeof h>"u"?"undefined":re(h))&&h&&h.Object===Object&&h,ge="object"==(typeof self>"u"?"undefined":re(self))&&self&&self.Object===Object&&self,Pe=we||ge||Function("return this")(),De=Object.prototype.toString,Ee=Math.max,Te=Math.min,Ie=function(){return Pe.Date.now()};le.exports=function L(ve,j,ee){var W=!0,ie=!0;if("function"!=typeof ve)throw new TypeError(ce);return ae(ee)&&(W="leading"in ee?!!ee.leading:W,ie="trailing"in ee?!!ee.trailing:ie),F(ve,j,{leading:W,maxWait:j,trailing:ie})}}).call(V,function(){return this}())},function(le,V){(function(h){"use strict";function L(Ie){var ve=typeof Ie>"u"?"undefined":se(Ie);return!!Ie&&("object"==ve||"function"==ve)}function de(Ie){return"symbol"==(typeof Ie>"u"?"undefined":se(Ie))||function ae(Ie){return!!Ie&&"object"==(typeof Ie>"u"?"undefined":se(Ie))}(Ie)&&rt.call(Ie)==H}function ne(Ie){if("number"==typeof Ie)return Ie;if(de(Ie))return ce;if(L(Ie)){var ve="function"==typeof Ie.valueOf?Ie.valueOf():Ie;Ie=L(ve)?ve+"":ve}if("string"!=typeof Ie)return 0===Ie?Ie:+Ie;Ie=Ie.replace(G,"");var j=Fe.test(Ie);return j||ke.test(Ie)?Ae(Ie.slice(2),j?2:8):Y.test(Ie)?ce:+Ie}var se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Ie){return typeof Ie}:function(Ie){return Ie&&"function"==typeof Symbol&&Ie.constructor===Symbol&&Ie!==Symbol.prototype?"symbol":typeof Ie},re="Expected a function",ce=NaN,H="[object Symbol]",G=/^\s+|\s+$/g,Y=/^[-+]0x[0-9a-f]+$/i,Fe=/^0b[01]+$/i,ke=/^0o[0-7]+$/i,Ae=parseInt,Qe="object"==(typeof h>"u"?"undefined":se(h))&&h&&h.Object===Object&&h,we="object"==(typeof self>"u"?"undefined":se(self))&&self&&self.Object===Object&&self,ge=Qe||we||Function("return this")(),rt=Object.prototype.toString,De=Math.max,Ee=Math.min,Te=function(){return ge.Date.now()};le.exports=function F(Ie,ve,j){function ee(nn){var Ft=Dt,gn=We;return Dt=We=void 0,Ht=nn,Xt=Ie.apply(gn,Ft)}function W(nn){return Ht=nn,Ct=setTimeout(ue,ve),pt?ee(nn):Xt}function fe(nn){var Ft=nn-yt;return void 0===yt||Ft>=ve||Ft<0||rn&&nn-Ht>=jt}function ue(){var nn=Te();return fe(nn)?Ve(nn):void(Ct=setTimeout(ue,function ie(nn){var Tt=ve-(nn-yt);return rn?Ee(Tt,jt-(nn-Ht)):Tt}(nn)))}function Ve(nn){return Ct=void 0,dn&&Dt?ee(nn):(Dt=We=void 0,Xt)}function qt(){var nn=Te(),Ft=fe(nn);if(Dt=arguments,We=this,yt=nn,Ft){if(void 0===Ct)return W(yt);if(rn)return Ct=setTimeout(ue,ve),ee(yt)}return void 0===Ct&&(Ct=setTimeout(ue,ve)),Xt}var Dt,We,jt,Xt,Ct,yt,Ht=0,pt=!1,rn=!1,dn=!0;if("function"!=typeof Ie)throw new TypeError(re);return ve=ne(ve)||0,L(j)&&(pt=!!j.leading,jt=(rn="maxWait"in j)?De(ne(j.maxWait)||0,ve):jt,dn="trailing"in j?!!j.trailing:dn),qt.cancel=function Be(){void 0!==Ct&&clearTimeout(Ct),Ht=0,Dt=yt=We=Ct=void 0},qt.flush=function lt(){return void 0===Ct?Xt:Ve(Te())},qt}}).call(V,function(){return this}())},function(le,V){"use strict";function h(se){var re=void 0,ce=void 0;for(re=0;re<se.length;re+=1)if((ce=se[re]).dataset&&ce.dataset.aos||ce.children&&h(ce.children))return!0;return!1}function F(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function de(se){se&&se.forEach(function(re){var ce=Array.prototype.slice.call(re.addedNodes),H=Array.prototype.slice.call(re.removedNodes);if(h(ce.concat(H)))return ne()})}Object.defineProperty(V,"__esModule",{value:!0});var ne=function(){};V.default={isSupported:function L(){return!!F()},ready:function ae(se,re){var ce=window.document,G=new(F())(de);ne=re,G.observe(ce.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}}},function(le,V){"use strict";function F(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(V,"__esModule",{value:!0});var L=function(){function ce(H,G){for(var Y=0;Y<G.length;Y++){var Fe=G[Y];Fe.enumerable=Fe.enumerable||!1,Fe.configurable=!0,"value"in Fe&&(Fe.writable=!0),Object.defineProperty(H,Fe.key,Fe)}}return function(H,G,Y){return G&&ce(H.prototype,G),Y&&ce(H,Y),H}}(),ae=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,de=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,ne=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,se=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,re=function(){function ce(){!function h(ce,H){if(!(ce instanceof H))throw new TypeError("Cannot call a class as a function")}(this,ce)}return L(ce,[{key:"phone",value:function(){var H=F();return!(!ae.test(H)&&!de.test(H.substr(0,4)))}},{key:"mobile",value:function(){var H=F();return!(!ne.test(H)&&!se.test(H.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),ce}();V.default=new re},function(le,V){"use strict";Object.defineProperty(V,"__esModule",{value:!0});V.default=function(L,ae){var de=window.pageYOffset,ne=window.innerHeight;L.forEach(function(se,re){!function(L,ae,de){var ne=L.node.getAttribute("data-aos-once");ae>L.position?L.node.classList.add("aos-animate"):typeof ne<"u"&&("false"===ne||!de&&"true"!==ne)&&L.node.classList.remove("aos-animate")}(se,ne+de,ae)})}},function(le,V,h){"use strict";Object.defineProperty(V,"__esModule",{value:!0});var ae=function F(ne){return ne&&ne.__esModule?ne:{default:ne}}(h(12));V.default=function(ne,se){return ne.forEach(function(re,ce){re.node.classList.add("aos-init"),re.position=(0,ae.default)(re.node,se.offset)}),ne}},function(le,V,h){"use strict";Object.defineProperty(V,"__esModule",{value:!0});var ae=function F(ne){return ne&&ne.__esModule?ne:{default:ne}}(h(13));V.default=function(ne,se){var re=0,ce=0,H=window.innerHeight,G={offset:ne.getAttribute("data-aos-offset"),anchor:ne.getAttribute("data-aos-anchor"),anchorPlacement:ne.getAttribute("data-aos-anchor-placement")};switch(G.offset&&!isNaN(G.offset)&&(ce=parseInt(G.offset)),G.anchor&&document.querySelectorAll(G.anchor)&&(ne=document.querySelectorAll(G.anchor)[0]),re=(0,ae.default)(ne).top,G.anchorPlacement){case"top-bottom":break;case"center-bottom":re+=ne.offsetHeight/2;break;case"bottom-bottom":re+=ne.offsetHeight;break;case"top-center":re+=H/2;break;case"bottom-center":re+=H/2+ne.offsetHeight;break;case"center-center":re+=H/2+ne.offsetHeight/2;break;case"top-top":re+=H;break;case"bottom-top":re+=ne.offsetHeight+H;break;case"center-top":re+=ne.offsetHeight/2+H}return G.anchorPlacement||G.offset||isNaN(se)||(ce=se),re+ce}},function(le,V){"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.default=function(F){for(var L=0,ae=0;F&&!isNaN(F.offsetLeft)&&!isNaN(F.offsetTop);)L+=F.offsetLeft-("BODY"!=F.tagName?F.scrollLeft:0),ae+=F.offsetTop-("BODY"!=F.tagName?F.scrollTop:0),F=F.offsetParent;return{top:ae,left:L}}},function(le,V){"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.default=function(F){return F=F||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(F,function(L){return{node:L}})}}])},5867:(ft,le,V)=>{"use strict";V.d(le,{C6:()=>h.getApps,Mq:()=>h.getApp});var h=V(9681);(0,h.registerVersion)("firebase","9.12.1","app")},127:(ft,le,V)=>{"use strict";V.d(le,{Z:()=>h.Z});var h=V(3942);h.Z.registerVersion("firebase","9.12.1","app-compat")},9545:(ft,le,V)=>{"use strict";V.r(le);var h=V(5861),F=V(3942),L=V(2090),ae=V(9681),de=V(1877),ne=V(655),se=V(4859);const Ae=function Fe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Qe=function ke(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},we=new L.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Pe=new de.Yd("@firebase/auth");function rt(y,...f){Pe.logLevel<=de.in.ERROR&&Pe.error(`Auth (${ae.SDK_VERSION}): ${y}`,...f)}function De(y,...f){throw ve(y,...f)}function Ee(y,...f){return ve(y,...f)}function Te(y,f,g){const _=Object.assign(Object.assign({},Qe()),{[f]:g});return new L.LL("auth","Firebase",_).create(f,{appName:y.name})}function Ie(y,f,g){if(!(f instanceof g))throw g.name!==f.constructor.name&&De(y,"argument-error"),Te(y,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ve(y,...f){if("string"!=typeof y){const g=f[0],_=[...f.slice(1)];return _[0]&&(_[0].appName=y.name),y._errorFactory.create(g,..._)}return we.create(y,...f)}function j(y,f,...g){if(!y)throw ve(f,...g)}function ee(y){const f="INTERNAL ASSERTION FAILED: "+y;throw rt(f),new Error(f)}function W(y,f){y||ee(f)}const ie=new Map;function fe(y){W(y instanceof Function,"Expected a class definition");let f=ie.get(y);return f?(W(f instanceof y,"Instance stored in cache mismatched with class"),f):(f=new y,ie.set(y,f),f)}function Be(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function lt(){return"http:"===qt()||"https:"===qt()}function qt(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class jt{constructor(f,g){this.shortDelay=f,this.longDelay=g,W(g>f,"Short delay should be less than long delay!"),this.isMobile=(0,L.uI)()||(0,L.b$)()}get(){return function Dt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(lt()||(0,L.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Xt(y,f){W(y.emulator,"Emulator should always be set here");const{url:g}=y.emulator;return f?`${g}${f.startsWith("/")?f.slice(1):f}`:g}class Ct{static initialize(f,g,_){this.fetchImpl=f,g&&(this.headersImpl=g),_&&(this.responseImpl=_)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ee("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ee("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ee("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const yt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Ht=new jt(3e4,6e4);function pt(y,f){return y.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:y.tenantId}):f}function rn(y,f,g,_){return dn.apply(this,arguments)}function dn(){return(dn=(0,h.Z)(function*(y,f,g,_,x={}){return nn(y,x,(0,h.Z)(function*(){let P={},Q={};_&&("GET"===f?Q=_:P={body:JSON.stringify(_)});const _e=(0,L.xO)(Object.assign({key:y.config.apiKey},Q)).slice(1),Ye=yield y._getAdditionalHeaders();return Ye["Content-Type"]="application/json",y.languageCode&&(Ye["X-Firebase-Locale"]=y.languageCode),Ct.fetch()(Mn(y,y.config.apiHost,g,_e),Object.assign({method:f,headers:Ye,referrerPolicy:"no-referrer"},P))}))})).apply(this,arguments)}function nn(y,f,g){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,h.Z)(function*(y,f,g){y._canInitEmulator=!1;const _=Object.assign(Object.assign({},yt),f);try{const x=new Qn(y),P=yield Promise.race([g(),x.promise]);x.clearNetworkTimeout();const Q=yield P.json();if("needConfirmation"in Q)throw hr(y,"account-exists-with-different-credential",Q);if(P.ok&&!("errorMessage"in Q))return Q;{const _e=P.ok?Q.errorMessage:Q.error.message,[Ye,at]=_e.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ye)throw hr(y,"credential-already-in-use",Q);if("EMAIL_EXISTS"===Ye)throw hr(y,"email-already-in-use",Q);if("USER_DISABLED"===Ye)throw hr(y,"user-disabled",Q);const St=_[Ye]||Ye.toLowerCase().replace(/[_\s]+/g,"-");if(at)throw Te(y,St,at);De(y,St)}}catch(x){if(x instanceof L.ZR)throw x;De(y,"network-request-failed")}})).apply(this,arguments)}function gn(y,f,g,_){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,h.Z)(function*(y,f,g,_,x={}){const P=yield rn(y,f,g,_,x);return"mfaPendingCredential"in P&&De(y,"multi-factor-auth-required",{_serverResponse:P}),P})).apply(this,arguments)}function Mn(y,f,g,_){const x=`${f}${g}?${_}`;return y.config.emulator?Xt(y.config,x):`${y.config.apiScheme}://${x}`}class Qn{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((g,_)=>{this.timer=setTimeout(()=>_(Ee(this.auth,"network-request-failed")),Ht.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function hr(y,f,g){const _={appName:y.name};g.email&&(_.email=g.email),g.phoneNumber&&(_.phoneNumber=g.phoneNumber);const x=Ee(y,f,_);return x.customData._tokenResponse=g,x}function Ke(){return(Ke=(0,h.Z)(function*(y,f){return rn(y,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function Er(y,f){return di.apply(this,arguments)}function di(){return(di=(0,h.Z)(function*(y,f){return rn(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function hn(y,f){return ei.apply(this,arguments)}function ei(){return(ei=(0,h.Z)(function*(y,f){return rn(y,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function hi(y){if(y)try{const f=new Date(Number(y));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function Tn(){return(Tn=(0,h.Z)(function*(y,f=!1){const g=(0,L.m9)(y),_=yield g.getIdToken(f),x=He(_);j(x&&x.exp&&x.auth_time&&x.iat,g.auth,"internal-error");const P="object"==typeof x.firebase?x.firebase:void 0,Q=P?.sign_in_provider;return{claims:x,token:_,authTime:hi(wt(x.auth_time)),issuedAtTime:hi(wt(x.iat)),expirationTime:hi(wt(x.exp)),signInProvider:Q||null,signInSecondFactor:P?.sign_in_second_factor||null}})).apply(this,arguments)}function wt(y){return 1e3*Number(y)}function He(y){var f;const[g,_,x]=y.split(".");if(void 0===g||void 0===_||void 0===x)return rt("JWT malformed, contained fewer than 3 sections"),null;try{const P=(0,L.tV)(_);return P?JSON.parse(P):(rt("Failed to decode base64 JWT payload"),null)}catch(P){return rt("Caught error parsing JWT payload as JSON",null===(f=P)||void 0===f?void 0:f.toString()),null}}function Ir(y,f){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,h.Z)(function*(y,f,g=!1){if(g)return f;try{return yield f}catch(_){throw _ instanceof L.ZR&&jr(_)&&y.auth.currentUser===y&&(yield y.auth.signOut()),_}})).apply(this,arguments)}function jr({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class Pt{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var g;if(f){const _=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),_}{this.errorBackoff=3e4;const x=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,x)}}schedule(f=!1){var g=this;if(!this.isRunning)return;const _=this.getInterval(f);this.timerId=setTimeout((0,h.Z)(function*(){yield g.iteration()}),_)}iteration(){var f=this;return(0,h.Z)(function*(){var g;try{yield f.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===(null===(g=_)||void 0===g?void 0:g.code)&&f.schedule(!0))}f.schedule()})()}}class Fr{constructor(f,g){this.createdAt=f,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=hi(this.lastLoginAt),this.creationTime=hi(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function fn(y){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,h.Z)(function*(y){var f;const g=y.auth,_=yield y.getIdToken(),x=yield Ir(y,hn(g,{idToken:_}));j(x?.users.length,g,"internal-error");const P=x.users[0];y._notifyReloadListener(P);const Q=null!==(f=P.providerUserInfo)&&void 0!==f&&f.length?st(P.providerUserInfo):[],_e=Lr(y.providerData,Q),St=!!y.isAnonymous&&!(y.email&&P.passwordHash||_e?.length),Et={uid:P.localId,displayName:P.displayName||null,photoURL:P.photoUrl||null,email:P.email||null,emailVerified:P.emailVerified||!1,phoneNumber:P.phoneNumber||null,tenantId:P.tenantId||null,providerData:_e,metadata:new Fr(P.createdAt,P.lastLoginAt),isAnonymous:St};Object.assign(y,Et)})).apply(this,arguments)}function rr(){return(rr=(0,h.Z)(function*(y){const f=(0,L.m9)(y);yield fn(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Lr(y,f){return[...y.filter(_=>!f.some(x=>x.providerId===_.providerId)),...f]}function st(y){return y.map(f=>{var{providerId:g}=f,_=(0,ne._T)(f,["providerId"]);return{providerId:g,uid:_.rawId||"",displayName:_.displayName||null,email:_.email||null,phoneNumber:_.phoneNumber||null,photoURL:_.photoUrl||null}})}function ot(){return(ot=(0,h.Z)(function*(y,f){const g=yield nn(y,{},(0,h.Z)(function*(){const _=(0,L.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:x,apiKey:P}=y.config,Q=Mn(y,x,"/v1/token",`key=${P}`),_e=yield y._getAdditionalHeaders();return _e["Content-Type"]="application/x-www-form-urlencoded",Ct.fetch()(Q,{method:"POST",headers:_e,body:_})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class It{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){j(f.idToken,"internal-error"),j(typeof f.idToken<"u","internal-error"),j(typeof f.refreshToken<"u","internal-error");const g="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function mn(y){const f=He(y);return j(f,"internal-error"),j(typeof f.exp<"u","internal-error"),j(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,g)}getToken(f,g=!1){var _=this;return(0,h.Z)(function*(){return j(!_.accessToken||_.refreshToken,f,"user-token-expired"),g||!_.accessToken||_.isExpired?_.refreshToken?(yield _.refresh(f,_.refreshToken),_.accessToken):null:_.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,g){var _=this;return(0,h.Z)(function*(){const{accessToken:x,refreshToken:P,expiresIn:Q}=yield function Re(y,f){return ot.apply(this,arguments)}(f,g);_.updateTokensAndExpiration(x,P,Number(Q))})()}updateTokensAndExpiration(f,g,_){this.refreshToken=g||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*_}static fromJSON(f,g){const{refreshToken:_,accessToken:x,expirationTime:P}=g,Q=new It;return _&&(j("string"==typeof _,"internal-error",{appName:f}),Q.refreshToken=_),x&&(j("string"==typeof x,"internal-error",{appName:f}),Q.accessToken=x),P&&(j("number"==typeof P,"internal-error",{appName:f}),Q.expirationTime=P),Q}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new It,this.toJSON())}_performRefresh(){return ee("not implemented")}}function At(y,f){j("string"==typeof y||typeof y>"u","internal-error",{appName:f})}class $t{constructor(f){var{uid:g,auth:_,stsTokenManager:x}=f,P=(0,ne._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Pt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=_,this.stsTokenManager=x,this.accessToken=x.accessToken,this.displayName=P.displayName||null,this.email=P.email||null,this.emailVerified=P.emailVerified||!1,this.phoneNumber=P.phoneNumber||null,this.photoURL=P.photoURL||null,this.isAnonymous=P.isAnonymous||!1,this.tenantId=P.tenantId||null,this.providerData=P.providerData?[...P.providerData]:[],this.metadata=new Fr(P.createdAt||void 0,P.lastLoginAt||void 0)}getIdToken(f){var g=this;return(0,h.Z)(function*(){const _=yield Ir(g,g.stsTokenManager.getToken(g.auth,f));return j(_,g.auth,"internal-error"),g.accessToken!==_&&(g.accessToken=_,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),_})()}getIdTokenResult(f){return function jn(y){return Tn.apply(this,arguments)}(this,f)}reload(){return function pn(y){return rr.apply(this,arguments)}(this)}_assign(f){this!==f&&(j(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(g=>Object.assign({},g)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new $t(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){j(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,g=!1){var _=this;return(0,h.Z)(function*(){let x=!1;f.idToken&&f.idToken!==_.stsTokenManager.accessToken&&(_.stsTokenManager.updateFromServerResponse(f),x=!0),g&&(yield fn(_)),yield _.auth._persistUserIfCurrent(_),x&&_.auth._notifyListenersIfCurrent(_)})()}delete(){var f=this;return(0,h.Z)(function*(){const g=yield f.getIdToken();return yield Ir(f,function Un(y,f){return Ke.apply(this,arguments)}(f.auth,{idToken:g})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,g){var _,x,P,Q,_e,Ye,at,St;const Et=null!==(_=g.displayName)&&void 0!==_?_:void 0,Cn=null!==(x=g.email)&&void 0!==x?x:void 0,Pi=null!==(P=g.phoneNumber)&&void 0!==P?P:void 0,Hu=null!==(Q=g.photoURL)&&void 0!==Q?Q:void 0,py=null!==(_e=g.tenantId)&&void 0!==_e?_e:void 0,Ic=null!==(Ye=g._redirectEventId)&&void 0!==Ye?Ye:void 0,zp=null!==(at=g.createdAt)&&void 0!==at?at:void 0,kd=null!==(St=g.lastLoginAt)&&void 0!==St?St:void 0,{uid:qp,emailVerified:gy,isAnonymous:xl,providerData:$u,stsTokenManager:qh}=g;j(qp&&qh,f,"internal-error");const Wh=It.fromJSON(this.name,qh);j("string"==typeof qp,f,"internal-error"),At(Et,f.name),At(Cn,f.name),j("boolean"==typeof gy,f,"internal-error"),j("boolean"==typeof xl,f,"internal-error"),At(Pi,f.name),At(Hu,f.name),At(py,f.name),At(Ic,f.name),At(zp,f.name),At(kd,f.name);const Va=new $t({uid:qp,auth:f,email:Cn,emailVerified:gy,displayName:Et,isAnonymous:xl,photoURL:Hu,phoneNumber:Pi,tenantId:py,stsTokenManager:Wh,createdAt:zp,lastLoginAt:kd});return $u&&Array.isArray($u)&&(Va.providerData=$u.map(Ml=>Object.assign({},Ml))),Ic&&(Va._redirectEventId=Ic),Va}static _fromIdTokenResponse(f,g,_=!1){return(0,h.Z)(function*(){const x=new It;x.updateFromServerResponse(g);const P=new $t({uid:g.localId,auth:f,stsTokenManager:x,isAnonymous:_});return yield fn(P),P})()}}const z=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,h.Z)(function*(){return!0})()}_set(g,_){var x=this;return(0,h.Z)(function*(){x.storage[g]=_})()}_get(g){var _=this;return(0,h.Z)(function*(){const x=_.storage[g];return void 0===x?null:x})()}_remove(g){var _=this;return(0,h.Z)(function*(){delete _.storage[g]})()}_addListener(g,_){}_removeListener(g,_){}}return y.type="NONE",y})();function J(y,f,g){return`firebase:${y}:${f}:${g}`}class xe{constructor(f,g,_){this.persistence=f,this.auth=g,this.userKey=_;const{config:x,name:P}=this.auth;this.fullUserKey=J(this.userKey,x.apiKey,P),this.fullPersistenceKey=J("persistence",x.apiKey,P),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,h.Z)(function*(){const g=yield f.persistence._get(f.fullUserKey);return g?$t._fromJSON(f.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var g=this;return(0,h.Z)(function*(){if(g.persistence===f)return;const _=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=f,_?g.setCurrentUser(_):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,g,_="authUser"){return(0,h.Z)(function*(){if(!g.length)return new xe(fe(z),f,_);const x=(yield Promise.all(g.map(function(){var at=(0,h.Z)(function*(St){if(yield St._isAvailable())return St});return function(St){return at.apply(this,arguments)}}()))).filter(at=>at);let P=x[0]||fe(z);const Q=J(_,f.config.apiKey,f.name);let _e=null;for(const at of g)try{const St=yield at._get(Q);if(St){const Et=$t._fromJSON(f,St);at!==P&&(_e=Et),P=at;break}}catch{}const Ye=x.filter(at=>at._shouldAllowMigration);return P._shouldAllowMigration&&Ye.length?(P=Ye[0],_e&&(yield P._set(Q,_e.toJSON())),yield Promise.all(g.map(function(){var at=(0,h.Z)(function*(St){if(St!==P)try{yield St._remove(Q)}catch{}});return function(St){return at.apply(this,arguments)}}())),new xe(P,f,_)):new xe(P,f,_)})()}}function oe(y){const f=y.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(En(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(Xe(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Ze(f))return"Blackberry";if(Je(f))return"Webos";if(vt(f))return"Safari";if((f.includes("chrome/")||ln(f))&&!f.includes("edge/"))return"Chrome";if(an(f))return"Android";{const _=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===_?.length)return _[1]}return"Other"}function Xe(y=(0,L.z$)()){return/firefox\//i.test(y)}function vt(y=(0,L.z$)()){const f=y.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function ln(y=(0,L.z$)()){return/crios\//i.test(y)}function En(y=(0,L.z$)()){return/iemobile/i.test(y)}function an(y=(0,L.z$)()){return/android/i.test(y)}function Ze(y=(0,L.z$)()){return/blackberry/i.test(y)}function Je(y=(0,L.z$)()){return/webos/i.test(y)}function Wt(y=(0,L.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function cs(y=(0,L.z$)()){return Wt(y)||an(y)||Je(y)||Ze(y)||/windows phone/i.test(y)||En(y)}function Hn(y,f=[]){let g;switch(y){case"Browser":g=oe((0,L.z$)());break;case"Worker":g=`${oe((0,L.z$)())}-${y}`;break;default:g=y}const _=f.length?f.join(","):"FirebaseCore-web";return`${g}/JsCore/${ae.SDK_VERSION}/${_}`}class Ks{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,g){const _=P=>new Promise((Q,_e)=>{try{Q(f(P))}catch(Ye){_e(Ye)}});_.onAbort=g,this.queue.push(_);const x=this.queue.length-1;return()=>{this.queue[x]=()=>Promise.resolve()}}runMiddleware(f){var g=this;return(0,h.Z)(function*(){var _;if(g.auth.currentUser===f)return;const x=[];try{for(const P of g.queue)yield P(f),P.onAbort&&x.push(P.onAbort)}catch(P){x.reverse();for(const Q of x)try{Q()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:null===(_=P)||void 0===_?void 0:_.message})}})()}}class Gt{constructor(f,g,_){this.app=f,this.heartbeatServiceProvider=g,this.config=_,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ds(this),this.idTokenSubscription=new ds(this),this.beforeStateQueue=new Ks(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=we,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=_.sdkClientVersion}_initializeWithPersistence(f,g){var _=this;return g&&(this._popupRedirectResolver=fe(g)),this._initializationPromise=this.queue((0,h.Z)(function*(){var x,P;if(!_._deleted&&(_.persistenceManager=yield xe.create(_,f),!_._deleted)){if(null!==(x=_._popupRedirectResolver)&&void 0!==x&&x._shouldInitProactively)try{yield _._popupRedirectResolver._initialize(_)}catch{}yield _.initializeCurrentUser(g),_.lastNotifiedUid=(null===(P=_.currentUser)||void 0===P?void 0:P.uid)||null,!_._deleted&&(_._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,h.Z)(function*(){if(f._deleted)return;const g=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||g){if(f.currentUser&&g&&f.currentUser.uid===g.uid)return f._currentUser._assign(g),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(g,!0)}})()}initializeCurrentUser(f){var g=this;return(0,h.Z)(function*(){var _;const x=yield g.assertedPersistence.getCurrentUser();let P=x,Q=!1;if(f&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const _e=null===(_=g.redirectUser)||void 0===_?void 0:_._redirectEventId,Ye=P?._redirectEventId,at=yield g.tryRedirectSignIn(f);(!_e||_e===Ye)&&at?.user&&(P=at.user,Q=!0)}if(!P)return g.directlySetCurrentUser(null);if(!P._redirectEventId){if(Q)try{yield g.beforeStateQueue.runMiddleware(P)}catch(_e){P=x,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(_e))}return P?g.reloadAndSetCurrentUserOrClear(P):g.directlySetCurrentUser(null)}return j(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===P._redirectEventId?g.directlySetCurrentUser(P):g.reloadAndSetCurrentUserOrClear(P)})()}tryRedirectSignIn(f){var g=this;return(0,h.Z)(function*(){let _=null;try{_=yield g._popupRedirectResolver._completeRedirectFn(g,f,!0)}catch{yield g._setRedirectUser(null)}return _})()}reloadAndSetCurrentUserOrClear(f){var g=this;return(0,h.Z)(function*(){var _;try{yield fn(f)}catch(x){if("auth/network-request-failed"!==(null===(_=x)||void 0===_?void 0:_.code))return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function We(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var f=this;return(0,h.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var g=this;return(0,h.Z)(function*(){const _=f?(0,L.m9)(f):null;return _&&j(_.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(_&&_._clone(g))})()}_updateCurrentUser(f,g=!1){var _=this;return(0,h.Z)(function*(){if(!_._deleted)return f&&j(_.tenantId===f.tenantId,_,"tenant-id-mismatch"),g||(yield _.beforeStateQueue.runMiddleware(f)),_.queue((0,h.Z)(function*(){yield _.directlySetCurrentUser(f),_.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,h.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var g=this;return this.queue((0,h.Z)(function*(){yield g.assertedPersistence.setPersistence(fe(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new L.LL("auth","Firebase",f())}onAuthStateChanged(f,g,_){return this.registerStateListener(this.authStateSubscription,f,g,_)}beforeAuthStateChanged(f,g){return this.beforeStateQueue.pushCallback(f,g)}onIdTokenChanged(f,g,_){return this.registerStateListener(this.idTokenSubscription,f,g,_)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,g){var _=this;return(0,h.Z)(function*(){const x=yield _.getOrInitRedirectPersistenceManager(g);return null===f?x.removeCurrentUser():x.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var g=this;return(0,h.Z)(function*(){if(!g.redirectPersistenceManager){const _=f&&fe(f)||g._popupRedirectResolver;j(_,g,"argument-error"),g.redirectPersistenceManager=yield xe.create(g,[fe(_._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(f){var g=this;return(0,h.Z)(function*(){var _,x;return g._isInitialized&&(yield g.queue((0,h.Z)(function*(){}))),(null===(_=g._currentUser)||void 0===_?void 0:_._redirectEventId)===f?g._currentUser:(null===(x=g.redirectUser)||void 0===x?void 0:x._redirectEventId)===f?g.redirectUser:null})()}_persistUserIfCurrent(f){var g=this;return(0,h.Z)(function*(){if(f===g.currentUser)return g.queue((0,h.Z)(function*(){return g.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const _=null!==(g=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==_&&(this.lastNotifiedUid=_,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,g,_,x){if(this._deleted)return()=>{};const P="function"==typeof g?g:g.next.bind(g),Q=this._isInitialized?Promise.resolve():this._initializationPromise;return j(Q,this,"internal-error"),Q.then(()=>P(this.currentUser)),"function"==typeof g?f.addObserver(g,_,x):f.addObserver(g)}directlySetCurrentUser(f){var g=this;return(0,h.Z)(function*(){g.currentUser&&g.currentUser!==f&&g._currentUser._stopProactiveRefresh(),f&&g.isProactiveRefreshEnabled&&f._startProactiveRefresh(),g.currentUser=f,f?yield g.assertedPersistence.setCurrentUser(f):yield g.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return j(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=Hn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,h.Z)(function*(){var g;const _={"X-Client-Version":f.clientVersion};f.app.options.appId&&(_["X-Firebase-gmpid"]=f.app.options.appId);const x=yield null===(g=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return x&&(_["X-Firebase-Client"]=x),_})()}}function kn(y){return(0,L.m9)(y)}class ds{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,L.ne)(g=>this.observer=g)}get next(){return j(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Di(y){const f=y.indexOf(":");return f<0?"":y.substr(0,f+1)}function zi(y){if(!y)return null;const f=Number(y);return isNaN(f)?null:f}class pr{constructor(f,g){this.providerId=f,this.signInMethod=g}toJSON(){return ee("not implemented")}_getIdTokenResponse(f){return ee("not implemented")}_linkToIdToken(f,g){return ee("not implemented")}_getReauthenticationResolver(f){return ee("not implemented")}}function Xn(y,f){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,h.Z)(function*(y,f){return rn(y,"POST","/v1/accounts:resetPassword",pt(y,f))})).apply(this,arguments)}function yn(y,f){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,h.Z)(function*(y,f){return rn(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Xa(y,f){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,h.Z)(function*(y,f){return rn(y,"POST","/v1/accounts:update",pt(y,f))})).apply(this,arguments)}function Ti(){return(Ti=(0,h.Z)(function*(y,f){return gn(y,"POST","/v1/accounts:signInWithPassword",pt(y,f))})).apply(this,arguments)}function qi(y,f){return fi.apply(this,arguments)}function fi(){return(fi=(0,h.Z)(function*(y,f){return rn(y,"POST","/v1/accounts:sendOobCode",pt(y,f))})).apply(this,arguments)}function ir(y,f){return eu.apply(this,arguments)}function eu(){return(eu=(0,h.Z)(function*(y,f){return qi(y,f)})).apply(this,arguments)}function sr(y,f){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,h.Z)(function*(y,f){return qi(y,f)})).apply(this,arguments)}function oa(y,f){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,h.Z)(function*(y,f){return qi(y,f)})).apply(this,arguments)}function aa(y,f){return kr.apply(this,arguments)}function kr(){return(kr=(0,h.Z)(function*(y,f){return qi(y,f)})).apply(this,arguments)}function nu(){return(nu=(0,h.Z)(function*(y,f){return gn(y,"POST","/v1/accounts:signInWithEmailLink",pt(y,f))})).apply(this,arguments)}function ru(){return(ru=(0,h.Z)(function*(y,f){return gn(y,"POST","/v1/accounts:signInWithEmailLink",pt(y,f))})).apply(this,arguments)}class iu extends pr{constructor(f,g,_,x=null){super("password",_),this._email=f,this._password=g,this._tenantId=x}static _fromEmailAndPassword(f,g){return new iu(f,g,"password")}static _fromEmailAndCode(f,g,_=null){return new iu(f,g,"emailLink",_)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(f){var g=this;return(0,h.Z)(function*(){switch(g.signInMethod){case"password":return function So(y,f){return Ti.apply(this,arguments)}(f,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function tu(y,f){return nu.apply(this,arguments)}(f,{email:g._email,oobCode:g._password});default:De(f,"internal-error")}})()}_linkToIdToken(f,g){var _=this;return(0,h.Z)(function*(){switch(_.signInMethod){case"password":return yn(f,{idToken:g,returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function ec(y,f){return ru.apply(this,arguments)}(f,{idToken:g,email:_._email,oobCode:_._password});default:De(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function or(y,f){return nl.apply(this,arguments)}function nl(){return(nl=(0,h.Z)(function*(y,f){return gn(y,"POST","/v1/accounts:signInWithIdp",pt(y,f))})).apply(this,arguments)}class Hr extends pr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const g=new Hr(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(g.idToken=f.idToken),f.accessToken&&(g.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(g.nonce=f.nonce),f.pendingToken&&(g.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(g.accessToken=f.oauthToken,g.secret=f.oauthTokenSecret):De("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:_,signInMethod:x}=g,P=(0,ne._T)(g,["providerId","signInMethod"]);if(!_||!x)return null;const Q=new Hr(_,x);return Q.idToken=P.idToken||void 0,Q.accessToken=P.accessToken||void 0,Q.secret=P.secret,Q.nonce=P.nonce,Q.pendingToken=P.pendingToken||null,Q}_getIdTokenResponse(f){return or(f,this.buildRequest())}_linkToIdToken(f,g){const _=this.buildRequest();return _.idToken=g,or(f,_)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,or(f,g)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),f.postBody=(0,L.xO)(g)}return f}}function rd(y,f){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,h.Z)(function*(y,f){return rn(y,"POST","/v1/accounts:sendVerificationCode",pt(y,f))})).apply(this,arguments)}function fs(){return(fs=(0,h.Z)(function*(y,f){return gn(y,"POST","/v1/accounts:signInWithPhoneNumber",pt(y,f))})).apply(this,arguments)}function rl(){return(rl=(0,h.Z)(function*(y,f){const g=yield gn(y,"POST","/v1/accounts:signInWithPhoneNumber",pt(y,f));if(g.temporaryProof)throw hr(y,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const sd={USER_NOT_FOUND:"user-not-found"};function il(){return(il=(0,h.Z)(function*(y,f){return gn(y,"POST","/v1/accounts:signInWithPhoneNumber",pt(y,Object.assign(Object.assign({},f),{operation:"REAUTH"})),sd)})).apply(this,arguments)}class ps extends pr{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,g){return new ps({verificationId:f,verificationCode:g})}static _fromTokenResponse(f,g){return new ps({phoneNumber:f,temporaryProof:g})}_getIdTokenResponse(f){return function su(y,f){return fs.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,g){return function id(y,f){return rl.apply(this,arguments)}(f,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function od(y,f){return il.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:g,verificationId:_,verificationCode:x}=this.params;return f&&g?{temporaryProof:f,phoneNumber:g}:{sessionInfo:_,code:x}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:g,verificationCode:_,phoneNumber:x,temporaryProof:P}=f;return _||g||x||P?new ps({verificationId:g,verificationCode:_,phoneNumber:x,temporaryProof:P}):null}}class ua{constructor(f){var g,_,x,P,Q,_e;const Ye=(0,L.zd)((0,L.pd)(f)),at=null!==(g=Ye.apiKey)&&void 0!==g?g:null,St=null!==(_=Ye.oobCode)&&void 0!==_?_:null,Et=function sl(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(x=Ye.mode)&&void 0!==x?x:null);j(at&&St&&Et,"argument-error"),this.apiKey=at,this.operation=Et,this.code=St,this.continueUrl=null!==(P=Ye.continueUrl)&&void 0!==P?P:null,this.languageCode=null!==(Q=Ye.languageCode)&&void 0!==Q?Q:null,this.tenantId=null!==(_e=Ye.tenantId)&&void 0!==_e?_e:null}static parseLink(f){const g=function ou(y){const f=(0,L.zd)((0,L.pd)(y)).link,g=f?(0,L.zd)((0,L.pd)(f)).deep_link_id:null,_=(0,L.zd)((0,L.pd)(y)).deep_link_id;return(_?(0,L.zd)((0,L.pd)(_)).link:null)||_||g||f||y}(f);try{return new ua(g)}catch{return null}}}let Si=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(g,_){return iu._fromEmailAndPassword(g,_)}static credentialWithLink(g,_){const x=ua.parseLink(_);return j(x,"argument-error"),iu._fromEmailAndCode(g,x.code,x.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class Wi{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Zi extends Wi{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class pi extends Zi{static credentialFromJSON(f){const g="string"==typeof f?JSON.parse(f):f;return j("providerId"in g&&"signInMethod"in g,"argument-error"),Hr._fromParams(g)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return j(f.idToken||f.accessToken,"argument-error"),Hr._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return pi.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return pi.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:g,oauthAccessToken:_,oauthTokenSecret:x,pendingToken:P,nonce:Q,providerId:_e}=f;if(!_&&!x&&!g&&!P||!_e)return null;try{return new pi(_e)._credential({idToken:g,accessToken:_,nonce:Q,pendingToken:P})}catch{return null}}}let xo=(()=>{class y extends Zi{constructor(){super("facebook.com")}static credential(g){return Hr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),ca=(()=>{class y extends Zi{constructor(){super("google.com"),this.addScope("profile")}static credential(g,_){return Hr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:_})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:_,oauthAccessToken:x}=g;if(!_&&!x)return null;try{return y.credential(_,x)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),au=(()=>{class y extends Zi{constructor(){super("github.com")}static credential(g){return Hr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Ts extends pr{constructor(f,g){super(f,f),this.pendingToken=g}_getIdTokenResponse(f){return or(f,this.buildRequest())}_linkToIdToken(f,g){const _=this.buildRequest();return _.idToken=g,or(f,_)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,or(f,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:_,signInMethod:x,pendingToken:P}=g;return _&&x&&P&&_===x?new Ts(_,P):null}static _create(f,g){return new Ts(f,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ti extends Wi{constructor(f){j(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return ti.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return ti.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const g=Ts.fromJSON(f);return j(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:g,providerId:_}=f;if(!g||!_)return null;try{return Ts._create(_,g)}catch{return null}}}let $r=(()=>{class y extends Zi{constructor(){super("twitter.com")}static credential(g,_){return Hr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:_})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:_,oauthTokenSecret:x}=g;if(!_||!x)return null;try{return y.credential(_,x)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Qs(y,f){return al.apply(this,arguments)}function al(){return(al=(0,h.Z)(function*(y,f){return gn(y,"POST","/v1/accounts:signUp",pt(y,f))})).apply(this,arguments)}class Cr{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,g,_,x=!1){return(0,h.Z)(function*(){const P=yield $t._fromIdTokenResponse(f,_,x),Q=tc(_);return new Cr({user:P,providerId:Q,_tokenResponse:_,operationType:g})})()}static _forOperation(f,g,_){return(0,h.Z)(function*(){yield f._updateTokensIfNecessary(_,!0);const x=tc(_);return new Cr({user:f,providerId:x,_tokenResponse:_,operationType:g})})()}}function tc(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function In(){return(In=(0,h.Z)(function*(y){var f;const g=kn(y);if(yield g._initializationPromise,null!==(f=g.currentUser)&&void 0!==f&&f.isAnonymous)return new Cr({user:g.currentUser,providerId:null,operationType:"signIn"});const _=yield Qs(g,{returnSecureToken:!0}),x=yield Cr._fromIdTokenResponse(g,"signIn",_,!0);return yield g._updateCurrentUser(x.user),x})).apply(this,arguments)}class da extends L.ZR{constructor(f,g,_,x){var P;super(g.code,g.message),this.operationType=_,this.user=x,Object.setPrototypeOf(this,da.prototype),this.customData={appName:f.name,tenantId:null!==(P=f.tenantId)&&void 0!==P?P:void 0,_serverResponse:g.customData._serverResponse,operationType:_}}static _fromErrorAndOperation(f,g,_,x){return new da(f,g,_,x)}}function rc(y,f,g,_){return("reauthenticate"===f?g._getReauthenticationResolver(y):g._getIdTokenResponse(y)).catch(P=>{throw"auth/multi-factor-auth-required"===P.code?da._fromErrorAndOperation(y,P,f,_):P})}function ni(y){return new Set(y.map(({providerId:f})=>f).filter(f=>!!f))}function Mo(){return(Mo=(0,h.Z)(function*(y,f){const g=(0,L.m9)(y);yield un(!0,g,f);const{providerUserInfo:_}=yield Er(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[f]}),x=ni(_||[]);return g.providerData=g.providerData.filter(P=>x.has(P.providerId)),x.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function Ki(y,f){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,h.Z)(function*(y,f,g=!1){const _=yield Ir(y,f._linkToIdToken(y.auth,yield y.getIdToken()),g);return Cr._forOperation(y,"link",_)})).apply(this,arguments)}function un(y,f,g){return ha.apply(this,arguments)}function ha(){return(ha=(0,h.Z)(function*(y,f,g){yield fn(f);const x=!1===y?"provider-already-linked":"no-such-provider";j(ni(f.providerData).has(g)===y,f.auth,x)})).apply(this,arguments)}function As(y,f){return fa.apply(this,arguments)}function fa(){return(fa=(0,h.Z)(function*(y,f,g=!1){var _;const{auth:x}=y,P="reauthenticate";try{const Q=yield Ir(y,rc(x,P,f,y),g);j(Q.idToken,x,"internal-error");const _e=He(Q.idToken);j(_e,x,"internal-error");const{sub:Ye}=_e;return j(y.uid===Ye,x,"user-mismatch"),Cr._forOperation(y,P,Q)}catch(Q){throw"auth/user-not-found"===(null===(_=Q)||void 0===_?void 0:_.code)&&De(x,"user-mismatch"),Q}})).apply(this,arguments)}function gi(y,f){return pa.apply(this,arguments)}function pa(){return(pa=(0,h.Z)(function*(y,f,g=!1){const _="signIn",x=yield rc(y,_,f),P=yield Cr._fromIdTokenResponse(y,_,x);return g||(yield y._updateCurrentUser(P.user)),P})).apply(this,arguments)}function Fn(y,f){return kt.apply(this,arguments)}function kt(){return(kt=(0,h.Z)(function*(y,f){return gi(kn(y),f)})).apply(this,arguments)}function Js(y,f){return ul.apply(this,arguments)}function ul(){return(ul=(0,h.Z)(function*(y,f){const g=(0,L.m9)(y);return yield un(!1,g,f.providerId),Ki(g,f)})).apply(this,arguments)}function Qi(y,f){return ga.apply(this,arguments)}function ga(){return(ga=(0,h.Z)(function*(y,f){return As((0,L.m9)(y),f)})).apply(this,arguments)}function uu(y,f){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,h.Z)(function*(y,f){return gn(y,"POST","/v1/accounts:signInWithCustomToken",pt(y,f))})).apply(this,arguments)}function ko(){return(ko=(0,h.Z)(function*(y,f){const g=kn(y),_=yield uu(g,{token:f,returnSecureToken:!0}),x=yield Cr._fromIdTokenResponse(g,"signIn",_);return yield g._updateCurrentUser(x.user),x})).apply(this,arguments)}class Oe{constructor(f,g){this.factorId=f,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(f,g){return"phoneInfo"in g?sn._fromServerResponse(f,g):De(f,"internal-error")}}class sn extends Oe{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,g){return new sn(g)}}function cu(y,f,g){var _;j((null===(_=g.url)||void 0===_?void 0:_.length)>0,y,"invalid-continue-uri"),j(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),f.continueUrl=g.url,f.dynamicLinkDomain=g.dynamicLinkDomain,f.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(j(g.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),f.iOSBundleId=g.iOS.bundleId),g.android&&(j(g.android.packageName.length>0,y,"missing-android-pkg-name"),f.androidInstallApp=g.android.installApp,f.androidMinimumVersionCode=g.android.minimumVersion,f.androidPackageName=g.android.packageName)}function Nn(){return(Nn=(0,h.Z)(function*(y,f,g){const _=(0,L.m9)(y),x={requestType:"PASSWORD_RESET",email:f};g&&cu(_,x,g),yield sr(_,x)})).apply(this,arguments)}function Xs(){return(Xs=(0,h.Z)(function*(y,f,g){yield Xn((0,L.m9)(y),{oobCode:f,newPassword:g})})).apply(this,arguments)}function Ro(){return(Ro=(0,h.Z)(function*(y,f){yield Xa((0,L.m9)(y),{oobCode:f})})).apply(this,arguments)}function eo(y,f){return hu.apply(this,arguments)}function hu(){return(hu=(0,h.Z)(function*(y,f){const g=(0,L.m9)(y),_=yield Xn(g,{oobCode:f}),x=_.requestType;switch(j(x,g,"internal-error"),x){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":j(_.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":j(_.mfaInfo,g,"internal-error");default:j(_.email,g,"internal-error")}let P=null;return _.mfaInfo&&(P=Oe._fromServerResponse(kn(g),_.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===_.requestType?_.newEmail:_.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===_.requestType?_.email:_.newEmail)||null,multiFactorInfo:P},operation:x}})).apply(this,arguments)}function fu(){return(fu=(0,h.Z)(function*(y,f){const{data:g}=yield eo((0,L.m9)(y),f);return g.email})).apply(this,arguments)}function Rn(){return(Rn=(0,h.Z)(function*(y,f,g){const _=kn(y),x=yield Qs(_,{returnSecureToken:!0,email:f,password:g}),P=yield Cr._fromIdTokenResponse(_,"signIn",x);return yield _._updateCurrentUser(P.user),P})).apply(this,arguments)}function Ss(){return(Ss=(0,h.Z)(function*(y,f,g){const _=(0,L.m9)(y),x={requestType:"EMAIL_SIGNIN",email:f};j(g.handleCodeInApp,_,"argument-error"),g&&cu(_,x,g),yield oa(_,x)})).apply(this,arguments)}function Po(){return(Po=(0,h.Z)(function*(y,f,g){const _=(0,L.m9)(y),x=Si.credentialWithLink(f,g||Be());return j(x._tenantId===(_.tenantId||null),_,"tenant-id-mismatch"),Fn(_,x)})).apply(this,arguments)}function ud(y,f){return gu.apply(this,arguments)}function gu(){return(gu=(0,h.Z)(function*(y,f){return rn(y,"POST","/v1/accounts:createAuthUri",pt(y,f))})).apply(this,arguments)}function Lo(){return(Lo=(0,h.Z)(function*(y,f){const _={identifier:f,continueUri:lt()?Be():"http://localhost"},{signinMethods:x}=yield ud((0,L.m9)(y),_);return x||[]})).apply(this,arguments)}function Vo(){return(Vo=(0,h.Z)(function*(y,f){const g=(0,L.m9)(y),x={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};f&&cu(g.auth,x,f);const{email:P}=yield ir(g.auth,x);P!==y.email&&(yield y.reload())})).apply(this,arguments)}function Uo(){return(Uo=(0,h.Z)(function*(y,f,g){const _=(0,L.m9)(y),P={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:f};g&&cu(_.auth,P,g);const{email:Q}=yield aa(_.auth,P);Q!==y.email&&(yield y.reload())})).apply(this,arguments)}function Bo(y,f){return vu.apply(this,arguments)}function vu(){return(vu=(0,h.Z)(function*(y,f){return rn(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function wu(){return(wu=(0,h.Z)(function*(y,{displayName:f,photoURL:g}){if(void 0===f&&void 0===g)return;const _=(0,L.m9)(y),P={idToken:yield _.getIdToken(),displayName:f,photoUrl:g,returnSecureToken:!0},Q=yield Ir(_,Bo(_.auth,P));_.displayName=Q.displayName||null,_.photoURL=Q.photoUrl||null;const _e=_.providerData.find(({providerId:Ye})=>"password"===Ye);_e&&(_e.displayName=_.displayName,_e.photoURL=_.photoURL),yield _._updateTokensIfNecessary(Q)})).apply(this,arguments)}function xs(y,f,g){return ma.apply(this,arguments)}function ma(){return(ma=(0,h.Z)(function*(y,f,g){const{auth:_}=y,P={idToken:yield y.getIdToken(),returnSecureToken:!0};f&&(P.email=f),g&&(P.password=g);const Q=yield Ir(y,yn(_,P));yield y._updateTokensIfNecessary(Q,!0)})).apply(this,arguments)}class Gr{constructor(f,g,_={}){this.isNewUser=f,this.providerId=g,this.profile=_}}class An extends Gr{constructor(f,g,_,x){super(f,g,_),this.username=x}}class ll extends Gr{constructor(f,g){super(f,"facebook.com",g)}}class Eu extends An{constructor(f,g){super(f,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class ic extends Gr{constructor(f,g){super(f,"google.com",g)}}class Iu extends An{constructor(f,g,_){super(f,"twitter.com",g,_)}}function ya(y){const{user:f,_tokenResponse:g}=y;return f.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function ar(y){var f,g;if(!y)return null;const{providerId:_}=y,x=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},P=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!_&&y?.idToken){const Q=null===(g=null===(f=He(y.idToken))||void 0===f?void 0:f.firebase)||void 0===g?void 0:g.sign_in_provider;if(Q)return new Gr(P,"anonymous"!==Q&&"custom"!==Q?Q:null)}if(!_)return null;switch(_){case"facebook.com":return new ll(P,x);case"github.com":return new Eu(P,x);case"google.com":return new ic(P,x);case"twitter.com":return new Iu(P,x,y.screenName||null);case"custom":case"anonymous":return new Gr(P,null);default:return new Gr(P,_,x)}}(g)}class Ns{constructor(f,g,_){this.type=f,this.credential=g,this.auth=_}static _fromIdtoken(f,g){return new Ns("enroll",f,g)}static _fromMfaPendingCredential(f){return new Ns("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var g,_;if(f?.multiFactorSession){if(null!==(g=f.multiFactorSession)&&void 0!==g&&g.pendingCredential)return Ns._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(_=f.multiFactorSession)&&void 0!==_&&_.idToken)return Ns._fromIdtoken(f.multiFactorSession.idToken)}return null}}class _a{constructor(f,g,_){this.session=f,this.hints=g,this.signInResolver=_}static _fromError(f,g){const _=kn(f),x=g.customData._serverResponse,P=(x.mfaInfo||[]).map(_e=>Oe._fromServerResponse(_,_e));j(x.mfaPendingCredential,_,"internal-error");const Q=Ns._fromMfaPendingCredential(x.mfaPendingCredential);return new _a(Q,P,function(){var _e=(0,h.Z)(function*(Ye){const at=yield Ye._process(_,Q);delete x.mfaInfo,delete x.mfaPendingCredential;const St=Object.assign(Object.assign({},x),{idToken:at.idToken,refreshToken:at.refreshToken});switch(g.operationType){case"signIn":const Et=yield Cr._fromIdTokenResponse(_,g.operationType,St);return yield _._updateCurrentUser(Et.user),Et;case"reauthenticate":return j(g.user,_,"internal-error"),Cr._forOperation(g.user,g.operationType,St);default:De(_,"internal-error")}});return function(Ye){return _e.apply(this,arguments)}}())}resolveSignIn(f){var g=this;return(0,h.Z)(function*(){return g.signInResolver(f)})()}}function wa(y,f){return rn(y,"POST","/v2/accounts/mfaEnrollment:start",pt(y,f))}class ki{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(_=>Oe._fromServerResponse(f.auth,_)))})}static _fromUser(f){return new ki(f)}getSession(){var f=this;return(0,h.Z)(function*(){return Ns._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,g){var _=this;return(0,h.Z)(function*(){const x=f,P=yield _.getSession(),Q=yield Ir(_.user,x._process(_.user.auth,P,g));return yield _.user._updateTokensIfNecessary(Q),_.user.reload()})()}unenroll(f){var g=this;return(0,h.Z)(function*(){var _;const x="string"==typeof f?f:f.uid,P=yield g.user.getIdToken(),Q=yield Ir(g.user,function hl(y,f){return rn(y,"POST","/v2/accounts/mfaEnrollment:withdraw",pt(y,f))}(g.user.auth,{idToken:P,mfaEnrollmentId:x}));g.enrolledFactors=g.enrolledFactors.filter(({uid:_e})=>_e!==x),yield g.user._updateTokensIfNecessary(Q);try{yield g.user.reload()}catch(_e){if("auth/user-token-expired"!==(null===(_=_e)||void 0===_?void 0:_.code))throw _e}})()}}const mi=new WeakMap,Rs="__sak";class Ea{constructor(f,g){this.storageRetriever=f,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Rs,"1"),this.storage.removeItem(Rs),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,g){return this.storage.setItem(f,JSON.stringify(g)),Promise.resolve()}_get(f){const g=this.storage.getItem(f);return Promise.resolve(g?JSON.parse(g):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const ys=(()=>{class y extends Ea{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,_)=>this.onStorageEvent(g,_),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function jo(){const y=(0,L.z$)();return vt(y)||Wt(y)}()&&function wn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=cs(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const _ of Object.keys(this.listeners)){const x=this.storage.getItem(_),P=this.localCache[_];x!==P&&g(_,P,x)}}onStorageEvent(g,_=!1){if(!g.key)return void this.forAllChangedKeys((_e,Ye,at)=>{this.notifyListeners(_e,at)});const x=g.key;if(_?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const _e=this.storage.getItem(x);if(g.newValue!==_e)null!==g.newValue?this.storage.setItem(x,g.newValue):this.storage.removeItem(x);else if(this.localCache[x]===g.newValue&&!_)return}const P=()=>{const _e=this.storage.getItem(x);!_&&this.localCache[x]===_e||this.notifyListeners(x,_e)},Q=this.storage.getItem(x);!function Pn(){return(0,L.w1)()&&10===document.documentMode}()||Q===g.newValue||g.newValue===g.oldValue?P():setTimeout(P,10)}notifyListeners(g,_){this.localCache[g]=_;const x=this.listeners[g];if(x)for(const P of Array.from(x))P(_&&JSON.parse(_))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,_,x)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:_,newValue:x}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,_){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(_)}_removeListener(g,_){this.listeners[g]&&(this.listeners[g].delete(_),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,_){var x=()=>super._set,P=this;return(0,h.Z)(function*(){yield x().call(P,g,_),P.localCache[g]=JSON.stringify(_)})()}_get(g){var _=()=>super._get,x=this;return(0,h.Z)(function*(){const P=yield _().call(x,g);return x.localCache[g]=JSON.stringify(P),P})()}_remove(g){var _=()=>super._remove,x=this;return(0,h.Z)(function*(){yield _().call(x,g),delete x.localCache[g]})()}}return y.type="LOCAL",y})(),I=(()=>{class y extends Ea{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,_){}_removeListener(g,_){}}return y.type="SESSION",y})();let $=(()=>{class y{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const _=this.receivers.find(P=>P.isListeningto(g));if(_)return _;const x=new y(g);return this.receivers.push(x),x}isListeningto(g){return this.eventTarget===g}handleEvent(g){var _=this;return(0,h.Z)(function*(){const x=g,{eventId:P,eventType:Q,data:_e}=x.data,Ye=_.handlersMap[Q];if(!Ye?.size)return;x.ports[0].postMessage({status:"ack",eventId:P,eventType:Q});const at=Array.from(Ye).map(function(){var Et=(0,h.Z)(function*(Cn){return Cn(x.origin,_e)});return function(Cn){return Et.apply(this,arguments)}}()),St=yield function k(y){return Promise.all(y.map(function(){var f=(0,h.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(_){return{fulfilled:!1,reason:_}}});return function(g){return f.apply(this,arguments)}}()))}(at);x.ports[0].postMessage({status:"done",eventId:P,eventType:Q,response:St})})()}_subscribe(g,_){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(_)}_unsubscribe(g,_){this.handlersMap[g]&&_&&this.handlersMap[g].delete(_),(!_||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Ce(y="",f=10){let g="";for(let _=0;_<f;_++)g+=Math.floor(10*Math.random());return y+g}class it{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,g,_=50){var x=this;return(0,h.Z)(function*(){const P=typeof MessageChannel<"u"?new MessageChannel:null;if(!P)throw new Error("connection_unavailable");let Q,_e;return new Promise((Ye,at)=>{const St=Ce("",20);P.port1.start();const Et=setTimeout(()=>{at(new Error("unsupported_event"))},_);_e={messageChannel:P,onMessage(Cn){const Pi=Cn;if(Pi.data.eventId===St)switch(Pi.data.status){case"ack":clearTimeout(Et),Q=setTimeout(()=>{at(new Error("timeout"))},3e3);break;case"done":clearTimeout(Q),Ye(Pi.data.response);break;default:clearTimeout(Et),clearTimeout(Q),at(new Error("invalid_response"))}}},x.handlers.add(_e),P.port1.addEventListener("message",_e.onMessage),x.target.postMessage({eventType:f,eventId:St,data:g},[P.port2])}).finally(()=>{_e&&x.removeMessageHandler(_e)})})()}}function zt(){return window}function ur(){return typeof zt().WorkerGlobalScope<"u"&&"function"==typeof zt().importScripts}function Os(){return(Os=(0,h.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const io="firebaseLocalStorageDb",so="firebaseLocalStorage",sc="fbase_key";class Ho{constructor(f){this.request=f}toPromise(){return new Promise((f,g)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Cu(y,f){return y.transaction([so],f?"readwrite":"readonly").objectStore(so)}function Ia(){const y=indexedDB.open(io,1);return new Promise((f,g)=>{y.addEventListener("error",()=>{g(y.error)}),y.addEventListener("upgradeneeded",()=>{const _=y.result;try{_.createObjectStore(so,{keyPath:sc})}catch(x){g(x)}}),y.addEventListener("success",(0,h.Z)(function*(){const _=y.result;_.objectStoreNames.contains(so)?f(_):(_.close(),yield function cd(){const y=indexedDB.deleteDatabase(io);return new Ho(y).toPromise()}(),f(yield Ia()))}))})}function Ps(y,f,g){return oc.apply(this,arguments)}function oc(){return(oc=(0,h.Z)(function*(y,f,g){const _=Cu(y,!0).put({[sc]:f,value:g});return new Ho(_).toPromise()})).apply(this,arguments)}function Du(){return(Du=(0,h.Z)(function*(y,f){const g=Cu(y,!1).get(f),_=yield new Ho(g).toPromise();return void 0===_?null:_.value})).apply(this,arguments)}function $o(y,f){const g=Cu(y,!0).delete(f);return new Ho(g).toPromise()}const Ca=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,h.Z)(function*(){return g.db||(g.db=yield Ia()),g.db})()}_withRetries(g){var _=this;return(0,h.Z)(function*(){let x=0;for(;;)try{const P=yield _._openDb();return yield g(P)}catch(P){if(x++>3)throw P;_.db&&(_.db.close(),_.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,h.Z)(function*(){return ur()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,h.Z)(function*(){g.receiver=$._getInstance(function ml(){return ur()?self:null}()),g.receiver._subscribe("keyChanged",function(){var _=(0,h.Z)(function*(x,P){return{keyProcessed:(yield g._poll()).includes(P.key)}});return function(x,P){return _.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var _=(0,h.Z)(function*(x,P){return["keyChanged"]});return function(x,P){return _.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,h.Z)(function*(){var _,x;if(g.activeServiceWorker=yield function si(){return Os.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new it(g.activeServiceWorker);const P=yield g.sender._send("ping",{},800);!P||(null===(_=P[0])||void 0===_?void 0:_.fulfilled)&&(null===(x=P[0])||void 0===x?void 0:x.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var _=this;return(0,h.Z)(function*(){if(_.sender&&_.activeServiceWorker&&function gl(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===_.activeServiceWorker)try{yield _.sender._send("keyChanged",{key:g},_.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,h.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Ia();return yield Ps(g,Rs,"1"),yield $o(g,Rs),!0}catch{}return!1})()}_withPendingWrite(g){var _=this;return(0,h.Z)(function*(){_.pendingWrites++;try{yield g()}finally{_.pendingWrites--}})()}_set(g,_){var x=this;return(0,h.Z)(function*(){return x._withPendingWrite((0,h.Z)(function*(){return yield x._withRetries(P=>Ps(P,g,_)),x.localCache[g]=_,x.notifyServiceWorker(g)}))})()}_get(g){var _=this;return(0,h.Z)(function*(){const x=yield _._withRetries(P=>function yl(y,f){return Du.apply(this,arguments)}(P,g));return _.localCache[g]=x,x})()}_remove(g){var _=this;return(0,h.Z)(function*(){return _._withPendingWrite((0,h.Z)(function*(){return yield _._withRetries(x=>$o(x,g)),delete _.localCache[g],_.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,h.Z)(function*(){const _=yield g._withRetries(Q=>{const _e=Cu(Q,!1).getAll();return new Ho(_e).toPromise()});if(!_)return[];if(0!==g.pendingWrites)return[];const x=[],P=new Set;for(const{fbase_key:Q,value:_e}of _)P.add(Q),JSON.stringify(g.localCache[Q])!==JSON.stringify(_e)&&(g.notifyListeners(Q,_e),x.push(Q));for(const Q of Object.keys(g.localCache))g.localCache[Q]&&!P.has(Q)&&(g.notifyListeners(Q,null),x.push(Q));return x})()}notifyListeners(g,_){this.localCache[g]=_;const x=this.listeners[g];if(x)for(const P of Array.from(x))P(_)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,h.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,_){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(_)}_removeListener(g,_){this.listeners[g]&&(this.listeners[g].delete(_),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function Da(y,f){return rn(y,"POST","/v2/accounts/mfaSignIn:start",pt(y,f))}function oo(){return(oo=(0,h.Z)(function*(y){return(yield rn(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Aa(y){return new Promise((f,g)=>{const _=document.createElement("script");_.setAttribute("src",y),_.onload=f,_.onerror=x=>{const P=Ee("internal-error");P.customData=x,g(P)},_.type="text/javascript",_.charset="UTF-8",function Ta(){var y,f;return null!==(f=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==f?f:document}().appendChild(_)})}function wl(y){return`__${y}${Math.floor(1e6*Math.random())}`}const Tu=1e12;class On{constructor(f){this.auth=f,this.counter=Tu,this._widgets=new Map}render(f,g){const _=this.counter;return this._widgets.set(_,new _p(f,this.auth.name,g||{})),this.counter++,_}reset(f){var g;const _=f||Tu;null===(g=this._widgets.get(_))||void 0===g||g.delete(),this._widgets.delete(_)}getResponse(f){var g;return(null===(g=this._widgets.get(f||Tu))||void 0===g?void 0:g.getResponse())||""}execute(f){var g=this;return(0,h.Z)(function*(){var _;return null===(_=g._widgets.get(f||Tu))||void 0===_||_.execute(),""})()}}class _p{constructor(f,g,_){this.params=_,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const x="string"==typeof f?document.getElementById(f):f;j(x,"argument-error",{appName:g}),this.container=x,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Xm(y){const f=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let _=0;_<y;_++)f.push(g.charAt(Math.floor(Math.random()*g.length)));return f.join("")}(50);const{callback:f,"expired-callback":g}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const wp=wl("rcb"),ey=new jt(3e4,6e4);class kh{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=zt().grecaptcha)||void 0===f||!f.render)}load(f,g=""){return j(function Cw(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(g),f,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(zt().grecaptcha):new Promise((_,x)=>{const P=zt().setTimeout(()=>{x(Ee(f,"network-request-failed"))},ey.get());zt()[wp]=()=>{zt().clearTimeout(P),delete zt()[wp];const _e=zt().grecaptcha;if(!_e)return void x(Ee(f,"internal-error"));const Ye=_e.render;_e.render=(at,St)=>{const Et=Ye(at,St);return this.counter++,Et},this.hostLanguage=g,_(_e)},Aa(`https://www.google.com/recaptcha/api.js??${(0,L.xO)({onload:wp,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(P),x(Ee(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var g;return!(null===(g=zt().grecaptcha)||void 0===g||!g.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class uc{load(f){return(0,h.Z)(function*(){return new On(f)})()}clearedOneInstance(){}}const ny="recaptcha",ry={theme:"light",type:"image"};class Rr{constructor(f,g=Object.assign({},ry),_){this.parameters=g,this.type=ny,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=kn(_),this.isInvisible="invisible"===this.parameters.size,j(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const x="string"==typeof f?document.getElementById(f):f;j(x,this.auth,"argument-error"),this.container=x,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new uc:new kh,this.validateStartingState()}verify(){var f=this;return(0,h.Z)(function*(){f.assertNotDestroyed();const g=yield f.render(),_=f.getAssertedRecaptcha();return _.getResponse(g)||new Promise(P=>{const Q=_e=>{!_e||(f.tokenChangeListeners.delete(Q),P(_e))};f.tokenChangeListeners.add(Q),f.isInvisible&&_.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){j(!this.parameters.sitekey,this.auth,"argument-error"),j(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),j(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return g=>{if(this.tokenChangeListeners.forEach(_=>_(g)),"function"==typeof f)f(g);else if("string"==typeof f){const _=zt()[f];"function"==typeof _&&_(g)}}}assertNotDestroyed(){j(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,h.Z)(function*(){if(yield f.init(),!f.widgetId){let g=f.container;if(!f.isInvisible){const _=document.createElement("div");g.appendChild(_),g=_}f.widgetId=f.getAssertedRecaptcha().render(g,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,h.Z)(function*(){j(lt()&&!ur(),f.auth,"internal-error"),yield function Sn(){let y=null;return new Promise(f=>{"complete"!==document.readyState?(y=()=>f(),window.addEventListener("load",y)):f()}).catch(f=>{throw y&&window.removeEventListener("load",y),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const g=yield function yi(y){return oo.apply(this,arguments)}(f.auth);j(g,f.auth,"internal-error"),f.parameters.sitekey=g})()}getAssertedRecaptcha(){return j(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ts{constructor(f,g){this.verificationId=f,this.onConfirmation=g}confirm(f){const g=ps._fromVerification(this.verificationId,f);return this.onConfirmation(g)}}function Ni(){return(Ni=(0,h.Z)(function*(y,f,g){const _=kn(y),x=yield ao(_,f,(0,L.m9)(g));return new ts(x,P=>Fn(_,P))})).apply(this,arguments)}function ns(){return(ns=(0,h.Z)(function*(y,f,g){const _=(0,L.m9)(y);yield un(!1,_,"phone");const x=yield ao(_.auth,f,(0,L.m9)(g));return new ts(x,P=>Js(_,P))})).apply(this,arguments)}function zr(){return(zr=(0,h.Z)(function*(y,f,g){const _=(0,L.m9)(y),x=yield ao(_.auth,f,(0,L.m9)(g));return new ts(x,P=>Qi(_,P))})).apply(this,arguments)}function ao(y,f,g){return bl.apply(this,arguments)}function bl(){return(bl=(0,h.Z)(function*(y,f,g){var _;const x=yield g.verify();try{let P;if(j("string"==typeof x,y,"argument-error"),j(g.type===ny,y,"argument-error"),P="string"==typeof f?{phoneNumber:f}:f,"session"in P){const Q=P.session;if("phoneNumber"in P)return j("enroll"===Q.type,y,"internal-error"),(yield wa(y,{idToken:Q.credential,phoneEnrollmentInfo:{phoneNumber:P.phoneNumber,recaptchaToken:x}})).phoneSessionInfo.sessionInfo;{j("signin"===Q.type,y,"internal-error");const _e=(null===(_=P.multiFactorHint)||void 0===_?void 0:_.uid)||P.multiFactorUid;return j(_e,y,"missing-multi-factor-info"),(yield Da(y,{mfaPendingCredential:Q.credential,mfaEnrollmentId:_e,phoneSignInInfo:{recaptchaToken:x}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Q}=yield rd(y,{phoneNumber:P.phoneNumber,recaptchaToken:x});return Q}}finally{g._reset()}})).apply(this,arguments)}function lc(){return(lc=(0,h.Z)(function*(y,f){yield Ki((0,L.m9)(y),f)})).apply(this,arguments)}let Su=(()=>{class y{constructor(g){this.providerId=y.PROVIDER_ID,this.auth=kn(g)}verifyPhoneNumber(g,_){return ao(this.auth,g,(0,L.m9)(_))}static credential(g,_){return ps._fromVerification(g,_)}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:_,temporaryProof:x}=g;return _&&x?ps._fromTokenResponse(_,x):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function xa(y,f){return f?fe(f):(j(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class uo extends pr{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return or(f,this._buildIdpRequest())}_linkToIdToken(f,g){return or(f,this._buildIdpRequest(g))}_getReauthenticationResolver(f){return or(f,this._buildIdpRequest())}_buildIdpRequest(f){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(g.idToken=f),g}}function ut(y){return gi(y.auth,new uo(y),y.bypassAuthState)}function xu(y){const{auth:f,user:g}=y;return j(g,f,"internal-error"),As(g,new uo(y),y.bypassAuthState)}function lo(y){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,h.Z)(function*(y){const{auth:f,user:g}=y;return j(g,f,"internal-error"),Ki(g,new uo(y),y.bypassAuthState)})).apply(this,arguments)}class Ma{constructor(f,g,_,x,P=!1){this.auth=f,this.resolver=_,this.user=x,this.bypassAuthState=P,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var f=this;return new Promise(function(){var g=(0,h.Z)(function*(_,x){f.pendingPromise={resolve:_,reject:x};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(P){f.reject(P)}});return function(_,x){return g.apply(this,arguments)}}())}onAuthEvent(f){var g=this;return(0,h.Z)(function*(){const{urlResponse:_,sessionId:x,postBody:P,tenantId:Q,error:_e,type:Ye}=f;if(_e)return void g.reject(_e);const at={auth:g.auth,requestUri:_,sessionId:x,tenantId:Q||void 0,postBody:P||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Ye)(at))}catch(St){g.reject(St)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return ut;case"linkViaPopup":case"linkViaRedirect":return lo;case"reauthViaPopup":case"reauthViaRedirect":return xu;default:De(this.auth,"internal-error")}}resolve(f){W(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){W(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Dr=new jt(2e3,1e4);function ka(){return(ka=(0,h.Z)(function*(y,f,g){const _=kn(y);Ie(y,f,Wi);const x=xa(_,g);return new co(_,"signInViaPopup",f,x).executeNotNull()})).apply(this,arguments)}function dc(){return(dc=(0,h.Z)(function*(y,f,g){const _=(0,L.m9)(y);Ie(_.auth,f,Wi);const x=xa(_.auth,g);return new co(_.auth,"reauthViaPopup",f,x,_).executeNotNull()})).apply(this,arguments)}function ku(){return(ku=(0,h.Z)(function*(y,f,g){const _=(0,L.m9)(y);Ie(_.auth,f,Wi);const x=xa(_.auth,g);return new co(_.auth,"linkViaPopup",f,x,_).executeNotNull()})).apply(this,arguments)}let co=(()=>{class y extends Ma{constructor(g,_,x,P,Q){super(g,_,P,Q),this.provider=x,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var g=this;return(0,h.Z)(function*(){const _=yield g.execute();return j(_,g.auth,"internal-error"),_})()}onExecution(){var g=this;return(0,h.Z)(function*(){W(1===g.filter.length,"Popup operations only handle one event");const _=Ce();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],_),g.authWindow.associatedEvent=_,g.resolver._originValidation(g.auth).catch(x=>{g.reject(x)}),g.resolver._isIframeWebStorageSupported(g.auth,x=>{x||g.reject(Ee(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(Ee(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const g=()=>{var _,x;this.pollId=null!==(x=null===(_=this.authWindow)||void 0===_?void 0:_.window)&&void 0!==x&&x.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ee(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,Dr.get())};g()}}return y.currentPopupAction=null,y})();const rs=new Map;class hc extends Ma{constructor(f,g,_=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,_),this.eventId=null}execute(){var f=()=>super.execute,g=this;return(0,h.Z)(function*(){let _=rs.get(g.auth._key());if(!_){try{const P=(yield function Na(y,f){return vi.apply(this,arguments)}(g.resolver,g.auth))?yield f().call(g):null;_=()=>Promise.resolve(P)}catch(x){_=()=>Promise.reject(x)}rs.set(g.auth._key(),_)}return g.bypassAuthState||rs.set(g.auth._key(),()=>Promise.resolve(null)),_()})()}onAuthEvent(f){var g=()=>super.onAuthEvent,_=this;return(0,h.Z)(function*(){if("signInViaRedirect"===f.type)return g().call(_,f);if("unknown"!==f.type){if(f.eventId){const x=yield _.auth._redirectUserForId(f.eventId);if(x)return _.user=x,g().call(_,f);_.resolve(null)}}else _.resolve(null)})()}onExecution(){return(0,h.Z)(function*(){})()}cleanUp(){}}function vi(){return(vi=(0,h.Z)(function*(y,f){const g=mr(f),_=Vs(y);if(!(yield _._isAvailable()))return!1;const x="true"===(yield _._get(g));return yield _._remove(g),x})).apply(this,arguments)}function Ls(y,f){return vs.apply(this,arguments)}function vs(){return(vs=(0,h.Z)(function*(y,f){return Vs(y)._set(mr(f),"true")})).apply(this,arguments)}function fo(y,f){rs.set(y._key(),f)}function Vs(y){return fe(y._redirectPersistence)}function mr(y){return J("pendingRedirect",y.config.apiKey,y.name)}function D(){return(D=(0,h.Z)(function*(y,f,g){const _=kn(y);Ie(y,f,Wi);const x=xa(_,g);return yield Ls(x,_),x._openRedirect(_,f,"signInViaRedirect")})).apply(this,arguments)}function B(){return(B=(0,h.Z)(function*(y,f,g){const _=(0,L.m9)(y);Ie(_.auth,f,Wi);const x=xa(_.auth,g);yield Ls(x,_.auth);const P=yield bt(_);return x._openRedirect(_.auth,f,"reauthViaRedirect",P)})).apply(this,arguments)}function Ne(){return(Ne=(0,h.Z)(function*(y,f,g){const _=(0,L.m9)(y);Ie(_.auth,f,Wi);const x=xa(_.auth,g);yield un(!1,_,f.providerId),yield Ls(x,_.auth);const P=yield bt(_);return x._openRedirect(_.auth,f,"linkViaRedirect",P)})).apply(this,arguments)}function ct(){return(ct=(0,h.Z)(function*(y,f){return yield kn(y)._initializationPromise,Nt(y,f,!1)})).apply(this,arguments)}function Nt(y,f){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,h.Z)(function*(y,f,g=!1){const _=kn(y),x=xa(_,f),Q=yield new hc(_,x,g).execute();return Q&&!g&&(delete Q.user._redirectEventId,yield _._persistUserIfCurrent(Q.user),yield _._setRedirectUser(null,f)),Q})).apply(this,arguments)}function bt(y){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,h.Z)(function*(y){const f=Ce(`${y.uid}:::`);return y._redirectEventId=f,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),f})).apply(this,arguments)}class Ra{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let g=!1;return this.consumers.forEach(_=>{this.isEventForConsumer(f,_)&&(g=!0,this.sendToConsumer(f,_),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function _s(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ut(y);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=f,g=!0)),g}sendToConsumer(f,g){var _;if(f.error&&!Ut(f)){const x=(null===(_=f.error.code)||void 0===_?void 0:_.split("auth/")[1])||"internal-error";g.onError(Ee(this.auth,x))}else g.onAuthEvent(f)}isEventForConsumer(f,g){const _=null===g.eventId||!!f.eventId&&f.eventId===g.eventId;return g.filter.includes(f.type)&&_}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(po(f))}saveEventToCache(f){this.cachedEventUids.add(po(f)),this.lastProcessedEventTime=Date.now()}}function po(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(f=>f).join("-")}function Ut({type:y,error:f}){return"unknown"===y&&"auth/no-auth-event"===f?.code}function go(y){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,h.Z)(function*(y,f={}){return rn(y,"GET","/v1/projects",f)})).apply(this,arguments)}const Oa=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zo=/^https?/;function Nh(){return(Nh=(0,h.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:f}=yield go(y);for(const g of f)try{if(Ip(g))return}catch{}De(y,"unauthorized-domain")})).apply(this,arguments)}function Ip(y){const f=Be(),{protocol:g,hostname:_}=new URL(f);if(y.startsWith("chrome-extension://")){const Q=new URL(y);return""===Q.hostname&&""===_?"chrome-extension:"===g&&y.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===g&&Q.hostname===_}if(!zo.test(g))return!1;if(Oa.test(y))return _===y;const x=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+x+"|"+x+")$","i").test(_)}const Cp=new jt(3e4,6e4);function iy(){const y=zt().___jsl;if(y?.H)for(const f of Object.keys(y.H))if(y.H[f].r=y.H[f].r||[],y.H[f].L=y.H[f].L||[],y.H[f].r=[...y.H[f].L],y.CP)for(let g=0;g<y.CP.length;g++)y.CP[g]=null}let ws=null;function Rh(y){return ws=ws||function Tr(y){return new Promise((f,g)=>{var _,x,P;function Q(){iy(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{iy(),g(Ee(y,"network-request-failed"))},timeout:Cp.get()})}if(null!==(x=null===(_=zt().gapi)||void 0===_?void 0:_.iframes)&&void 0!==x&&x.Iframe)f(gapi.iframes.getContext());else{if(null===(P=zt().gapi)||void 0===P||!P.load){const _e=wl("iframefcb");return zt()[_e]=()=>{gapi.load?Q():g(Ee(y,"network-request-failed"))},Aa(`https://apis.google.com/js/api.js?onload=${_e}`).catch(Ye=>g(Ye))}Q()}}).catch(f=>{throw ws=null,f})}(y),ws}const Dp=new jt(5e3,15e3),sy={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ph=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Tp(y){const f=y.config;j(f.authDomain,y,"auth-domain-config-required");const g=f.emulator?Xt(f,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,_={apiKey:f.apiKey,appName:y.name,v:ae.SDK_VERSION},x=Ph.get(y.config.apiHost);x&&(_.eid=x);const P=y._getFrameworks();return P.length&&(_.fw=P.join(",")),`${g}?${(0,L.xO)(_).slice(1)}`}function Nu(){return Nu=(0,h.Z)(function*(y){const f=yield Rh(y),g=zt().gapi;return j(g,y,"internal-error"),f.open({where:document.body,url:Tp(y),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sy,dontclear:!0},_=>new Promise(function(){var x=(0,h.Z)(function*(P,Q){yield _.restyle({setHideOnLeave:!1});const _e=Ee(y,"network-request-failed"),Ye=zt().setTimeout(()=>{Q(_e)},Dp.get());function at(){zt().clearTimeout(Ye),P(_)}_.ping(at).then(at,()=>{Q(_e)})});return function(P,Q){return x.apply(this,arguments)}}()))}),Nu.apply(this,arguments)}const dd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class fc{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pd(y,f,g,_,x,P){j(y.config.authDomain,y,"auth-domain-config-required"),j(y.config.apiKey,y,"invalid-api-key");const Q={apiKey:y.config.apiKey,appName:y.name,authType:g,redirectUrl:_,v:ae.SDK_VERSION,eventId:x};if(f instanceof Wi){f.setDefaultLanguage(y.languageCode),Q.providerId=f.providerId||"",(0,L.xb)(f.getCustomParameters())||(Q.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Ye,at]of Object.entries(P||{}))Q[Ye]=at}if(f instanceof Zi){const Ye=f.getScopes().filter(at=>""!==at);Ye.length>0&&(Q.scopes=Ye.join(","))}y.tenantId&&(Q.tid=y.tenantId);const _e=Q;for(const Ye of Object.keys(_e))void 0===_e[Ye]&&delete _e[Ye];return`${function gd({config:y}){return y.emulator?Xt(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,L.xO)(_e).slice(1)}`}const Ou="webStorageSupport";class bs extends class oy{constructor(f){this.factorId=f}_process(f,g,_){switch(g.type){case"enroll":return this._finalizeEnroll(f,g.credential,_);case"signin":return this._finalizeSignIn(f,g.credential);default:return ee("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new bs(f)}_finalizeEnroll(f,g,_){return function ba(y,f){return rn(y,"POST","/v2/accounts/mfaEnrollment:finalize",pt(y,f))}(f,{idToken:g,displayName:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,g){return function _l(y,f){return rn(y,"POST","/v2/accounts/mfaSignIn:finalize",pt(y,f))}(f,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Pa=(()=>{class y{constructor(){}static assertion(g){return bs._fromCredential(g)}}return y.FACTOR_ID="phone",y})();var Lh="@firebase/auth",Mp="0.20.10";class Tw{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var g=this;return(0,h.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const g=this.auth.onIdTokenChanged(_=>{var x;f((null===(x=_)||void 0===x?void 0:x.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,g),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const g=this.internalListeners.get(f);!g||(this.internalListeners.delete(f),g(),this.updateProactiveRefresh())}assertAuthConfigured(){j(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Pu(){return window}function Fu(){return(Fu=(0,h.Z)(function*(y,f,g){var _;const{BuildInfo:x}=Pu();W(f.sessionId,"AuthEvent did not contain a session ID");const P=yield Lu(f.sessionId),Q={};return Wt()?Q.ibi=x.packageName:an()?Q.apn=x.packageName:De(y,"operation-not-supported-in-this-environment"),x.displayName&&(Q.appDisplayName=x.displayName),Q.sessionId=P,pd(y,g,f.type,void 0,null!==(_=f.eventId)&&void 0!==_?_:void 0,Q)})).apply(this,arguments)}function Cl(){return(Cl=(0,h.Z)(function*(y){const{BuildInfo:f}=Pu(),g={};Wt()?g.iosBundleId=f.packageName:an()?g.androidPackageName=f.packageName:De(y,"operation-not-supported-in-this-environment"),yield go(y,g)})).apply(this,arguments)}function Rp(){return(Rp=(0,h.Z)(function*(y,f,g){const{cordova:_}=Pu();let x=()=>{};try{yield new Promise((P,Q)=>{let _e=null;function Ye(){var Et;P();const Cn=null===(Et=_.plugins.browsertab)||void 0===Et?void 0:Et.close;"function"==typeof Cn&&Cn(),"function"==typeof g?.close&&g.close()}function at(){_e||(_e=window.setTimeout(()=>{Q(Ee(y,"redirect-cancelled-by-user"))},2e3))}function St(){"visible"===document?.visibilityState&&at()}f.addPassiveListener(Ye),document.addEventListener("resume",at,!1),an()&&document.addEventListener("visibilitychange",St,!1),x=()=>{f.removePassiveListener(Ye),document.removeEventListener("resume",at,!1),document.removeEventListener("visibilitychange",St,!1),_e&&window.clearTimeout(_e)}})}finally{x()}})).apply(this,arguments)}function Lu(y){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,h.Z)(function*(y){const f=mc(y),g=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(g)).map(x=>x.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function mc(y){if(W(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const f=new ArrayBuffer(y.length),g=new Uint8Array(f);for(let _=0;_<y.length;_++)g[_]=y.charCodeAt(_);return g}(0,L.Pz)("authIdTokenMaxAge"),function Sw(y){(0,ae._registerComponent)(new se.wA("auth",(f,{options:g})=>{const _=f.getProvider("app").getImmediate(),x=f.getProvider("heartbeat"),{apiKey:P,authDomain:Q}=_.options;return((_e,Ye)=>{j(P&&!P.includes(":"),"invalid-api-key",{appName:_e.name}),j(!Q?.includes(":"),"argument-error",{appName:_e.name});const at={apiKey:P,authDomain:Q,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Hn(y)},St=new Gt(_e,Ye,at);return function Ve(y,f){const g=f?.persistence||[],_=(Array.isArray(g)?g:[g]).map(fe);f?.errorMap&&y._updateErrorMap(f.errorMap),y._initializeWithPersistence(_,f?.popupRedirectResolver)}(St,g),St})(_,x)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,g,_)=>{f.getProvider("auth-internal").initialize()})),(0,ae._registerComponent)(new se.wA("auth-internal",f=>{const g=kn(f.getProvider("auth").getImmediate());return new Tw(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ae.registerVersion)(Lh,Mp,function Aw(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,ae.registerVersion)(Lh,Mp,"esm2017")}("Browser");class Uh extends Ra{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(f)),super.onEvent(f)}initialized(){var f=this;return(0,h.Z)(function*(){yield f.initPromise})()}}function Pp(y){return Bh.apply(this,arguments)}function Bh(){return(Bh=(0,h.Z)(function*(y){const f=yield yc()._get(Ko(y));return f&&(yield yc()._remove(Ko(y))),f})).apply(this,arguments)}function md(){const y=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const _=Math.floor(Math.random()*f.length);y.push(f.charAt(_))}return y.join("")}function yc(){return fe(ys)}function Ko(y){return J("authEvent",y.config.apiKey,y.name)}function yd(y){if(!y?.includes("?"))return{};const[f,...g]=y.split("?");return(0,L.zd)(g.join("?"))}function _d(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ee("no-auth-event")}}function bd(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function Tl(y=(0,L.z$)()){return!("file:"!==bd()&&"ionic:"!==bd()&&"capacitor:"!==bd()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function jp(){try{const y=self.localStorage,f=Ce();if(y)return y.setItem(f,"1"),y.removeItem(f),!function Bp(y=(0,L.z$)()){return function Vp(){return(0,L.w1)()&&11===document?.documentMode}()||function Up(y=(0,L.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,L.hl)()}catch{return Ed()&&(0,L.hl)()}return!1}function Ed(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Id(){return(function Nw(){return"http:"===bd()||"https:"===bd()}()||(0,L.ru)()||Tl())&&!function Hh(){return(0,L.b$)()||(0,L.UG)()}()&&jp()&&!Ed()}function vc(){return Tl()&&typeof document<"u"}function Cd(){return(Cd=(0,h.Z)(function*(){return!!vc()&&new Promise(y=>{const f=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),y(!0)})})})).apply(this,arguments)}const oi={LOCAL:"local",NONE:"none",SESSION:"session"},Oi=j,ss="persistence";function Al(y){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,h.Z)(function*(y){yield y._initializationPromise;const f=wc(),g=J(ss,y.config.apiKey,y.name);f&&f.setItem(g,y._getPersistence())})).apply(this,arguments)}function wc(){var y;try{return(null===(y=function _c(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const Dd=j;class Wr{constructor(){this.browserResolver=fe(class xp{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=I,this._completeRedirectFn=Nt,this._overrideRedirectResult=fo}_openPopup(f,g,_,x){var P=this;return(0,h.Z)(function*(){var Q;W(null===(Q=P.eventManagers[f._key()])||void 0===Q?void 0:Q.manager,"_initialize() not called before _openPopup()");const _e=pd(f,g,_,Be(),x);return function Wo(y,f,g,_=500,x=600){const P=Math.max((window.screen.availHeight-x)/2,0).toString(),Q=Math.max((window.screen.availWidth-_)/2,0).toString();let _e="";const Ye=Object.assign(Object.assign({},dd),{width:_.toString(),height:x.toString(),top:P,left:Q}),at=(0,L.z$)().toLowerCase();g&&(_e=ln(at)?"_blank":g),Xe(at)&&(f=f||"http://localhost",Ye.scrollbars="yes");const St=Object.entries(Ye).reduce((Cn,[Pi,Hu])=>`${Cn}${Pi}=${Hu},`,"");if(function Mr(y=(0,L.z$)()){var f;return Wt(y)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(at)&&"_self"!==_e)return function Sp(y,f){const g=document.createElement("a");g.href=y,g.target=f;const _=document.createEvent("MouseEvent");_.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(_)}(f||"",_e),new fc(null);const Et=window.open(f||"",_e,St);j(Et,y,"popup-blocked");try{Et.focus()}catch{}return new fc(Et)}(f,_e,Ce())})()}_openRedirect(f,g,_,x){var P=this;return(0,h.Z)(function*(){return yield P._originValidation(f),function Yn(y){zt().location.href=y}(pd(f,g,_,Be(),x)),new Promise(()=>{})})()}_initialize(f){const g=f._key();if(this.eventManagers[g]){const{manager:x,promise:P}=this.eventManagers[g];return x?Promise.resolve(x):(W(P,"If manager is not set, promise should be"),P)}const _=this.initAndGetManager(f);return this.eventManagers[g]={promise:_},_.catch(()=>{delete this.eventManagers[g]}),_}initAndGetManager(f){var g=this;return(0,h.Z)(function*(){const _=yield function Ap(y){return Nu.apply(this,arguments)}(f),x=new Ra(f);return _.register("authEvent",P=>(j(P?.authEvent,f,"invalid-auth-event"),{status:x.onEvent(P.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[f._key()]={manager:x},g.iframes[f._key()]=_,x})()}_isIframeWebStorageSupported(f,g){this.iframes[f._key()].send(Ou,{type:Ou},x=>{var P;const Q=null===(P=x?.[0])||void 0===P?void 0:P[Ou];void 0!==Q&&g(!!Q),De(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function is(y){return Nh.apply(this,arguments)}(f)),this.originValidationPromises[g]}get _shouldInitProactively(){return cs()||vt()||Wt()}}),this.cordovaResolver=fe(class vd{constructor(){this._redirectPersistence=I,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Nt,this._overrideRedirectResult=fo}_initialize(f){var g=this;return(0,h.Z)(function*(){const _=f._key();let x=g.eventManagers.get(_);return x||(x=new Uh(f),g.eventManagers.set(_,x),g.attachCallbackListeners(f,x)),x})()}_openPopup(f){De(f,"operation-not-supported-in-this-environment")}_openRedirect(f,g,_,x){var P=this;return(0,h.Z)(function*(){!function kw(y){var f,g,_,x,P,Q,_e,Ye,at,St;const Et=Pu();j("function"==typeof(null===(f=Et?.universalLinks)||void 0===f?void 0:f.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),j(typeof(null===(g=Et?.BuildInfo)||void 0===g?void 0:g.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),j("function"==typeof(null===(P=null===(x=null===(_=Et?.cordova)||void 0===_?void 0:_.plugins)||void 0===x?void 0:x.browsertab)||void 0===P?void 0:P.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),j("function"==typeof(null===(Ye=null===(_e=null===(Q=Et?.cordova)||void 0===Q?void 0:Q.plugins)||void 0===_e?void 0:_e.browsertab)||void 0===Ye?void 0:Ye.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),j("function"==typeof(null===(St=null===(at=Et?.cordova)||void 0===at?void 0:at.InAppBrowser)||void 0===St?void 0:St.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const Q=yield P._initialize(f);yield Q.initialized(),Q.resetRedirect(),function qr(){rs.clear()}(),yield P._originValidation(f);const _e=function Op(y,f,g=null){return{type:f,eventId:g,urlResponse:null,sessionId:md(),postBody:null,tenantId:y.tenantId,error:Ee(y,"no-auth-event")}}(f,_,x);yield function Dl(y,f){return yc()._set(Ko(y),f)}(f,_e);const Ye=yield function Es(y,f,g){return Fu.apply(this,arguments)}(f,_e,g),at=yield function uy(y){const{cordova:f}=Pu();return new Promise(g=>{f.plugins.browsertab.isAvailable(_=>{let x=null;_?f.plugins.browsertab.openUrl(y):x=f.InAppBrowser.open(y,function fr(y=(0,L.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),g(x)})})}(Ye);return function Mw(y,f,g){return Rp.apply(this,arguments)}(f,Q,at)})()}_isIframeWebStorageSupported(f,g){throw new Error("Method not implemented.")}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Fa(y){return Cl.apply(this,arguments)}(f)),this.originValidationPromises[g]}attachCallbackListeners(f,g){const{universalLinks:_,handleOpenURL:x,BuildInfo:P}=Pu(),Q=setTimeout((0,h.Z)(function*(){yield Pp(f),g.onEvent(_d())}),500),_e=function(){var St=(0,h.Z)(function*(Et){clearTimeout(Q);const Cn=yield Pp(f);let Pi=null;Cn&&Et?.url&&(Pi=function jh(y,f){var g,_;const x=function lr(y){const f=yd(y),g=f.link?decodeURIComponent(f.link):void 0,_=yd(g).link,x=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return yd(x).link||x||_||g||y}(f);if(x.includes("/__/auth/callback")){const P=yd(x),Q=P.firebaseError?function cy(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(P.firebaseError)):null,_e=null===(_=null===(g=Q?.code)||void 0===g?void 0:g.split("auth/"))||void 0===_?void 0:_[1],Ye=_e?Ee(_e):null;return Ye?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Ye,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:x,postBody:null}}return null}(Cn,Et.url)),g.onEvent(Pi||_d())});return function(Cn){return St.apply(this,arguments)}}();typeof _<"u"&&"function"==typeof _.subscribe&&_.subscribe(null,_e);const Ye=x,at=`${P.packageName.toLowerCase()}://`;Pu().handleOpenURL=function(){var St=(0,h.Z)(function*(Et){if(Et.toLowerCase().startsWith(at)&&_e({url:Et}),"function"==typeof Ye)try{Ye(Et)}catch(Cn){console.error(Cn)}});return function(Et){return St.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=I,this._completeRedirectFn=Nt,this._overrideRedirectResult=fo}_initialize(f){var g=this;return(0,h.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,g,_,x){var P=this;return(0,h.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._openPopup(f,g,_,x)})()}_openRedirect(f,g,_,x){var P=this;return(0,h.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._openRedirect(f,g,_,x)})()}_isIframeWebStorageSupported(f,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,g)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return vc()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Dd(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,h.Z)(function*(){if(f.underlyingResolver)return;const g=yield function Rw(){return Cd.apply(this,arguments)}();f.underlyingResolver=g?f.cordovaResolver:f.browserResolver})()}}function Td(y){return y.unwrap()}function $p(y){return Ec(y)}function Ec(y){const{_tokenResponse:f}=y instanceof L.ZR?y.customData:y;if(!f)return null;if(!(y instanceof L.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return Su.credentialFromResult(y);const g=f.providerId;if(!g||"password"===g)return null;let _;switch(g){case"google.com":_=ca;break;case"facebook.com":_=xo;break;case"github.com":_=au;break;case"twitter.com":_=$r;break;default:const{oauthIdToken:x,oauthAccessToken:P,oauthTokenSecret:Q,pendingToken:_e,nonce:Ye}=f;return P||Q||x||_e?_e?g.startsWith("saml.")?Ts._create(g,_e):Hr._fromParams({providerId:g,signInMethod:g,pendingToken:_e,idToken:x,accessToken:P}):new pi(g).credential({idToken:x,accessToken:P,rawNonce:Ye}):null}return y instanceof L.ZR?_.credentialFromError(y):_.credentialFromResult(y)}function Or(y,f){return f.catch(g=>{throw g instanceof L.ZR&&function $h(y,f){var g,_;const x=null===(g=f.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===(null===(_=f)||void 0===_?void 0:_.code))f.resolver=new hy(y,function Ln(y,f){var g;const _=(0,L.m9)(y),x=f;return j(f.customData.operationType,_,"argument-error"),j(null===(g=x.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,_,"argument-error"),_a._fromError(_,x)}(y,f));else if(x){const P=Ec(f),Q=f;P&&(Q.credential=P,Q.tenantId=x.tenantId||void 0,Q.email=x.email||void 0,Q.phoneNumber=x.phoneNumber||void 0)}}(y,g),g}).then(g=>{const x=g.user;return{operationType:g.operationType,credential:$p(g),additionalUserInfo:ya(g),user:Us.getOrCreate(x)}})}function Bu(y,f){return Gh.apply(this,arguments)}function Gh(){return(Gh=(0,h.Z)(function*(y,f){const g=yield f;return{verificationId:g.verificationId,confirm:_=>Or(y,g.confirm(_))}})).apply(this,arguments)}class hy{constructor(f,g){this.resolver=g,this.auth=function bc(y){return y.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return Or(Td(this.auth),this.resolver.resolveSignIn(f))}}class Us{constructor(f){this._delegate=f,this.multiFactor=function ro(y){const f=(0,L.m9)(y);return mi.has(f)||mi.set(f,ki._fromUser(f)),mi.get(f)}(f)}static getOrCreate(f){return Us.USER_MAP.has(f)||Us.USER_MAP.set(f,new Us(f)),Us.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var g=this;return(0,h.Z)(function*(){return Or(g.auth,Js(g._delegate,f))})()}linkWithPhoneNumber(f,g){var _=this;return(0,h.Z)(function*(){return Bu(_.auth,function $n(y,f,g){return ns.apply(this,arguments)}(_._delegate,f,g))})()}linkWithPopup(f){var g=this;return(0,h.Z)(function*(){return Or(g.auth,function El(y,f,g){return ku.apply(this,arguments)}(g._delegate,f,Wr))})()}linkWithRedirect(f){var g=this;return(0,h.Z)(function*(){return yield Al(kn(g.auth)),function te(y,f,g){return function me(y,f,g){return Ne.apply(this,arguments)}(y,f,g)}(g._delegate,f,Wr)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var g=this;return(0,h.Z)(function*(){return Or(g.auth,Qi(g._delegate,f))})()}reauthenticateWithPhoneNumber(f,g){return Bu(this.auth,function Au(y,f,g){return zr.apply(this,arguments)}(this._delegate,f,g))}reauthenticateWithPopup(f){return Or(this.auth,function Ep(y,f,g){return dc.apply(this,arguments)}(this._delegate,f,Wr))}reauthenticateWithRedirect(f){var g=this;return(0,h.Z)(function*(){return yield Al(kn(g.auth)),function A(y,f,g){return function N(y,f,g){return B.apply(this,arguments)}(y,f,g)}(g._delegate,f,Wr)})()}sendEmailVerification(f){return function mu(y,f){return Vo.apply(this,arguments)}(this._delegate,f)}unlink(f){var g=this;return(0,h.Z)(function*(){return yield function Nr(y,f){return Mo.apply(this,arguments)}(g._delegate,f),g})()}updateEmail(f){return function bu(y,f){return xs((0,L.m9)(y),f,null)}(this._delegate,f)}updatePassword(f){return function Xi(y,f){return xs((0,L.m9)(y),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function bp(y,f){return lc.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function _u(y,f){return wu.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,g){return function yu(y,f,g){return Uo.apply(this,arguments)}(this._delegate,f,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Us.USER_MAP=new WeakMap;const La=j;let zh=(()=>{class y{constructor(g,_){if(this.app=g,_.isInitialized())return this._delegate=_.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:x}=g.options;La(x,"invalid-api-key",{appName:g.name}),La(x,"invalid-api-key",{appName:g.name});const P=typeof window<"u"?Wr:void 0;this._delegate=_.initialize({options:{persistence:Gp(x,g.name),popupRedirectResolver:P}}),this._delegate._updateErrorMap(Ae),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Us.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,_){!function sa(y,f,g){const _=kn(y);j(_._canInitEmulator,_,"emulator-config-failed"),j(/^https?:\/\//.test(f),_,"invalid-emulator-scheme");const x=!!g?.disableWarnings,P=Di(f),{host:Q,port:_e}=function Jn(y){const f=Di(y),g=/(\/\/)?([^?#/]+)/.exec(y.substr(f.length));if(!g)return{host:"",port:null};const _=g[2].split("@").pop()||"",x=/^(\[[^\]]+\])(:|$)/.exec(_);if(x){const P=x[1];return{host:P,port:zi(_.substr(P.length+1))}}{const[P,Q]=_.split(":");return{host:P,port:zi(Q)}}}(f);_.config.emulator={url:`${P}//${Q}${null===_e?"":`:${_e}`}/`},_.settings.appVerificationDisabledForTesting=!0,_.emulatorConfig=Object.freeze({host:Q,port:_e,protocol:P.replace(":",""),options:Object.freeze({disableWarnings:x})}),x||function hs(){function y(){const f=document.createElement("p"),g=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,g,_)}applyActionCode(g){return function ri(y,f){return Ro.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return eo(this._delegate,g)}confirmPasswordReset(g,_){return function No(y,f,g){return Xs.apply(this,arguments)}(this._delegate,g,_)}createUserWithEmailAndPassword(g,_){var x=this;return(0,h.Z)(function*(){return Or(x._delegate,function to(y,f,g){return Rn.apply(this,arguments)}(x._delegate,g,_))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function Fo(y,f){return Lo.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function ii(y,f){return"EMAIL_SIGNIN"===ua.parseLink(f)?.operation}(0,g)}getRedirectResult(){var g=this;return(0,h.Z)(function*(){La(Id(),g._delegate,"operation-not-supported-in-this-environment");const _=yield function $e(y,f){return ct.apply(this,arguments)}(g._delegate,Wr);return _?Or(g._delegate,Promise.resolve(_)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function Vu(y,f){kn(y)._logFramework(f)}(this._delegate,g)}onAuthStateChanged(g,_,x){const{next:P,error:Q,complete:_e}=Ad(g,_,x);return this._delegate.onAuthStateChanged(P,Q,_e)}onIdTokenChanged(g,_,x){const{next:P,error:Q,complete:_e}=Ad(g,_,x);return this._delegate.onIdTokenChanged(P,Q,_e)}sendSignInLinkToEmail(g,_){return function pu(y,f,g){return Ss.apply(this,arguments)}(this._delegate,g,_)}sendPasswordResetEmail(g,_){return function du(y,f,g){return Nn.apply(this,arguments)}(this._delegate,g,_||void 0)}setPersistence(g){var _=this;return(0,h.Z)(function*(){let x;switch(function Hp(y,f){Oi(Object.values(oi).includes(f),y,"invalid-persistence-type"),(0,L.b$)()?Oi(f!==oi.SESSION,y,"unsupported-persistence-type"):(0,L.UG)()?Oi(f===oi.NONE,y,"unsupported-persistence-type"):Ed()?Oi(f===oi.NONE||f===oi.LOCAL&&(0,L.hl)(),y,"unsupported-persistence-type"):Oi(f===oi.NONE||jp(),y,"unsupported-persistence-type")}(_._delegate,g),g){case oi.SESSION:x=I;break;case oi.LOCAL:x=(yield fe(Ca)._isAvailable())?Ca:ys;break;case oi.NONE:x=z;break;default:return De("argument-error",{appName:_._delegate.name})}return _._delegate.setPersistence(x)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return Or(this._delegate,function nc(y){return In.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return Or(this._delegate,Fn(this._delegate,g))}signInWithCustomToken(g){return Or(this._delegate,function lu(y,f){return ko.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,_){return Or(this._delegate,function Mi(y,f,g){return Fn((0,L.m9)(y),Si.credential(f,g))}(this._delegate,g,_))}signInWithEmailLink(g,_){return Or(this._delegate,function ad(y,f,g){return Po.apply(this,arguments)}(this._delegate,g,_))}signInWithPhoneNumber(g,_){return Bu(this._delegate,function mt(y,f,g){return Ni.apply(this,arguments)}(this._delegate,g,_))}signInWithPopup(g){var _=this;return(0,h.Z)(function*(){return La(Id(),_._delegate,"operation-not-supported-in-this-environment"),Or(_._delegate,function cc(y,f,g){return ka.apply(this,arguments)}(_._delegate,g,Wr))})()}signInWithRedirect(g){var _=this;return(0,h.Z)(function*(){return La(Id(),_._delegate,"operation-not-supported-in-this-environment"),yield Al(_._delegate),function Vn(y,f,g){return function Il(y,f,g){return D.apply(this,arguments)}(y,f,g)}(_._delegate,g,Wr)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function Oo(y,f){return fu.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=oi,y})();function Ad(y,f,g){let _=y;"function"!=typeof y&&({next:_,error:f,complete:g}=y);const x=_;return{next:Q=>x(Q&&Us.getOrCreate(Q)),error:f,complete:g}}function Gp(y,f){const g=function Uu(y,f){const g=wc();if(!g)return[];const _=J(ss,y,f);switch(g.getItem(_)){case oi.NONE:return[z];case oi.LOCAL:return[Ca,I];case oi.SESSION:return[I];default:return[]}}(y,f);if(typeof self<"u"&&!g.includes(Ca)&&g.push(Ca),typeof window<"u")for(const _ of[ys,I])g.includes(_)||g.push(_);return g.includes(z)||g.push(z),g}class Sd{constructor(){this.providerId="phone",this._delegate=new Su(Td(F.Z.auth()))}static credential(f,g){return Su.credential(f,g)}verifyPhoneNumber(f,g){return this._delegate.verifyPhoneNumber(f,g)}unwrap(){return this._delegate}}Sd.PHONE_SIGN_IN_METHOD=Su.PHONE_SIGN_IN_METHOD,Sd.PROVIDER_ID=Su.PROVIDER_ID;const xd=j;class Md{constructor(f,g,_=F.Z.app()){var x;xd(null===(x=_.options)||void 0===x?void 0:x.apiKey,"invalid-api-key",{appName:_.name}),this._delegate=new Rr(f,g,_.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function fy(y){y.INTERNAL.registerComponent(new se.wA("auth-compat",f=>{const g=f.getProvider("app-compat").getImmediate(),_=f.getProvider("auth");return new zh(g,_)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Si,FacebookAuthProvider:xo,GithubAuthProvider:au,GoogleAuthProvider:ca,OAuthProvider:pi,SAMLAuthProvider:ti,PhoneAuthProvider:Sd,PhoneMultiFactorGenerator:Pa,RecaptchaVerifier:Md,TwitterAuthProvider:$r,Auth:zh,AuthCredential:pr,Error:L.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.23")}(F.Z)},9751:(ft,le,V)=>{"use strict";V.d(le,{y:()=>re});var h=V(2961),F=V(727),L=V(8822),ae=V(9635),de=V(2416),ne=V(576),se=V(2806);let re=(()=>{class Y{constructor(ke){ke&&(this._subscribe=ke)}lift(ke){const Ae=new Y;return Ae.source=this,Ae.operator=ke,Ae}subscribe(ke,Ae,Qe){const we=function G(Y){return Y&&Y instanceof h.Lv||function H(Y){return Y&&(0,ne.m)(Y.next)&&(0,ne.m)(Y.error)&&(0,ne.m)(Y.complete)}(Y)&&(0,F.Nn)(Y)}(ke)?ke:new h.Hp(ke,Ae,Qe);return(0,se.x)(()=>{const{operator:ge,source:Pe}=this;we.add(ge?ge.call(we,Pe):Pe?this._subscribe(we):this._trySubscribe(we))}),we}_trySubscribe(ke){try{return this._subscribe(ke)}catch(Ae){ke.error(Ae)}}forEach(ke,Ae){return new(Ae=ce(Ae))((Qe,we)=>{const ge=new h.Hp({next:Pe=>{try{ke(Pe)}catch(rt){we(rt),ge.unsubscribe()}},error:we,complete:Qe});this.subscribe(ge)})}_subscribe(ke){var Ae;return null===(Ae=this.source)||void 0===Ae?void 0:Ae.subscribe(ke)}[L.L](){return this}pipe(...ke){return(0,ae.U)(ke)(this)}toPromise(ke){return new(ke=ce(ke))((Ae,Qe)=>{let we;this.subscribe(ge=>we=ge,ge=>Qe(ge),()=>Ae(we))})}}return Y.create=Fe=>new Y(Fe),Y})();function ce(Y){var Fe;return null!==(Fe=Y??de.v.Promise)&&void 0!==Fe?Fe:Promise}},7579:(ft,le,V)=>{"use strict";V.d(le,{x:()=>se});var h=V(9751),F=V(727);const ae=(0,V(3888).d)(ce=>function(){ce(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var de=V(8737),ne=V(2806);let se=(()=>{class ce extends h.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(G){const Y=new re(this,this);return Y.operator=G,Y}_throwIfClosed(){if(this.closed)throw new ae}next(G){(0,ne.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Y of this.currentObservers)Y.next(G)}})}error(G){(0,ne.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=G;const{observers:Y}=this;for(;Y.length;)Y.shift().error(G)}})}complete(){(0,ne.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:G}=this;for(;G.length;)G.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var G;return(null===(G=this.observers)||void 0===G?void 0:G.length)>0}_trySubscribe(G){return this._throwIfClosed(),super._trySubscribe(G)}_subscribe(G){return this._throwIfClosed(),this._checkFinalizedStatuses(G),this._innerSubscribe(G)}_innerSubscribe(G){const{hasError:Y,isStopped:Fe,observers:ke}=this;return Y||Fe?F.Lc:(this.currentObservers=null,ke.push(G),new F.w0(()=>{this.currentObservers=null,(0,de.P)(ke,G)}))}_checkFinalizedStatuses(G){const{hasError:Y,thrownError:Fe,isStopped:ke}=this;Y?G.error(Fe):ke&&G.complete()}asObservable(){const G=new h.y;return G.source=this,G}}return ce.create=(H,G)=>new re(H,G),ce})();class re extends se{constructor(H,G){super(),this.destination=H,this.source=G}next(H){var G,Y;null===(Y=null===(G=this.destination)||void 0===G?void 0:G.next)||void 0===Y||Y.call(G,H)}error(H){var G,Y;null===(Y=null===(G=this.destination)||void 0===G?void 0:G.error)||void 0===Y||Y.call(G,H)}complete(){var H,G;null===(G=null===(H=this.destination)||void 0===H?void 0:H.complete)||void 0===G||G.call(H)}_subscribe(H){var G,Y;return null!==(Y=null===(G=this.source)||void 0===G?void 0:G.subscribe(H))&&void 0!==Y?Y:F.Lc}}},2961:(ft,le,V)=>{"use strict";V.d(le,{Hp:()=>Qe,Lv:()=>Y});var h=V(576),F=V(727),L=V(2416),ae=V(7849);function de(){}const ne=ce("C",void 0,void 0);function ce(De,Ee,Te){return{kind:De,value:Ee,error:Te}}var H=V(3410),G=V(2806);class Y extends F.w0{constructor(Ee){super(),this.isStopped=!1,Ee?(this.destination=Ee,(0,F.Nn)(Ee)&&Ee.add(this)):this.destination=rt}static create(Ee,Te,Ie){return new Qe(Ee,Te,Ie)}next(Ee){this.isStopped?Pe(function re(De){return ce("N",De,void 0)}(Ee),this):this._next(Ee)}error(Ee){this.isStopped?Pe(function se(De){return ce("E",void 0,De)}(Ee),this):(this.isStopped=!0,this._error(Ee))}complete(){this.isStopped?Pe(ne,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ee){this.destination.next(Ee)}_error(Ee){try{this.destination.error(Ee)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Fe=Function.prototype.bind;function ke(De,Ee){return Fe.call(De,Ee)}class Ae{constructor(Ee){this.partialObserver=Ee}next(Ee){const{partialObserver:Te}=this;if(Te.next)try{Te.next(Ee)}catch(Ie){we(Ie)}}error(Ee){const{partialObserver:Te}=this;if(Te.error)try{Te.error(Ee)}catch(Ie){we(Ie)}else we(Ee)}complete(){const{partialObserver:Ee}=this;if(Ee.complete)try{Ee.complete()}catch(Te){we(Te)}}}class Qe extends Y{constructor(Ee,Te,Ie){let ve;if(super(),(0,h.m)(Ee)||!Ee)ve={next:Ee??void 0,error:Te??void 0,complete:Ie??void 0};else{let j;this&&L.v.useDeprecatedNextContext?(j=Object.create(Ee),j.unsubscribe=()=>this.unsubscribe(),ve={next:Ee.next&&ke(Ee.next,j),error:Ee.error&&ke(Ee.error,j),complete:Ee.complete&&ke(Ee.complete,j)}):ve=Ee}this.destination=new Ae(ve)}}function we(De){L.v.useDeprecatedSynchronousErrorHandling?(0,G.O)(De):(0,ae.h)(De)}function Pe(De,Ee){const{onStoppedNotification:Te}=L.v;Te&&H.z.setTimeout(()=>Te(De,Ee))}const rt={closed:!0,next:de,error:function ge(De){throw De},complete:de}},727:(ft,le,V)=>{"use strict";V.d(le,{Lc:()=>ne,w0:()=>de,Nn:()=>se});var h=V(576);const L=(0,V(3888).d)(ce=>function(G){ce(this),this.message=G?`${G.length} errors occurred during unsubscription:\n${G.map((Y,Fe)=>`${Fe+1}) ${Y.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=G});var ae=V(8737);class de{constructor(H){this.initialTeardown=H,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let H;if(!this.closed){this.closed=!0;const{_parentage:G}=this;if(G)if(this._parentage=null,Array.isArray(G))for(const ke of G)ke.remove(this);else G.remove(this);const{initialTeardown:Y}=this;if((0,h.m)(Y))try{Y()}catch(ke){H=ke instanceof L?ke.errors:[ke]}const{_finalizers:Fe}=this;if(Fe){this._finalizers=null;for(const ke of Fe)try{re(ke)}catch(Ae){H=H??[],Ae instanceof L?H=[...H,...Ae.errors]:H.push(Ae)}}if(H)throw new L(H)}}add(H){var G;if(H&&H!==this)if(this.closed)re(H);else{if(H instanceof de){if(H.closed||H._hasParent(this))return;H._addParent(this)}(this._finalizers=null!==(G=this._finalizers)&&void 0!==G?G:[]).push(H)}}_hasParent(H){const{_parentage:G}=this;return G===H||Array.isArray(G)&&G.includes(H)}_addParent(H){const{_parentage:G}=this;this._parentage=Array.isArray(G)?(G.push(H),G):G?[G,H]:H}_removeParent(H){const{_parentage:G}=this;G===H?this._parentage=null:Array.isArray(G)&&(0,ae.P)(G,H)}remove(H){const{_finalizers:G}=this;G&&(0,ae.P)(G,H),H instanceof de&&H._removeParent(this)}}de.EMPTY=(()=>{const ce=new de;return ce.closed=!0,ce})();const ne=de.EMPTY;function se(ce){return ce instanceof de||ce&&"closed"in ce&&(0,h.m)(ce.remove)&&(0,h.m)(ce.add)&&(0,h.m)(ce.unsubscribe)}function re(ce){(0,h.m)(ce)?ce():ce.unsubscribe()}},2416:(ft,le,V)=>{"use strict";V.d(le,{v:()=>h});const h={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ft,le,V)=>{"use strict";V.d(le,{E:()=>F});const F=new(V(9751).y)(de=>de.complete())},8996:(ft,le,V)=>{"use strict";V.d(le,{D:()=>Ee});var h=V(8421),F=V(5363),L=V(9468),ne=V(9751),re=V(2202),ce=V(576),H=V(9672);function Y(Te,Ie){if(!Te)throw new Error("Iterable cannot be null");return new ne.y(ve=>{(0,H.f)(ve,Ie,()=>{const j=Te[Symbol.asyncIterator]();(0,H.f)(ve,Ie,()=>{j.next().then(ee=>{ee.done?ve.complete():ve.next(ee.value)})},0,!0)})})}var Fe=V(3670),ke=V(8239),Ae=V(1144),Qe=V(6495),we=V(2206),ge=V(4532),Pe=V(3260);function Ee(Te,Ie){return Ie?function De(Te,Ie){if(null!=Te){if((0,Fe.c)(Te))return function ae(Te,Ie){return(0,h.Xf)(Te).pipe((0,L.R)(Ie),(0,F.Q)(Ie))}(Te,Ie);if((0,Ae.z)(Te))return function se(Te,Ie){return new ne.y(ve=>{let j=0;return Ie.schedule(function(){j===Te.length?ve.complete():(ve.next(Te[j++]),ve.closed||this.schedule())})})}(Te,Ie);if((0,ke.t)(Te))return function de(Te,Ie){return(0,h.Xf)(Te).pipe((0,L.R)(Ie),(0,F.Q)(Ie))}(Te,Ie);if((0,we.D)(Te))return Y(Te,Ie);if((0,Qe.T)(Te))return function G(Te,Ie){return new ne.y(ve=>{let j;return(0,H.f)(ve,Ie,()=>{j=Te[re.h](),(0,H.f)(ve,Ie,()=>{let ee,W;try{({value:ee,done:W}=j.next())}catch(ie){return void ve.error(ie)}W?ve.complete():ve.next(ee)},0,!0)}),()=>(0,ce.m)(j?.return)&&j.return()})}(Te,Ie);if((0,Pe.L)(Te))return function rt(Te,Ie){return Y((0,Pe.Q)(Te),Ie)}(Te,Ie)}throw(0,ge.z)(Te)}(Te,Ie):(0,h.Xf)(Te)}},8421:(ft,le,V)=>{"use strict";V.d(le,{Xf:()=>Fe});var h=V(655),F=V(1144),L=V(8239),ae=V(9751),de=V(3670),ne=V(2206),se=V(4532),re=V(6495),ce=V(3260),H=V(576),G=V(7849),Y=V(8822);function Fe(De){if(De instanceof ae.y)return De;if(null!=De){if((0,de.c)(De))return function ke(De){return new ae.y(Ee=>{const Te=De[Y.L]();if((0,H.m)(Te.subscribe))return Te.subscribe(Ee);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(De);if((0,F.z)(De))return function Ae(De){return new ae.y(Ee=>{for(let Te=0;Te<De.length&&!Ee.closed;Te++)Ee.next(De[Te]);Ee.complete()})}(De);if((0,L.t)(De))return function Qe(De){return new ae.y(Ee=>{De.then(Te=>{Ee.closed||(Ee.next(Te),Ee.complete())},Te=>Ee.error(Te)).then(null,G.h)})}(De);if((0,ne.D)(De))return ge(De);if((0,re.T)(De))return function we(De){return new ae.y(Ee=>{for(const Te of De)if(Ee.next(Te),Ee.closed)return;Ee.complete()})}(De);if((0,ce.L)(De))return function Pe(De){return ge((0,ce.Q)(De))}(De)}throw(0,se.z)(De)}function ge(De){return new ae.y(Ee=>{(function rt(De,Ee){var Te,Ie,ve,j;return(0,h.mG)(this,void 0,void 0,function*(){try{for(Te=(0,h.KL)(De);!(Ie=yield Te.next()).done;)if(Ee.next(Ie.value),Ee.closed)return}catch(ee){ve={error:ee}}finally{try{Ie&&!Ie.done&&(j=Te.return)&&(yield j.call(Te))}finally{if(ve)throw ve.error}}Ee.complete()})})(De,Ee).catch(Te=>Ee.error(Te))})}},6451:(ft,le,V)=>{"use strict";V.d(le,{T:()=>ne});var h=V(8189),F=V(8421),L=V(515),ae=V(7669),de=V(8996);function ne(...se){const re=(0,ae.yG)(se),ce=(0,ae._6)(se,1/0),H=se;return H.length?1===H.length?(0,F.Xf)(H[0]):(0,h.J)(ce)((0,de.D)(H,re)):L.E}},5403:(ft,le,V)=>{"use strict";V.d(le,{x:()=>F});var h=V(2961);function F(ae,de,ne,se,re){return new L(ae,de,ne,se,re)}class L extends h.Lv{constructor(de,ne,se,re,ce,H){super(de),this.onFinalize=ce,this.shouldUnsubscribe=H,this._next=ne?function(G){try{ne(G)}catch(Y){de.error(Y)}}:super._next,this._error=re?function(G){try{re(G)}catch(Y){de.error(Y)}finally{this.unsubscribe()}}:super._error,this._complete=se?function(){try{se()}catch(G){de.error(G)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var de;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ne}=this;super.unsubscribe(),!ne&&(null===(de=this.onFinalize)||void 0===de||de.call(this))}}}},4004:(ft,le,V)=>{"use strict";V.d(le,{U:()=>L});var h=V(4482),F=V(5403);function L(ae,de){return(0,h.e)((ne,se)=>{let re=0;ne.subscribe((0,F.x)(se,ce=>{se.next(ae.call(de,ce,re++))}))})}},8189:(ft,le,V)=>{"use strict";V.d(le,{J:()=>L});var h=V(5577),F=V(4671);function L(ae=1/0){return(0,h.z)(F.y,ae)}},5577:(ft,le,V)=>{"use strict";V.d(le,{z:()=>re});var h=V(4004),F=V(8421),L=V(4482),ae=V(9672),de=V(5403),se=V(576);function re(ce,H,G=1/0){return(0,se.m)(H)?re((Y,Fe)=>(0,h.U)((ke,Ae)=>H(Y,ke,Fe,Ae))((0,F.Xf)(ce(Y,Fe))),G):("number"==typeof H&&(G=H),(0,L.e)((Y,Fe)=>function ne(ce,H,G,Y,Fe,ke,Ae,Qe){const we=[];let ge=0,Pe=0,rt=!1;const De=()=>{rt&&!we.length&&!ge&&H.complete()},Ee=Ie=>ge<Y?Te(Ie):we.push(Ie),Te=Ie=>{ke&&H.next(Ie),ge++;let ve=!1;(0,F.Xf)(G(Ie,Pe++)).subscribe((0,de.x)(H,j=>{Fe?.(j),ke?Ee(j):H.next(j)},()=>{ve=!0},void 0,()=>{if(ve)try{for(ge--;we.length&&ge<Y;){const j=we.shift();Ae?(0,ae.f)(H,Ae,()=>Te(j)):Te(j)}De()}catch(j){H.error(j)}}))};return ce.subscribe((0,de.x)(H,Ee,()=>{rt=!0,De()})),()=>{Qe?.()}}(Y,Fe,ce,G)))}},5363:(ft,le,V)=>{"use strict";V.d(le,{Q:()=>ae});var h=V(9672),F=V(4482),L=V(5403);function ae(de,ne=0){return(0,F.e)((se,re)=>{se.subscribe((0,L.x)(re,ce=>(0,h.f)(re,de,()=>re.next(ce),ne),()=>(0,h.f)(re,de,()=>re.complete(),ne),ce=>(0,h.f)(re,de,()=>re.error(ce),ne)))})}},3099:(ft,le,V)=>{"use strict";V.d(le,{B:()=>de});var h=V(8421),F=V(7579),L=V(2961),ae=V(4482);function de(se={}){const{connector:re=(()=>new F.x),resetOnError:ce=!0,resetOnComplete:H=!0,resetOnRefCountZero:G=!0}=se;return Y=>{let Fe,ke,Ae,Qe=0,we=!1,ge=!1;const Pe=()=>{ke?.unsubscribe(),ke=void 0},rt=()=>{Pe(),Fe=Ae=void 0,we=ge=!1},De=()=>{const Ee=Fe;rt(),Ee?.unsubscribe()};return(0,ae.e)((Ee,Te)=>{Qe++,!ge&&!we&&Pe();const Ie=Ae=Ae??re();Te.add(()=>{Qe--,0===Qe&&!ge&&!we&&(ke=ne(De,G))}),Ie.subscribe(Te),!Fe&&Qe>0&&(Fe=new L.Hp({next:ve=>Ie.next(ve),error:ve=>{ge=!0,Pe(),ke=ne(rt,ce,ve),Ie.error(ve)},complete:()=>{we=!0,Pe(),ke=ne(rt,H),Ie.complete()}}),(0,h.Xf)(Ee).subscribe(Fe))})(Y)}}function ne(se,re,...ce){if(!0===re)return void se();if(!1===re)return;const H=new L.Hp({next:()=>{H.unsubscribe(),se()}});return re(...ce).subscribe(H)}},9468:(ft,le,V)=>{"use strict";V.d(le,{R:()=>F});var h=V(4482);function F(L,ae=0){return(0,h.e)((de,ne)=>{ne.add(L.schedule(()=>de.subscribe(ne),ae))})}},8505:(ft,le,V)=>{"use strict";V.d(le,{b:()=>de});var h=V(576),F=V(4482),L=V(5403),ae=V(4671);function de(ne,se,re){const ce=(0,h.m)(ne)||se||re?{next:ne,error:se,complete:re}:ne;return ce?(0,F.e)((H,G)=>{var Y;null===(Y=ce.subscribe)||void 0===Y||Y.call(ce);let Fe=!0;H.subscribe((0,L.x)(G,ke=>{var Ae;null===(Ae=ce.next)||void 0===Ae||Ae.call(ce,ke),G.next(ke)},()=>{var ke;Fe=!1,null===(ke=ce.complete)||void 0===ke||ke.call(ce),G.complete()},ke=>{var Ae;Fe=!1,null===(Ae=ce.error)||void 0===Ae||Ae.call(ce,ke),G.error(ke)},()=>{var ke,Ae;Fe&&(null===(ke=ce.unsubscribe)||void 0===ke||ke.call(ce)),null===(Ae=ce.finalize)||void 0===Ae||Ae.call(ce)}))}):ae.y}},4408:(ft,le,V)=>{"use strict";V.d(le,{o:()=>de});var h=V(727);class F extends h.w0{constructor(se,re){super()}schedule(se,re=0){return this}}const L={setInterval(ne,se,...re){const{delegate:ce}=L;return ce?.setInterval?ce.setInterval(ne,se,...re):setInterval(ne,se,...re)},clearInterval(ne){const{delegate:se}=L;return(se?.clearInterval||clearInterval)(ne)},delegate:void 0};var ae=V(8737);class de extends F{constructor(se,re){super(se,re),this.scheduler=se,this.work=re,this.pending=!1}schedule(se,re=0){var ce;if(this.closed)return this;this.state=se;const H=this.id,G=this.scheduler;return null!=H&&(this.id=this.recycleAsyncId(G,H,re)),this.pending=!0,this.delay=re,this.id=null!==(ce=this.id)&&void 0!==ce?ce:this.requestAsyncId(G,this.id,re),this}requestAsyncId(se,re,ce=0){return L.setInterval(se.flush.bind(se,this),ce)}recycleAsyncId(se,re,ce=0){if(null!=ce&&this.delay===ce&&!1===this.pending)return re;null!=re&&L.clearInterval(re)}execute(se,re){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ce=this._execute(se,re);if(ce)return ce;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(se,re){let H,ce=!1;try{this.work(se)}catch(G){ce=!0,H=G||new Error("Scheduled action threw falsy error")}if(ce)return this.unsubscribe(),H}unsubscribe(){if(!this.closed){const{id:se,scheduler:re}=this,{actions:ce}=re;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ae.P)(ce,this),null!=se&&(this.id=this.recycleAsyncId(re,se,null)),this.delay=null,super.unsubscribe()}}}},7565:(ft,le,V)=>{"use strict";V.d(le,{v:()=>L});var h=V(6063);class F{constructor(de,ne=F.now){this.schedulerActionCtor=de,this.now=ne}schedule(de,ne=0,se){return new this.schedulerActionCtor(this,de).schedule(se,ne)}}F.now=h.l.now;class L extends F{constructor(de,ne=F.now){super(de,ne),this.actions=[],this._active=!1}flush(de){const{actions:ne}=this;if(this._active)return void ne.push(de);let se;this._active=!0;do{if(se=de.execute(de.state,de.delay))break}while(de=ne.shift());if(this._active=!1,se){for(;de=ne.shift();)de.unsubscribe();throw se}}}},4986:(ft,le,V)=>{"use strict";V.d(le,{z:()=>L});var h=V(4408);const L=new(V(7565).v)(h.o)},6063:(ft,le,V)=>{"use strict";V.d(le,{l:()=>h});const h={now:()=>(h.delegate||Date).now(),delegate:void 0}},3410:(ft,le,V)=>{"use strict";V.d(le,{z:()=>h});const h={setTimeout(F,L,...ae){const{delegate:de}=h;return de?.setTimeout?de.setTimeout(F,L,...ae):setTimeout(F,L,...ae)},clearTimeout(F){const{delegate:L}=h;return(L?.clearTimeout||clearTimeout)(F)},delegate:void 0}},2202:(ft,le,V)=>{"use strict";V.d(le,{h:()=>F});const F=function h(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ft,le,V)=>{"use strict";V.d(le,{L:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(ft,le,V)=>{"use strict";V.d(le,{_6:()=>ne,jO:()=>ae,yG:()=>de});var h=V(576);function L(se){return se[se.length-1]}function ae(se){return(0,h.m)(L(se))?se.pop():void 0}function de(se){return function F(se){return se&&(0,h.m)(se.schedule)}(L(se))?se.pop():void 0}function ne(se,re){return"number"==typeof L(se)?se.pop():re}},8737:(ft,le,V)=>{"use strict";function h(F,L){if(F){const ae=F.indexOf(L);0<=ae&&F.splice(ae,1)}}V.d(le,{P:()=>h})},3888:(ft,le,V)=>{"use strict";function h(F){const ae=F(de=>{Error.call(de),de.stack=(new Error).stack});return ae.prototype=Object.create(Error.prototype),ae.prototype.constructor=ae,ae}V.d(le,{d:()=>h})},2806:(ft,le,V)=>{"use strict";V.d(le,{O:()=>ae,x:()=>L});var h=V(2416);let F=null;function L(de){if(h.v.useDeprecatedSynchronousErrorHandling){const ne=!F;if(ne&&(F={errorThrown:!1,error:null}),de(),ne){const{errorThrown:se,error:re}=F;if(F=null,se)throw re}}else de()}function ae(de){h.v.useDeprecatedSynchronousErrorHandling&&F&&(F.errorThrown=!0,F.error=de)}},9672:(ft,le,V)=>{"use strict";function h(F,L,ae,de=0,ne=!1){const se=L.schedule(function(){ae(),ne?F.add(this.schedule(null,de)):this.unsubscribe()},de);if(F.add(se),!ne)return se}V.d(le,{f:()=>h})},4671:(ft,le,V)=>{"use strict";function h(F){return F}V.d(le,{y:()=>h})},1144:(ft,le,V)=>{"use strict";V.d(le,{z:()=>h});const h=F=>F&&"number"==typeof F.length&&"function"!=typeof F},2206:(ft,le,V)=>{"use strict";V.d(le,{D:()=>F});var h=V(576);function F(L){return Symbol.asyncIterator&&(0,h.m)(L?.[Symbol.asyncIterator])}},576:(ft,le,V)=>{"use strict";function h(F){return"function"==typeof F}V.d(le,{m:()=>h})},3670:(ft,le,V)=>{"use strict";V.d(le,{c:()=>L});var h=V(8822),F=V(576);function L(ae){return(0,F.m)(ae[h.L])}},6495:(ft,le,V)=>{"use strict";V.d(le,{T:()=>L});var h=V(2202),F=V(576);function L(ae){return(0,F.m)(ae?.[h.h])}},8239:(ft,le,V)=>{"use strict";V.d(le,{t:()=>F});var h=V(576);function F(L){return(0,h.m)(L?.then)}},3260:(ft,le,V)=>{"use strict";V.d(le,{L:()=>ae,Q:()=>L});var h=V(655),F=V(576);function L(de){return(0,h.FC)(this,arguments,function*(){const se=de.getReader();try{for(;;){const{value:re,done:ce}=yield(0,h.qq)(se.read());if(ce)return yield(0,h.qq)(void 0);yield yield(0,h.qq)(re)}}finally{se.releaseLock()}})}function ae(de){return(0,F.m)(de?.getReader)}},4482:(ft,le,V)=>{"use strict";V.d(le,{A:()=>F,e:()=>L});var h=V(576);function F(ae){return(0,h.m)(ae?.lift)}function L(ae){return de=>{if(F(de))return de.lift(function(ne){try{return ae(ne,this)}catch(se){this.error(se)}});throw new TypeError("Unable to lift unknown Observable type")}}},9635:(ft,le,V)=>{"use strict";V.d(le,{U:()=>L,z:()=>F});var h=V(4671);function F(...ae){return L(ae)}function L(ae){return 0===ae.length?h.y:1===ae.length?ae[0]:function(ne){return ae.reduce((se,re)=>re(se),ne)}}},7849:(ft,le,V)=>{"use strict";V.d(le,{h:()=>L});var h=V(2416),F=V(3410);function L(ae){F.z.setTimeout(()=>{const{onUnhandledError:de}=h.v;if(!de)throw ae;de(ae)})}},4532:(ft,le,V)=>{"use strict";function h(F){return new TypeError(`You provided ${null!==F&&"object"==typeof F?"an invalid object":`'${F}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}V.d(le,{z:()=>h})},5226:function(ft){ft.exports=function(){"use strict";var le={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const h=E=>{const I={};for(const k in E)I[E[k]]="swal2-"+E[k];return I},F=h(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","no-war"]),L=h(["success","warning","info","question","error"]),ae="SweetAlert2:",ne=E=>E.charAt(0).toUpperCase()+E.slice(1),se=E=>{console.warn("".concat(ae," ").concat("object"==typeof E?E.join(" "):E))},re=E=>{console.error("".concat(ae," ").concat(E))},ce=[],G=(E,I)=>{(E=>{ce.includes(E)||(ce.push(E),se(E))})('"'.concat(E,'" is deprecated and will be removed in the next major release. Please use "').concat(I,'" instead.'))},Y=E=>"function"==typeof E?E():E,Fe=E=>E&&"function"==typeof E.toPromise,ke=E=>Fe(E)?E.toPromise():Promise.resolve(E),Ae=E=>E&&Promise.resolve(E)===E,Qe=()=>document.body.querySelector(".".concat(F.container)),we=E=>{const I=Qe();return I?I.querySelector(E):null},ge=E=>we(".".concat(E)),Pe=()=>ge(F.popup),rt=()=>ge(F.icon),Ee=()=>ge(F.title),Te=()=>ge(F["html-container"]),Ie=()=>ge(F.image),ve=()=>ge(F["progress-steps"]),j=()=>ge(F["validation-message"]),ee=()=>we(".".concat(F.actions," .").concat(F.confirm)),W=()=>we(".".concat(F.actions," .").concat(F.deny)),fe=()=>we(".".concat(F.loader)),ue=()=>we(".".concat(F.actions," .").concat(F.cancel)),Ve=()=>ge(F.actions),Be=()=>ge(F.footer),lt=()=>ge(F["timer-progress-bar"]),qt=()=>ge(F.close),We=()=>{const E=Array.from(Pe().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((k,$)=>{const Ce=parseInt(k.getAttribute("tabindex")),it=parseInt($.getAttribute("tabindex"));return Ce>it?1:Ce<it?-1:0}),I=Array.from(Pe().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(k=>"-1"!==k.getAttribute("tabindex"));return(E=>{const I=[];for(let k=0;k<E.length;k++)-1===I.indexOf(E[k])&&I.push(E[k]);return I})(E.concat(I)).filter(k=>hn(k))},jt=()=>pt(document.body,F.shown)&&!pt(document.body,F["toast-shown"])&&!pt(document.body,F["no-backdrop"]),Xt=()=>Pe()&&pt(Pe(),F.toast),yt={previousBodyPadding:null},Ht=(E,I)=>{if(E.textContent="",I){const $=(new DOMParser).parseFromString(I,"text/html");Array.from($.querySelector("head").childNodes).forEach(Ce=>{E.appendChild(Ce)}),Array.from($.querySelector("body").childNodes).forEach(Ce=>{Ce instanceof HTMLVideoElement||Ce instanceof HTMLAudioElement?E.appendChild(Ce.cloneNode(!0)):E.appendChild(Ce)})}},pt=(E,I)=>{if(!I)return!1;const k=I.split(/\s+/);for(let $=0;$<k.length;$++)if(!E.classList.contains(k[$]))return!1;return!0},dn=(E,I,k)=>{if(((E,I)=>{Array.from(E.classList).forEach(k=>{!Object.values(F).includes(k)&&!Object.values(L).includes(k)&&!Object.values(I.showClass).includes(k)&&E.classList.remove(k)})})(E,I),I.customClass&&I.customClass[k]){if("string"!=typeof I.customClass[k]&&!I.customClass[k].forEach)return void se("Invalid type of customClass.".concat(k,'! Expected string or iterable object, got "').concat(typeof I.customClass[k],'"'));Tt(E,I.customClass[k])}},nn=(E,I)=>{if(!I)return null;switch(I){case"select":case"textarea":case"file":return E.querySelector(".".concat(F.popup," > .").concat(F[I]));case"checkbox":return E.querySelector(".".concat(F.popup," > .").concat(F.checkbox," input"));case"radio":return E.querySelector(".".concat(F.popup," > .").concat(F.radio," input:checked"))||E.querySelector(".".concat(F.popup," > .").concat(F.radio," input:first-child"));case"range":return E.querySelector(".".concat(F.popup," > .").concat(F.range," input"));default:return E.querySelector(".".concat(F.popup," > .").concat(F.input))}},Ft=E=>{if(E.focus(),"file"!==E.type){const I=E.value;E.value="",E.value=I}},gn=(E,I,k)=>{!E||!I||("string"==typeof I&&(I=I.split(/\s+/).filter(Boolean)),I.forEach($=>{Array.isArray(E)?E.forEach(Ce=>{k?Ce.classList.add($):Ce.classList.remove($)}):k?E.classList.add($):E.classList.remove($)}))},Tt=(E,I)=>{gn(E,I,!0)},Mn=(E,I)=>{gn(E,I,!1)},Qn=(E,I)=>{const k=Array.from(E.children);for(let $=0;$<k.length;$++){const Ce=k[$];if(Ce instanceof HTMLElement&&pt(Ce,I))return Ce}},hr=(E,I,k)=>{k==="".concat(parseInt(k))&&(k=parseInt(k)),k||0===parseInt(k)?E.style[I]="number"==typeof k?"".concat(k,"px"):k:E.style.removeProperty(I)},Un=function(E){E.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex"},Ke=E=>{E.style.display="none"},Er=(E,I,k,$)=>{const Ce=E.querySelector(I);Ce&&(Ce.style[k]=$)},di=function(E,I){I?Un(E,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):Ke(E)},hn=E=>!(!E||!(E.offsetWidth||E.offsetHeight||E.getClientRects().length)),hi=E=>E.scrollHeight>E.clientHeight,Bn=E=>{const I=window.getComputedStyle(E),k=parseFloat(I.getPropertyValue("animation-duration")||"0"),$=parseFloat(I.getPropertyValue("transition-duration")||"0");return k>0||$>0},jn=function(E){let I=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const k=lt();hn(k)&&(I&&(k.style.transition="none",k.style.width="100%"),setTimeout(()=>{k.style.transition="width ".concat(E/1e3,"s linear"),k.style.width="0%"},10))},He={},Ir=E=>new Promise(I=>{if(!E)return I();const k=window.scrollX,$=window.scrollY;He.restoreFocusTimeout=setTimeout(()=>{He.previousActiveElement instanceof HTMLElement?(He.previousActiveElement.focus(),He.previousActiveElement=null):document.body&&document.body.focus(),I()},100),window.scrollTo(k,$)}),Kn=()=>typeof window>"u"||typeof document>"u",jr='\n <div aria-labelledby="'.concat(F.title,'" aria-describedby="').concat(F["html-container"],'" class="').concat(F.popup,'" tabindex="-1">\n   <button type="button" class="').concat(F.close,'"></button>\n   <ul class="').concat(F["progress-steps"],'"></ul>\n   <div class="').concat(F.icon,'"></div>\n   <img class="').concat(F.image,'" />\n   <h2 class="').concat(F.title,'" id="').concat(F.title,'"></h2>\n   <div class="').concat(F["html-container"],'" id="').concat(F["html-container"],'"></div>\n   <input class="').concat(F.input,'" />\n   <input type="file" class="').concat(F.file,'" />\n   <div class="').concat(F.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(F.select,'"></select>\n   <div class="').concat(F.radio,'"></div>\n   <label for="').concat(F.checkbox,'" class="').concat(F.checkbox,'">\n     <input type="checkbox" />\n     <span class="').concat(F.label,'"></span>\n   </label>\n   <textarea class="').concat(F.textarea,'"></textarea>\n   <div class="').concat(F["validation-message"],'" id="').concat(F["validation-message"],'"></div>\n   <div class="').concat(F.actions,'">\n     <div class="').concat(F.loader,'"></div>\n     <button type="button" class="').concat(F.confirm,'"></button>\n     <button type="button" class="').concat(F.deny,'"></button>\n     <button type="button" class="').concat(F.cancel,'"></button>\n   </div>\n   <div class="').concat(F.footer,'"></div>\n   <div class="').concat(F["timer-progress-bar-container"],'">\n     <div class="').concat(F["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),Fr=()=>{He.currentInstance.resetValidationMessage()},Lr=E=>{const I=(()=>{const E=Qe();return!!E&&(E.remove(),Mn([document.documentElement,document.body],[F["no-backdrop"],F["toast-shown"],F["has-column"]]),!0)})();if(Kn())return void re("SweetAlert2 requires document to initialize");const k=document.createElement("div");k.className=F.container,I&&Tt(k,F["no-transition"]),Ht(k,jr);const $=(E=>"string"==typeof E?document.querySelector(E):E)(E.target);$.appendChild(k),(E=>{const I=Pe();I.setAttribute("role",E.toast?"alert":"dialog"),I.setAttribute("aria-live",E.toast?"polite":"assertive"),E.toast||I.setAttribute("aria-modal","true")})(E),(E=>{"rtl"===window.getComputedStyle(E).direction&&Tt(Qe(),F.rtl)})($),(()=>{const E=Pe(),I=Qn(E,F.input),k=Qn(E,F.file),$=E.querySelector(".".concat(F.range," input")),Ce=E.querySelector(".".concat(F.range," output")),it=Qn(E,F.select),zt=E.querySelector(".".concat(F.checkbox," input")),Yn=Qn(E,F.textarea);I.oninput=Fr,k.onchange=Fr,it.onchange=Fr,zt.onchange=Fr,Yn.oninput=Fr,$.oninput=()=>{Fr(),Ce.value=$.value},$.onchange=()=>{Fr(),Ce.value=$.value}})()},st=(E,I)=>{E instanceof HTMLElement?I.appendChild(E):"object"==typeof E?Re(E,I):E&&Ht(I,E)},Re=(E,I)=>{E.jquery?ot(I,E):Ht(I,E.toString())},ot=(E,I)=>{if(E.textContent="",0 in I)for(let k=0;k in I;k++)E.appendChild(I[k].cloneNode(!0));else E.appendChild(I.cloneNode(!0))},It=(()=>{if(Kn())return!1;const E=document.createElement("div"),I={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const k in I)if(Object.prototype.hasOwnProperty.call(I,k)&&typeof E.style[k]<"u")return I[k];return!1})(),$t=(E,I)=>{const k=Ve(),$=fe();I.showConfirmButton||I.showDenyButton||I.showCancelButton?Un(k):Ke(k),dn(k,I,"actions"),function Z(E,I,k){const $=ee(),Ce=W(),it=ue();J($,"confirm",k),J(Ce,"deny",k),J(it,"cancel",k),function z(E,I,k,$){$.buttonsStyling?(Tt([E,I,k],F.styled),$.confirmButtonColor&&(E.style.backgroundColor=$.confirmButtonColor,Tt(E,F["default-outline"])),$.denyButtonColor&&(I.style.backgroundColor=$.denyButtonColor,Tt(I,F["default-outline"])),$.cancelButtonColor&&(k.style.backgroundColor=$.cancelButtonColor,Tt(k,F["default-outline"]))):Mn([E,I,k],F.styled)}($,Ce,it,k),k.reverseButtons&&(k.toast?(E.insertBefore(it,$),E.insertBefore(Ce,$)):(E.insertBefore(it,I),E.insertBefore(Ce,I),E.insertBefore($,I)))}(k,$,I),Ht($,I.loaderHtml),dn($,I,"loader")};function J(E,I,k){di(E,k["show".concat(ne(I),"Button")],"inline-block"),Ht(E,k["".concat(I,"ButtonText")]),E.setAttribute("aria-label",k["".concat(I,"ButtonAriaLabel")]),E.className=F[I],dn(E,k,"".concat(I,"Button")),Tt(E,k["".concat(I,"ButtonClass")])}const oe=(E,I)=>{const k=Qe();!k||(function Xe(E,I){"string"==typeof I?E.style.background=I:I||Tt([document.documentElement,document.body],F["no-backdrop"])}(k,I.backdrop),function vt(E,I){I in F?Tt(E,F[I]):(se('The "position" parameter is not valid, defaulting to "center"'),Tt(E,F.center))}(k,I.position),function ln(E,I){if(I&&"string"==typeof I){const k="grow-".concat(I);k in F&&Tt(E,F[k])}}(k,I.grow),dn(k,I,"container"))};const En=["input","file","range","select","radio","checkbox","textarea"],Ze=E=>{if(!Hn[E.input])return void re('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(E.input,'"'));const I=cs(E.input),k=Hn[E.input](I,E);Un(I),setTimeout(()=>{Ft(k)})},Wt=(E,I)=>{const k=nn(Pe(),E);if(k){(E=>{for(let I=0;I<E.attributes.length;I++){const k=E.attributes[I].name;["type","value","style"].includes(k)||E.removeAttribute(k)}})(k);for(const $ in I)k.setAttribute($,I[$])}},fr=E=>{const I=cs(E.input);"object"==typeof E.customClass&&Tt(I,E.customClass.input)},Mr=(E,I)=>{(!E.placeholder||I.inputPlaceholder)&&(E.placeholder=I.inputPlaceholder)},Pn=(E,I,k)=>{if(k.inputLabel){E.id=F.input;const $=document.createElement("label"),Ce=F["input-label"];$.setAttribute("for",E.id),$.className=Ce,"object"==typeof k.customClass&&Tt($,k.customClass.inputLabel),$.innerText=k.inputLabel,I.insertAdjacentElement("beforebegin",$)}},cs=E=>Qn(Pe(),F[E]||F.input),wn=(E,I)=>{["string","number"].includes(typeof I)?E.value="".concat(I):Ae(I)||se('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof I,'"'))},Hn={};Hn.text=Hn.email=Hn.password=Hn.number=Hn.tel=Hn.url=(E,I)=>(wn(E,I.inputValue),Pn(E,E,I),Mr(E,I),E.type=I.input,E),Hn.file=(E,I)=>(Pn(E,E,I),Mr(E,I),E),Hn.range=(E,I)=>{const k=E.querySelector("input"),$=E.querySelector("output");return wn(k,I.inputValue),k.type=I.input,wn($,I.inputValue),Pn(k,E,I),E},Hn.select=(E,I)=>{if(E.textContent="",I.inputPlaceholder){const k=document.createElement("option");Ht(k,I.inputPlaceholder),k.value="",k.disabled=!0,k.selected=!0,E.appendChild(k)}return Pn(E,E,I),E},Hn.radio=E=>(E.textContent="",E),Hn.checkbox=(E,I)=>{const k=nn(Pe(),"checkbox");k.value="1",k.id=F.checkbox,k.checked=Boolean(I.inputValue);const $=E.querySelector("span");return Ht($,I.inputPlaceholder),k},Hn.textarea=(E,I)=>{wn(E,I.inputValue),Mr(E,I),Pn(E,E,I);return setTimeout(()=>{if("MutationObserver"in window){const $=parseInt(window.getComputedStyle(Pe()).width);new MutationObserver(()=>{const it=E.offsetWidth+($=>parseInt(window.getComputedStyle($).marginLeft)+parseInt(window.getComputedStyle($).marginRight))(E);Pe().style.width=it>$?"".concat(it,"px"):null}).observe(E,{attributes:!0,attributeFilter:["style"]})}}),E};const Ks=(E,I)=>{const k=Te();dn(k,I,"htmlContainer"),I.html?(st(I.html,k),Un(k,"block")):I.text?(k.textContent=I.text,Un(k,"block")):Ke(k),((E,I)=>{const k=Pe(),$=le.innerParams.get(E),Ce=!$||I.input!==$.input;En.forEach(it=>{const zt=Qn(k,F[it]);Wt(it,I.inputAttributes),zt.className=F[it],Ce&&Ke(zt)}),I.input&&(Ce&&Ze(I),fr(I))})(E,I)},ds=(E,I)=>{for(const k in L)I.icon!==k&&Mn(E,L[k]);Tt(E,L[I.icon]),hs(E,I),sa(),dn(E,I,"icon")},sa=()=>{const E=Pe(),I=window.getComputedStyle(E).getPropertyValue("background-color"),k=E.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let $=0;$<k.length;$++)k[$].style.backgroundColor=I},zi=(E,I)=>{let $,k=E.innerHTML;I.iconHtml?$=pr(I.iconHtml):"success"===I.icon?($='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',k=k.replace(/ style=".*?"/g,"")):$="error"===I.icon?'\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':pr({question:"?",warning:"!",info:"i"}[I.icon]),k.trim()!==$.trim()&&Ht(E,$)},hs=(E,I)=>{if(I.iconColor){E.style.color=I.iconColor,E.style.borderColor=I.iconColor;for(const k of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Er(E,k,"backgroundColor",I.iconColor);Er(E,".swal2-success-ring","borderColor",I.iconColor)}},pr=E=>'<div class="'.concat(F["icon-content"],'">').concat(E,"</div>"),yn=(E,I)=>{E.className="".concat(F.popup," ").concat(hn(E)?I.showClass.popup:""),I.toast?(Tt([document.documentElement,document.body],F["toast-shown"]),Tt(E,F.toast)):Tt(E,F.modal),dn(E,I,"popup"),"string"==typeof I.customClass&&Tt(E,I.customClass),I.icon&&Tt(E,F["icon-".concat(I.icon)])},Xa=E=>{const I=document.createElement("li");return Tt(I,F["progress-step"]),Ht(I,E),I},Ds=E=>{const I=document.createElement("li");return Tt(I,F["progress-step-line"]),E.progressStepsDistance&&hr(I,"width",E.progressStepsDistance),I},Ti=(E,I)=>{((E,I)=>{const k=Qe(),$=Pe();I.toast?(hr(k,"width",I.width),$.style.width="100%",$.insertBefore(fe(),rt())):hr($,"width",I.width),hr($,"padding",I.padding),I.color&&($.style.color=I.color),I.background&&($.style.background=I.background),Ke(j()),yn($,I)})(0,I),oe(0,I),((E,I)=>{const k=ve();I.progressSteps&&0!==I.progressSteps.length?(Un(k),k.textContent="",I.currentProgressStep>=I.progressSteps.length&&se("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),I.progressSteps.forEach(($,Ce)=>{const it=Xa($);if(k.appendChild(it),Ce===I.currentProgressStep&&Tt(it,F["active-progress-step"]),Ce!==I.progressSteps.length-1){const zt=Ds(I);k.appendChild(zt)}})):Ke(k)})(0,I),((E,I)=>{const k=le.innerParams.get(E),$=rt();k&&I.icon===k.icon?(zi($,I),ds($,I)):I.icon||I.iconHtml?I.icon&&-1===Object.keys(L).indexOf(I.icon)?(re('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(I.icon,'"')),Ke($)):(Un($),zi($,I),ds($,I),Tt($,I.showClass.icon)):Ke($)})(E,I),((E,I)=>{const k=Ie();I.imageUrl?(Un(k,""),k.setAttribute("src",I.imageUrl),k.setAttribute("alt",I.imageAlt),hr(k,"width",I.imageWidth),hr(k,"height",I.imageHeight),k.className=F.image,dn(k,I,"image")):Ke(k)})(0,I),((E,I)=>{const k=Ee();di(k,I.title||I.titleText,"block"),I.title&&st(I.title,k),I.titleText&&(k.innerText=I.titleText),dn(k,I,"title")})(0,I),((E,I)=>{const k=qt();Ht(k,I.closeButtonHtml),dn(k,I,"closeButton"),di(k,I.showCloseButton),k.setAttribute("aria-label",I.closeButtonAriaLabel)})(0,I),Ks(E,I),$t(0,I),((E,I)=>{const k=Be();di(k,I.footer),I.footer&&st(I.footer,k),dn(k,I,"footer")})(0,I),"function"==typeof I.didRender&&I.didRender(Pe())};function qi(){const E=le.innerParams.get(this);if(!E)return;const I=le.domCache.get(this);Ke(I.loader),Xt()?E.icon&&Un(rt()):fi(I),Mn([I.popup,I.actions],F.loading),I.popup.removeAttribute("aria-busy"),I.popup.removeAttribute("data-loading"),I.confirmButton.disabled=!1,I.denyButton.disabled=!1,I.cancelButton.disabled=!1}const fi=E=>{const I=E.popup.getElementsByClassName(E.loader.getAttribute("data-button-to-replace"));I.length?Un(I[0],"inline-block"):!hn(ee())&&!hn(W())&&!hn(ue())&&Ke(E.actions)};const sr=()=>ee()&&ee().click(),Ai=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),aa=E=>{E.keydownTarget&&E.keydownHandlerAdded&&(E.keydownTarget.removeEventListener("keydown",E.keydownHandler,{capture:E.keydownListenerCapture}),E.keydownHandlerAdded=!1)},tu=(E,I,k)=>{const $=We();if($.length)return(I+=k)===$.length?I=0:-1===I&&(I=$.length-1),$[I].focus();Pe().focus()},nu=["ArrowRight","ArrowDown"],ec=["ArrowLeft","ArrowUp"],ru=(E,I,k)=>{const $=le.innerParams.get(E);!$||I.isComposing||229===I.keyCode||($.stopKeydownPropagation&&I.stopPropagation(),"Enter"===I.key?iu(E,I,$):"Tab"===I.key?or(I,$):[...nu,...ec].includes(I.key)?nl(I.key):"Escape"===I.key&&nd(I,$,k))},iu=(E,I,k)=>{if(Y(k.allowEnterKey)&&I.target&&E.getInput()&&I.target instanceof HTMLElement&&I.target.outerHTML===E.getInput().outerHTML){if(["textarea","file"].includes(k.input))return;sr(),I.preventDefault()}},or=(E,I)=>{const k=E.target,$=We();let Ce=-1;for(let it=0;it<$.length;it++)if(k===$[it]){Ce=it;break}tu(0,Ce,E.shiftKey?-1:1),E.stopPropagation(),E.preventDefault()},nl=E=>{const I=ee(),k=W(),$=ue();if(document.activeElement instanceof HTMLElement&&![I,k,$].includes(document.activeElement))return;const Ce=nu.includes(E)?"nextElementSibling":"previousElementSibling";let it=document.activeElement;for(let zt=0;zt<Ve().children.length;zt++){if(it=it[Ce],!it)return;if(it instanceof HTMLButtonElement&&hn(it))break}it instanceof HTMLButtonElement&&it.focus()},nd=(E,I,k)=>{Y(I.allowEscapeKey)&&(E.preventDefault(),k(Ai.esc))};var Hr={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const Ys=()=>{Array.from(document.body.children).forEach(I=>{I.hasAttribute("data-previous-aria-hidden")?(I.setAttribute("aria-hidden",I.getAttribute("data-previous-aria-hidden")),I.removeAttribute("data-previous-aria-hidden")):I.removeAttribute("aria-hidden")})},fs=()=>{const E=navigator.userAgent,I=!!E.match(/iPad/i)||!!E.match(/iPhone/i),k=!!E.match(/WebKit/i);I&&k&&!E.match(/CriOS/i)&&Pe().scrollHeight>window.innerHeight-44&&(Qe().style.paddingBottom="".concat(44,"px"))},id=()=>{const E=Qe();let I;E.ontouchstart=k=>{I=rl(k)},E.ontouchmove=k=>{I&&(k.preventDefault(),k.stopPropagation())}},rl=E=>{const I=E.target,k=Qe();return!sd(E)&&!od(E)&&(I===k||!hi(k)&&I instanceof HTMLElement&&"INPUT"!==I.tagName&&"TEXTAREA"!==I.tagName&&!(hi(Te())&&Te().contains(I)))},sd=E=>E.touches&&E.touches.length&&"stylus"===E.touches[0].touchType,od=E=>E.touches&&E.touches.length>1,ps=()=>{null===yt.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(yt.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(yt.previousBodyPadding+(()=>{const E=document.createElement("div");E.className=F["scrollbar-measure"],document.body.appendChild(E);const I=E.getBoundingClientRect().width-E.clientWidth;return document.body.removeChild(E),I})(),"px"))};function ou(E,I,k,$){Xt()?ol(E,$):(Ir(k).then(()=>ol(E,$)),aa(He)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(I.setAttribute("style","display:none !important"),I.removeAttribute("class"),I.innerHTML=""):I.remove(),jt()&&(null!==yt.previousBodyPadding&&(document.body.style.paddingRight="".concat(yt.previousBodyPadding,"px"),yt.previousBodyPadding=null),(()=>{if(pt(document.body,F.iosfix)){const E=parseInt(document.body.style.top,10);Mn(document.body,F.iosfix),document.body.style.top="",document.body.scrollTop=-1*E}})(),Ys()),function ua(){Mn([document.documentElement,document.body],[F.shown,F["height-auto"],F["no-backdrop"],F["toast-shown"]])}()}function la(E){E=xo(E);const I=Hr.swalPromiseResolve.get(this),k=Wi(this);this.isAwaitingPromise()?E.isDismissed||(pi(this),I(E)):k&&I(E)}const Wi=E=>{const I=Pe();if(!I)return!1;const k=le.innerParams.get(E);if(!k||pt(I,k.hideClass.popup))return!1;Mn(I,k.showClass.popup),Tt(I,k.hideClass.popup);const $=Qe();return Mn($,k.showClass.backdrop),Tt($,k.hideClass.backdrop),ca(E,I,k),!0};const pi=E=>{E.isAwaitingPromise()&&(le.awaitingPromise.delete(E),le.innerParams.get(E)||E._destroy())},xo=E=>typeof E>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},E),ca=(E,I,k)=>{const $=Qe(),Ce=It&&Bn(I);"function"==typeof k.willClose&&k.willClose(I),Ce?au(E,I,$,k.returnFocus,k.didClose):ou(E,$,k.returnFocus,k.didClose)},au=(E,I,k,$,Ce)=>{He.swalCloseEventFinishedCallback=ou.bind(null,E,k,$,Ce),I.addEventListener(It,function(it){it.target===I&&(He.swalCloseEventFinishedCallback(),delete He.swalCloseEventFinishedCallback)})},ol=(E,I)=>{setTimeout(()=>{"function"==typeof I&&I.bind(E.params)(),E._destroy()})};function Ts(E,I,k){const $=le.domCache.get(E);I.forEach(Ce=>{$[Ce].disabled=k})}function xi(E,I){if(E)if("radio"===E.type){const $=E.parentNode.parentNode.querySelectorAll("input");for(let Ce=0;Ce<$.length;Ce++)$[Ce].disabled=I}else E.disabled=I}const In={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},da=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],rc={},ni=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Nr=E=>Object.prototype.hasOwnProperty.call(In,E),Mo=E=>-1!==da.indexOf(E),Ki=E=>rc[E],Yi=E=>{Nr(E)||se('Unknown parameter "'.concat(E,'"'))},un=E=>{ni.includes(E)&&se('The parameter "'.concat(E,'" is incompatible with toasts'))},ha=E=>{Ki(E)&&G(E,Ki(E))};const gi=E=>{const I={};return Object.keys(E).forEach(k=>{Mo(k)?I[k]=E[k]:se("Invalid parameter to update: ".concat(k))}),I};const Fn=E=>{kt(E),delete E.params,delete He.keydownHandler,delete He.keydownTarget,delete He.currentInstance},kt=E=>{E.isAwaitingPromise()?(Js(le,E),le.awaitingPromise.set(E,!0)):(Js(Hr,E),Js(le,E))},Js=(E,I)=>{for(const k in E)E[k].delete(I)};var ul=Object.freeze({hideLoading:qi,disableLoading:qi,getInput:function ir(E){const I=le.innerParams.get(E||this),k=le.domCache.get(E||this);return k?nn(k.popup,I.input):null},close:la,isAwaitingPromise:function Si(){return!!le.awaitingPromise.get(this)},rejectPromise:function Zi(E){const I=Hr.swalPromiseReject.get(this);pi(this),I&&I(E)},handleAwaitingPromise:pi,closePopup:la,closeModal:la,closeToast:la,enableButtons:function ti(){Ts(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function $r(){Ts(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function Qs(){xi(this.getInput(),!1)},disableInput:function al(){xi(this.getInput(),!0)},showValidationMessage:function Cr(E){const I=le.domCache.get(this),k=le.innerParams.get(this);Ht(I.validationMessage,E),I.validationMessage.className=F["validation-message"],k.customClass&&k.customClass.validationMessage&&Tt(I.validationMessage,k.customClass.validationMessage),Un(I.validationMessage);const $=this.getInput();$&&($.setAttribute("aria-invalid",!0),$.setAttribute("aria-describedby",F["validation-message"]),Ft($),Tt($,F.inputerror))},resetValidationMessage:function tc(){const E=le.domCache.get(this);E.validationMessage&&Ke(E.validationMessage);const I=this.getInput();I&&(I.removeAttribute("aria-invalid"),I.removeAttribute("aria-describedby"),Mn(I,F.inputerror))},getProgressSteps:function nc(){return le.domCache.get(this).progressSteps},update:function fa(E){const I=Pe(),k=le.innerParams.get(this);if(!I||pt(I,k.hideClass.popup))return se("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const $=gi(E),Ce=Object.assign({},k,$);Ti(this,Ce),le.innerParams.set(this,Ce),Object.defineProperties(this,{params:{value:Object.assign({},this.params,E),writable:!1,enumerable:!0}})},_destroy:function pa(){const E=le.domCache.get(this),I=le.innerParams.get(this);I?(E.popup&&He.swalCloseEventFinishedCallback&&(He.swalCloseEventFinishedCallback(),delete He.swalCloseEventFinishedCallback),"function"==typeof I.didDestroy&&I.didDestroy(),Fn(this)):kt(this)}});const Qi=E=>{let I=Pe();I||new ys,I=Pe();const k=fe();Xt()?Ke(rt()):ga(I,E),Un(k),I.setAttribute("data-loading","true"),I.setAttribute("aria-busy","true"),I.focus()},ga=(E,I)=>{const k=Ve(),$=fe();!I&&hn(ee())&&(I=ee()),Un(k),I&&(Ke(I),$.setAttribute("data-button-to-replace",I.className)),$.parentNode.insertBefore($,I),Tt([E,k],F.loading)},lu=E=>E.checked?1:0,ko=E=>E.checked?E.value:null,Oe=E=>E.files.length?null!==E.getAttribute("multiple")?E.files:E.files[0]:null,sn=(E,I)=>{const k=Pe(),$=Ce=>{du[I.input](k,Nn(Ce),I)};Fe(I.inputOptions)||Ae(I.inputOptions)?(Qi(ee()),ke(I.inputOptions).then(Ce=>{E.hideLoading(),$(Ce)})):"object"==typeof I.inputOptions?$(I.inputOptions):re("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof I.inputOptions))},cu=(E,I)=>{const k=E.getInput();Ke(k),ke(I.inputValue).then($=>{k.value="".concat("number"===I.input?parseFloat($)||0:$),Un(k),k.focus(),E.hideLoading()}).catch($=>{re("Error in inputValue promise: ".concat($)),k.value="",Un(k),k.focus(),E.hideLoading()})},du={select:(E,I,k)=>{const $=Qn(E,F.select),Ce=(it,zt,Yn)=>{const ur=document.createElement("option");ur.value=Yn,Ht(ur,zt),ur.selected=No(Yn,k.inputValue),it.appendChild(ur)};I.forEach(it=>{const zt=it[0],Yn=it[1];if(Array.isArray(Yn)){const ur=document.createElement("optgroup");ur.label=zt,ur.disabled=!1,$.appendChild(ur),Yn.forEach(si=>Ce(ur,si[1],si[0]))}else Ce($,Yn,zt)}),$.focus()},radio:(E,I,k)=>{const $=Qn(E,F.radio);I.forEach(it=>{const zt=it[0],Yn=it[1],ur=document.createElement("input"),si=document.createElement("label");ur.type="radio",ur.name=F.radio,ur.value=zt,No(zt,k.inputValue)&&(ur.checked=!0);const Os=document.createElement("span");Ht(Os,Yn),Os.className=F.label,si.appendChild(ur),si.appendChild(Os),$.appendChild(si)});const Ce=$.querySelectorAll("input");Ce.length&&Ce[0].focus()}},Nn=E=>{const I=[];return typeof Map<"u"&&E instanceof Map?E.forEach((k,$)=>{let Ce=k;"object"==typeof Ce&&(Ce=Nn(Ce)),I.push([$,Ce])}):Object.keys(E).forEach(k=>{let $=E[k];"object"==typeof $&&($=Nn($)),I.push([k,$])}),I},No=(E,I)=>I&&I.toString()===E.toString(),eo=(E,I)=>{const k=le.innerParams.get(E);if(!k.input)return void re('The "input" parameter is needed to be set when using returnInputValueOn'.concat(ne(I)));const $=((E,I)=>{const k=E.getInput();if(!k)return null;switch(I.input){case"checkbox":return lu(k);case"radio":return ko(k);case"file":return Oe(k);default:return I.inputAutoTrim?k.value.trim():k.value}})(E,k);k.inputValidator?hu(E,$,I):E.getInput().checkValidity()?"deny"===I?Oo(E,$):Rn(E,$):(E.enableButtons(),E.showValidationMessage(k.validationMessage))},hu=(E,I,k)=>{const $=le.innerParams.get(E);E.disableInput(),Promise.resolve().then(()=>ke($.inputValidator(I,$.validationMessage))).then(it=>{E.enableButtons(),E.enableInput(),it?E.showValidationMessage(it):"deny"===k?Oo(E,I):Rn(E,I)})},Oo=(E,I)=>{const k=le.innerParams.get(E||void 0);k.showLoaderOnDeny&&Qi(W()),k.preDeny?(le.awaitingPromise.set(E||void 0,!0),Promise.resolve().then(()=>ke(k.preDeny(I,k.validationMessage))).then(Ce=>{!1===Ce?(E.hideLoading(),pi(E)):E.close({isDenied:!0,value:typeof Ce>"u"?I:Ce})}).catch(Ce=>to(E||void 0,Ce))):E.close({isDenied:!0,value:I})},fu=(E,I)=>{E.close({isConfirmed:!0,value:I})},to=(E,I)=>{E.rejectPromise(I)},Rn=(E,I)=>{const k=le.innerParams.get(E||void 0);k.showLoaderOnConfirm&&Qi(),k.preConfirm?(E.resetValidationMessage(),le.awaitingPromise.set(E||void 0,!0),Promise.resolve().then(()=>ke(k.preConfirm(I,k.validationMessage))).then(Ce=>{hn(j())||!1===Ce?(E.hideLoading(),pi(E)):fu(E,typeof Ce>"u"?I:Ce)}).catch(Ce=>to(E||void 0,Ce))):fu(E,I)},pu=(E,I,k)=>{I.popup.onclick=()=>{const $=le.innerParams.get(E);$&&(Ss($)||$.timer||$.input)||k(Ai.close)}},Ss=E=>E.showConfirmButton||E.showDenyButton||E.showCancelButton||E.showCloseButton;let ii=!1;const ad=E=>{E.popup.onmousedown=()=>{E.container.onmouseup=function(I){E.container.onmouseup=void 0,I.target===E.container&&(ii=!0)}}},Po=E=>{E.container.onmousedown=()=>{E.popup.onmouseup=function(I){E.popup.onmouseup=void 0,(I.target===E.popup||E.popup.contains(I.target))&&(ii=!0)}}},ud=(E,I,k)=>{I.container.onclick=$=>{const Ce=le.innerParams.get(E);ii?ii=!1:$.target===I.container&&Y(Ce.allowOutsideClick)&&k(Ai.backdrop)}},Fo=E=>E instanceof Element||(E=>"object"==typeof E&&E.jquery)(E);const Uo=()=>{if(He.timeout)return(()=>{const E=lt(),I=parseInt(window.getComputedStyle(E).width);E.style.removeProperty("transition"),E.style.width="100%";const $=I/parseInt(window.getComputedStyle(E).width)*100;E.style.removeProperty("transition"),E.style.width="".concat($,"%")})(),He.timeout.stop()},Bo=()=>{if(He.timeout){const E=He.timeout.start();return jn(E),E}};let bu=!1;const Xi={};const ma=E=>{for(let I=E.target;I&&I!==document;I=I.parentNode)for(const k in Xi){const $=I.getAttribute(k);if($)return void Xi[k].fire({template:$})}};var ar=Object.freeze({isValidParameter:Nr,isUpdatableParameter:Mo,isDeprecatedParameter:Ki,argsToParams:E=>{const I={};return"object"!=typeof E[0]||Fo(E[0])?["title","html","icon"].forEach((k,$)=>{const Ce=E[$];"string"==typeof Ce||Fo(Ce)?I[k]=Ce:void 0!==Ce&&re("Unexpected type of ".concat(k,'! Expected "string" or "Element", got ').concat(typeof Ce))}):Object.assign(I,E[0]),I},isVisible:()=>hn(Pe()),clickConfirm:sr,clickDeny:()=>W()&&W().click(),clickCancel:()=>ue()&&ue().click(),getContainer:Qe,getPopup:Pe,getTitle:Ee,getHtmlContainer:Te,getImage:Ie,getIcon:rt,getIconContent:()=>ge(F["icon-content"]),getInputLabel:()=>ge(F["input-label"]),getCloseButton:qt,getActions:Ve,getConfirmButton:ee,getDenyButton:W,getCancelButton:ue,getLoader:fe,getFooter:Be,getTimerProgressBar:lt,getFocusableElements:We,getValidationMessage:j,isLoading:()=>Pe().hasAttribute("data-loading"),fire:function mu(){const E=this;for(var I=arguments.length,k=new Array(I),$=0;$<I;$++)k[$]=arguments[$];return new E(...k)},mixin:function Vo(E){return class I extends(this){_main($,Ce){return super._main($,Object.assign({},E,Ce))}}},showLoading:Qi,enableLoading:Qi,getTimerLeft:()=>He.timeout&&He.timeout.getTimerLeft(),stopTimer:Uo,resumeTimer:Bo,toggleTimer:()=>{const E=He.timeout;return E&&(E.running?Uo():Bo())},increaseTimer:E=>{if(He.timeout){const I=He.timeout.increase(E);return jn(I,!0),I}},isTimerRunning:()=>He.timeout&&He.timeout.isRunning(),bindClickHandler:function xs(){Xi[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,bu||(document.body.addEventListener("click",ma),bu=!0)}});class Gr{constructor(I,k){this.callback=I,this.remaining=k,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(I){const k=this.running;return k&&this.stop(),this.remaining+=I,k&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const An=["swal-title","swal-html","swal-footer"],Eu=E=>{const I={};return Array.from(E.querySelectorAll("swal-param")).forEach($=>{gs($,["name","value"]);const Ce=$.getAttribute("name"),it=$.getAttribute("value");I[Ce]="boolean"==typeof In[Ce]?"false"!==it:"object"==typeof In[Ce]?JSON.parse(it):it}),I},ic=E=>{const I={};return Array.from(E.querySelectorAll("swal-function-param")).forEach($=>{const Ce=$.getAttribute("name"),it=$.getAttribute("value");I[Ce]=new Function("return ".concat(it))()}),I},Iu=E=>{const I={};return Array.from(E.querySelectorAll("swal-button")).forEach($=>{gs($,["type","color","aria-label"]);const Ce=$.getAttribute("type");I["".concat(Ce,"ButtonText")]=$.innerHTML,I["show".concat(ne(Ce),"Button")]=!0,$.hasAttribute("color")&&(I["".concat(Ce,"ButtonColor")]=$.getAttribute("color")),$.hasAttribute("aria-label")&&(I["".concat(Ce,"ButtonAriaLabel")]=$.getAttribute("aria-label"))}),I},ya=E=>{const I={},k=E.querySelector("swal-image");return k&&(gs(k,["src","width","height","alt"]),k.hasAttribute("src")&&(I.imageUrl=k.getAttribute("src")),k.hasAttribute("width")&&(I.imageWidth=k.getAttribute("width")),k.hasAttribute("height")&&(I.imageHeight=k.getAttribute("height")),k.hasAttribute("alt")&&(I.imageAlt=k.getAttribute("alt"))),I},cl=E=>{const I={},k=E.querySelector("swal-icon");return k&&(gs(k,["type","color"]),k.hasAttribute("type")&&(I.icon=k.getAttribute("type")),k.hasAttribute("color")&&(I.iconColor=k.getAttribute("color")),I.iconHtml=k.innerHTML),I},va=E=>{const I={},k=E.querySelector("swal-input");k&&(gs(k,["type","label","placeholder","value"]),I.input=k.getAttribute("type")||"text",k.hasAttribute("label")&&(I.inputLabel=k.getAttribute("label")),k.hasAttribute("placeholder")&&(I.inputPlaceholder=k.getAttribute("placeholder")),k.hasAttribute("value")&&(I.inputValue=k.getAttribute("value")));const $=Array.from(E.querySelectorAll("swal-input-option"));return $.length&&(I.inputOptions={},$.forEach(Ce=>{gs(Ce,["value"]);const it=Ce.getAttribute("value");I.inputOptions[it]=Ce.innerHTML})),I},Ms=(E,I)=>{const k={};for(const $ in I){const Ce=I[$],it=E.querySelector(Ce);it&&(gs(it,[]),k[Ce.replace(/^swal-/,"")]=it.innerHTML.trim())}return k},no=E=>{const I=An.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(E.children).forEach(k=>{const $=k.tagName.toLowerCase();I.includes($)||se("Unrecognized element <".concat($,">"))})},gs=(E,I)=>{Array.from(E.attributes).forEach(k=>{-1===I.indexOf(k.name)&&se(['Unrecognized attribute "'.concat(k.name,'" on <').concat(E.tagName.toLowerCase(),">."),"".concat(I.length?"Allowed attributes are: ".concat(I.join(", ")):"To set the value, use HTML within the element.")])})},dl=E=>{const I=Qe(),k=Pe();"function"==typeof E.willOpen&&E.willOpen(k);const Ce=window.getComputedStyle(document.body).overflowY;_a(I,k,E),setTimeout(()=>{ms(I,k)},10),jt()&&(Ns(I,E.scrollbarPadding,Ce),Array.from(document.body.children).forEach(I=>{I===Qe()||I.contains(Qe())||(I.hasAttribute("aria-hidden")&&I.setAttribute("data-previous-aria-hidden",I.getAttribute("aria-hidden")),I.setAttribute("aria-hidden","true"))})),!Xt()&&!He.previousActiveElement&&(He.previousActiveElement=document.activeElement),"function"==typeof E.didOpen&&setTimeout(()=>E.didOpen(k)),Mn(I,F["no-transition"])},es=E=>{const I=Pe();if(E.target!==I)return;const k=Qe();I.removeEventListener(It,es),k.style.overflowY="auto"},ms=(E,I)=>{It&&Bn(I)?(E.style.overflowY="hidden",I.addEventListener(It,es)):E.style.overflowY="auto"},Ns=(E,I,k)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!pt(document.body,F.iosfix)){const I=document.body.scrollTop;document.body.style.top="".concat(-1*I,"px"),Tt(document.body,F.iosfix),id(),fs()}})(),I&&"hidden"!==k&&ps(),setTimeout(()=>{E.scrollTop=0})},_a=(E,I,k)=>{Tt(E,k.showClass.backdrop),I.style.setProperty("opacity","0","important"),Un(I,"grid"),setTimeout(()=>{Tt(I,k.showClass.popup),I.style.removeProperty("opacity")},10),Tt([document.documentElement,document.body],F.shown),k.heightAuto&&k.backdrop&&!k.toast&&Tt([document.documentElement,document.body],F["height-auto"])};var Ln={email:(E,I)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(E)?Promise.resolve():Promise.resolve(I||"Invalid email address"),url:(E,I)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(E)?Promise.resolve():Promise.resolve(I||"Invalid URL")};function hl(E){(function wa(E){E.inputValidator||Object.keys(Ln).forEach(I=>{E.input===I&&(E.inputValidator=Ln[I])})})(E),E.showLoaderOnConfirm&&!E.preConfirm&&se("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function ba(E){(!E.target||"string"==typeof E.target&&!document.querySelector(E.target)||"string"!=typeof E.target&&!E.target.appendChild)&&(se('Target parameter is not valid, defaulting to "body"'),E.target="body")}(E),"string"==typeof E.title&&(E.title=E.title.split("\n").join("<br />")),Lr(E)}let ki;class mi{constructor(){if(typeof window>"u")return;ki=this;for(var I=arguments.length,k=new Array(I),$=0;$<I;$++)k[$]=arguments[$];const Ce=Object.freeze(this.constructor.argsToParams(k));Object.defineProperties(this,{params:{value:Ce,writable:!1,enumerable:!0,configurable:!0}});const it=ki._main(ki.params);le.promise.set(this,it)}_main(I){let k=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(E=>{!1===E.backdrop&&E.allowOutsideClick&&se('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const I in E)Yi(I),E.toast&&un(I),ha(I)})(Object.assign({},k,I)),He.currentInstance&&(He.currentInstance._destroy(),jt()&&Ys()),He.currentInstance=ki;const $=Rs(I,k);hl($),Object.freeze($),He.timeout&&(He.timeout.stop(),delete He.timeout),clearTimeout(He.restoreFocusTimeout);const Ce=Ea(ki);return Ti(ki,$),le.innerParams.set(ki,$),ro(ki,Ce,$)}then(I){return le.promise.get(this).then(I)}finally(I){return le.promise.get(this).finally(I)}}const ro=(E,I,k)=>new Promise(($,Ce)=>{const it=zt=>{E.close({isDismissed:!0,dismiss:zt})};Hr.swalPromiseResolve.set(E,$),Hr.swalPromiseReject.set(E,Ce),I.confirmButton.onclick=()=>{(E=>{const I=le.innerParams.get(E);E.disableButtons(),I.input?eo(E,"confirm"):Rn(E,!0)})(E)},I.denyButton.onclick=()=>{(E=>{const I=le.innerParams.get(E);E.disableButtons(),I.returnInputValueOnDeny?eo(E,"deny"):Oo(E,!1)})(E)},I.cancelButton.onclick=()=>{((E,I)=>{E.disableButtons(),I(Ai.cancel)})(E,it)},I.closeButton.onclick=()=>{it(Ai.close)},((E,I,k)=>{le.innerParams.get(E).toast?pu(E,I,k):(ad(I),Po(I),ud(E,I,k))})(E,I,it),((E,I,k,$)=>{aa(I),k.toast||(I.keydownHandler=Ce=>ru(E,Ce,$),I.keydownTarget=k.keydownListenerCapture?window:Pe(),I.keydownListenerCapture=k.keydownListenerCapture,I.keydownTarget.addEventListener("keydown",I.keydownHandler,{capture:I.keydownListenerCapture}),I.keydownHandlerAdded=!0)})(E,He,k,it),((E,I)=>{"select"===I.input||"radio"===I.input?sn(E,I):["text","email","number","tel","textarea"].includes(I.input)&&(Fe(I.inputValue)||Ae(I.inputValue))&&(Qi(ee()),cu(E,I))})(E,k),dl(k),jo(He,k,it),fl(I,k),setTimeout(()=>{I.container.scrollTop=0})}),Rs=(E,I)=>{const k=(E=>{const I="string"==typeof E.template?document.querySelector(E.template):E.template;if(!I)return{};const k=I.content;return no(k),Object.assign(Eu(k),ic(k),Iu(k),ya(k),cl(k),va(k),Ms(k,An))})(E),$=Object.assign({},In,I,k,E);return $.showClass=Object.assign({},In.showClass,$.showClass),$.hideClass=Object.assign({},In.hideClass,$.hideClass),$},Ea=E=>{const I={popup:Pe(),container:Qe(),actions:Ve(),confirmButton:ee(),denyButton:W(),cancelButton:ue(),loader:fe(),closeButton:qt(),validationMessage:j(),progressSteps:ve()};return le.domCache.set(E,I),I},jo=(E,I,k)=>{const $=lt();Ke($),I.timer&&(E.timeout=new Gr(()=>{k("timer"),delete E.timeout},I.timer),I.timerProgressBar&&(Un($),dn($,I,"timerProgressBar"),setTimeout(()=>{E.timeout&&E.timeout.running&&jn(I.timer)})))},fl=(E,I)=>{if(!I.toast){if(!Y(I.allowEnterKey))return void gr();pl(E,I)||tu(0,-1,1)}},pl=(E,I)=>I.focusDeny&&hn(E.denyButton)?(E.denyButton.focus(),!0):I.focusCancel&&hn(E.cancelButton)?(E.cancelButton.focus(),!0):!(!I.focusConfirm||!hn(E.confirmButton)||(E.confirmButton.focus(),0)),gr=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|xn--p1ai)$/)&&(document.body.style.pointerEvents="none"),Object.assign(mi.prototype,ul),Object.assign(mi,ar),Object.keys(ul).forEach(E=>{mi[E]=function(){if(ki)return ki[E](...arguments)}}),mi.DismissReason=Ai,mi.version="11.6.0";const ys=mi;return ys.default=ys,ys}(),typeof this<"u"&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),typeof document<"u"&&function(le,V){var h=le.createElement("style");if(le.getElementsByTagName("head")[0].appendChild(h),h.styleSheet)h.styleSheet.disabled||(h.styleSheet.cssText=V);else try{h.innerHTML=V}catch{h.innerText=V}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4!important;grid-row:1/4!important;grid-template-columns:1fr 99fr 1fr;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px hsla(0deg,0%,0%,.075),0 1px 2px hsla(0deg,0%,0%,.075),1px 2px 4px hsla(0deg,0%,0%,.075),1px 3px 8px hsla(0deg,0%,0%,.075),2px 4px 16px hsla(0deg,0%,0%,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:700}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content,auto) minmax(min-content,auto) minmax(min-content,auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-bottom-start,.swal2-container.swal2-center-start,.swal2-container.swal2-top-start{grid-template-columns:minmax(0,1fr) auto auto}.swal2-container.swal2-bottom,.swal2-container.swal2-center,.swal2-container.swal2-top{grid-template-columns:auto minmax(0,1fr) auto}.swal2-container.swal2-bottom-end,.swal2-container.swal2-center-end,.swal2-container.swal2-top-end{grid-template-columns:auto auto minmax(0,1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-left>.swal2-popup,.swal2-container.swal2-center-start>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-left>.swal2-popup,.swal2-container.swal2-bottom-start>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-fullscreen>.swal2-popup,.swal2-container.swal2-grow-row>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none!important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0,100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 transparent #2778c4 transparent}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px transparent;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:0}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto!important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:0 0;color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-close:focus{outline:0;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em 2em 3px}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:0 0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px transparent;color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:0 0;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:0 0;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid transparent;border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:0 0;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{background-color:transparent!important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:transparent;pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},655:(ft,le,V)=>{"use strict";function ae(W,ie){var fe={};for(var ue in W)Object.prototype.hasOwnProperty.call(W,ue)&&ie.indexOf(ue)<0&&(fe[ue]=W[ue]);if(null!=W&&"function"==typeof Object.getOwnPropertySymbols){var Ve=0;for(ue=Object.getOwnPropertySymbols(W);Ve<ue.length;Ve++)ie.indexOf(ue[Ve])<0&&Object.prototype.propertyIsEnumerable.call(W,ue[Ve])&&(fe[ue[Ve]]=W[ue[Ve]])}return fe}function re(W,ie,fe,ue){return new(fe||(fe=Promise))(function(Be,lt){function qt(jt){try{We(ue.next(jt))}catch(Xt){lt(Xt)}}function Dt(jt){try{We(ue.throw(jt))}catch(Xt){lt(Xt)}}function We(jt){jt.done?Be(jt.value):function Ve(Be){return Be instanceof fe?Be:new fe(function(lt){lt(Be)})}(jt.value).then(qt,Dt)}We((ue=ue.apply(W,ie||[])).next())})}function we(W){return this instanceof we?(this.v=W,this):new we(W)}function ge(W,ie,fe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ve,ue=fe.apply(W,ie||[]),Be=[];return Ve={},lt("next"),lt("throw"),lt("return"),Ve[Symbol.asyncIterator]=function(){return this},Ve;function lt(Ct){ue[Ct]&&(Ve[Ct]=function(yt){return new Promise(function(Ht,pt){Be.push([Ct,yt,Ht,pt])>1||qt(Ct,yt)})})}function qt(Ct,yt){try{!function Dt(Ct){Ct.value instanceof we?Promise.resolve(Ct.value.v).then(We,jt):Xt(Be[0][2],Ct)}(ue[Ct](yt))}catch(Ht){Xt(Be[0][3],Ht)}}function We(Ct){qt("next",Ct)}function jt(Ct){qt("throw",Ct)}function Xt(Ct,yt){Ct(yt),Be.shift(),Be.length&&qt(Be[0][0],Be[0][1])}}function rt(W){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var fe,ie=W[Symbol.asyncIterator];return ie?ie.call(W):(W=function Y(W){var ie="function"==typeof Symbol&&Symbol.iterator,fe=ie&&W[ie],ue=0;if(fe)return fe.call(W);if(W&&"number"==typeof W.length)return{next:function(){return W&&ue>=W.length&&(W=void 0),{value:W&&W[ue++],done:!W}}};throw new TypeError(ie?"Object is not iterable.":"Symbol.iterator is not defined.")}(W),fe={},ue("next"),ue("throw"),ue("return"),fe[Symbol.asyncIterator]=function(){return this},fe);function ue(Be){fe[Be]=W[Be]&&function(lt){return new Promise(function(qt,Dt){!function Ve(Be,lt,qt,Dt){Promise.resolve(Dt).then(function(We){Be({value:We,done:qt})},lt)}(qt,Dt,(lt=W[Be](lt)).done,lt.value)})}}}V.d(le,{FC:()=>ge,KL:()=>rt,_T:()=>ae,mG:()=>re,qq:()=>we})},4650:(ft,le,V)=>{"use strict";V.d(le,{$8M:()=>_l,$Z:()=>lg,AFp:()=>UE,ALo:()=>hm,AaK:()=>re,CRH:()=>_r,CZH:()=>Zf,CqO:()=>cb,D6c:()=>fI,EJc:()=>Cm,F4k:()=>lb,FYo:()=>x,FiY:()=>$e,G48:()=>tI,GfV:()=>Ye,Gpc:()=>G,JOm:()=>Ua,LFG:()=>Vn,LSH:()=>vd,Lbi:()=>jE,Lck:()=>sE,MMx:()=>om,NdJ:()=>kg,OlP:()=>On,Oqu:()=>bf,PXZ:()=>Mm,Q6J:()=>xg,QGY:()=>ub,QP$:()=>ln,Qsj:()=>P,R0b:()=>zs,RDi:()=>Tp,Rgc:()=>tr,SBq:()=>f,Sil:()=>QD,Suo:()=>AE,TTD:()=>Zi,TgZ:()=>Ev,X6Q:()=>iT,XFs:()=>Ke,Xpm:()=>Re,Xts:()=>Hh,Y36:()=>Mc,YKP:()=>vr,YNc:()=>wv,Yjl:()=>xe,Yz7:()=>yt,Z0I:()=>dn,ZZ4:()=>Om,_Bn:()=>oh,_UZ:()=>sb,_Vd:()=>ju,_c5:()=>hI,_uU:()=>kv,aQg:()=>tp,c2e:()=>Zc,cJS:()=>pt,cg1:()=>Gv,dDg:()=>Sm,dqk:()=>mn,eFA:()=>Zl,ekj:()=>Sv,eoX:()=>vh,f3M:()=>D,g9A:()=>ci,h0i:()=>ah,hGG:()=>rp,hij:()=>Ef,iGM:()=>ch,ifc:()=>He,ip1:()=>mh,jDz:()=>Vf,kL8:()=>Pb,lG2:()=>J,lcZ:()=>E_,lqb:()=>Wr,lri:()=>Kc,n5z:()=>Fs,oAB:()=>$t,q4F:()=>at,qLn:()=>Zh,qOj:()=>pv,qZA:()=>Iv,rWj:()=>ji,s9C:()=>Tv,sBO:()=>nI,sIi:()=>Tg,s_b:()=>pm,soG:()=>zl,tb:()=>Wn,tp0:()=>Nt,uIk:()=>Jo,vHH:()=>Ae,vpe:()=>bo,wAp:()=>xt,xp6:()=>l0,z2F:()=>Zn,zSh:()=>Al,zs3:()=>Ac});var h=V(7579),F=V(727),L=V(9751),ae=V(6451),de=V(3099);function ne(i){for(let s in i)if(i[s]===ne)return s;throw Error("Could not find renamed property on target object.")}function se(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function re(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(re).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function ce(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const H=ne({__forward_ref__:ne});function G(i){return i.__forward_ref__=G,i.toString=function(){return re(this())},i}function Y(i){return Fe(i)?i():i}function Fe(i){return"function"==typeof i&&i.hasOwnProperty(H)&&i.__forward_ref__===G}class Ae extends Error{constructor(s,a){super(function Qe(i,s){return`NG0${Math.abs(i)}${s?": "+s.trim():""}`}(s,a)),this.code=s}}function we(i){return"string"==typeof i?i:null==i?"":String(i)}function Ee(i,s){throw new Ae(-201,!1)}function Dt(i,s){null==i&&function We(i,s,a,l){throw new Error(`ASSERTION ERROR: ${i}`+(null==l?"":` [Expected=> ${a} ${l} ${s} <=Actual]`))}(s,i,null,"!=")}function yt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function pt(i){return{providers:i.providers||[],imports:i.imports||[]}}function rn(i){return nn(i,Mn)||nn(i,hr)}function dn(i){return null!==rn(i)}function nn(i,s){return i.hasOwnProperty(s)?i[s]:null}function Tt(i){return i&&(i.hasOwnProperty(Qn)||i.hasOwnProperty(Un))?i[Qn]:null}const Mn=ne({\u0275prov:ne}),Qn=ne({\u0275inj:ne}),hr=ne({ngInjectableDef:ne}),Un=ne({ngInjectorDef:ne});var Ke=(()=>((Ke=Ke||{})[Ke.Default=0]="Default",Ke[Ke.Host=1]="Host",Ke[Ke.Self=2]="Self",Ke[Ke.SkipSelf=4]="SkipSelf",Ke[Ke.Optional=8]="Optional",Ke))();let Er;function hn(i){const s=Er;return Er=i,s}function ei(i,s,a){const l=rn(i);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&Ke.Optional?null:void 0!==s?s:void Ee(re(i))}function Bn(i){return{toString:i}.toString()}var jn=(()=>((jn=jn||{})[jn.OnPush=0]="OnPush",jn[jn.Default=1]="Default",jn))(),He=(()=>{return(i=He||(He={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",He;var i})();const mn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),jr={},Pt=[],Fr=ne({\u0275cmp:ne}),fn=ne({\u0275dir:ne}),Ci=ne({\u0275pipe:ne}),pn=ne({\u0275mod:ne}),rr=ne({\u0275fac:ne}),Lr=ne({__NG_ELEMENT_ID__:ne});let st=0;function Re(i){return Bn(()=>{const a=!0===i.standalone,l={},c={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===jn.OnPush,directiveDefs:null,pipeDefs:null,standalone:a,dependencies:a&&i.dependencies||null,getStandaloneInjector:null,selectors:i.selectors||Pt,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||He.Emulated,id:"c"+st++,styles:i.styles||Pt,_:null,setInput:null,schemas:i.schemas||null,tView:null},p=i.dependencies,v=i.features;return c.inputs=z(i.inputs,l),c.outputs=z(i.outputs),v&&v.forEach(b=>b(c)),c.directiveDefs=p?()=>("function"==typeof p?p():p).map(It).filter(At):null,c.pipeDefs=p?()=>("function"==typeof p?p():p).map(vt).filter(At):null,c})}function It(i){return oe(i)||Xe(i)}function At(i){return null!==i}function $t(i){return Bn(()=>({type:i.type,bootstrap:i.bootstrap||Pt,declarations:i.declarations||Pt,imports:i.imports||Pt,exports:i.exports||Pt,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function z(i,s){if(null==i)return jr;const a={};for(const l in i)if(i.hasOwnProperty(l)){let c=i[l],p=c;Array.isArray(c)&&(p=c[1],c=c[0]),a[c]=l,s&&(s[c]=p)}return a}const J=Re;function xe(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function oe(i){return i[Fr]||null}function Xe(i){return i[fn]||null}function vt(i){return i[Ci]||null}function ln(i){const s=oe(i)||Xe(i)||vt(i);return null!==s&&s.standalone}function En(i,s){const a=i[pn]||null;if(!a&&!0===s)throw new Error(`Type ${re(i)} does not have '\u0275mod' property.`);return a}function sr(i){return Array.isArray(i)&&"object"==typeof i[1]}function Vr(i){return Array.isArray(i)&&!0===i[1]}function oa(i){return 0!=(8&i.flags)}function Ai(i){return 2==(2&i.flags)}function aa(i){return 1==(1&i.flags)}function kr(i){return null!==i.template}function tu(i){return 0!=(256&i[2])}function Si(i,s){return i.hasOwnProperty(rr)?i[rr]:null}class Wi{constructor(s,a,l){this.previousValue=s,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function Zi(){return pi}function pi(i){return i.type.prototype.ngOnChanges&&(i.setInput=ca),xo}function xo(){const i=ol(this),s=i?.current;if(s){const a=i.previous;if(a===jr)i.previous=s;else for(let l in s)a[l]=s[l];i.current=null,this.ngOnChanges(s)}}function ca(i,s,a,l){const c=ol(i)||function Ts(i,s){return i[au]=s}(i,{previous:jr,current:null}),p=c.current||(c.current={}),v=c.previous,b=this.declaredInputs[a],C=v[b];p[b]=new Wi(C&&C.currentValue,s,v===jr),i[l]=s}Zi.ngInherit=!0;const au="__ngSimpleChanges__";function ol(i){return i[au]||null}function In(i){for(;Array.isArray(i);)i=i[0];return i}function ni(i,s){return In(s[i])}function Nr(i,s){return In(s[i.index])}function Ki(i,s){return i.data[s]}function un(i,s){const a=s[i];return sr(a)?a:a[0]}function As(i){return 64==(64&i[2])}function gi(i,s){return null==s?null:i[s]}function pa(i){i[18]=0}function Fn(i,s){i[5]+=s;let a=i,l=i[3];for(;null!==l&&(1===s&&1===a[5]||-1===s&&0===a[5]);)l[5]+=s,a=l,l=l[3]}const kt={lFrame:_u(null),bindingsEnabled:!0};function Ji(){return kt.bindingsEnabled}function Oe(){return kt.lFrame.lView}function sn(){return kt.lFrame.tView}function Nn(){let i=No();for(;null!==i&&64===i.type;)i=i.parent;return i}function No(){return kt.lFrame.currentTNode}function ri(i,s){const a=kt.lFrame;a.currentTNode=i,a.isParent=s}function Ro(){return kt.lFrame.isParent}function Ss(){return kt.lFrame.bindingIndex++}function ud(i,s){const a=kt.lFrame;a.bindingIndex=a.bindingRootIndex=i,Fo(s)}function Fo(i){kt.lFrame.currentDirectiveIndex=i}function mu(){return kt.lFrame.currentQueryIndex}function Vo(i){kt.lFrame.currentQueryIndex=i}function yu(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function Uo(i,s,a){if(a&Ke.SkipSelf){let c=s,p=i;for(;!(c=c.parent,null!==c||a&Ke.Host||(c=yu(p),null===c||(p=p[15],10&c.type))););if(null===c)return!1;s=c,i=p}const l=kt.lFrame=vu();return l.currentTNode=s,l.lView=i,!0}function Bo(i){const s=vu(),a=i[1];kt.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function vu(){const i=kt.lFrame,s=null===i?null:i.child;return null===s?_u(i):s}function _u(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function wu(){const i=kt.lFrame;return kt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const bu=wu;function Xi(){const i=wu();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function ar(){return kt.lFrame.selectedIndex}function Gr(i){kt.lFrame.selectedIndex=i}function An(){const i=kt.lFrame;return Ki(i.tView,i.selectedIndex)}function va(i,s){for(let a=s.directiveStart,l=s.directiveEnd;a<l;a++){const p=i.data[a].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:b,ngAfterViewInit:C,ngAfterViewChecked:S,ngOnDestroy:R}=p;v&&(i.contentHooks||(i.contentHooks=[])).push(-a,v),b&&((i.contentHooks||(i.contentHooks=[])).push(a,b),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,b)),C&&(i.viewHooks||(i.viewHooks=[])).push(-a,C),S&&((i.viewHooks||(i.viewHooks=[])).push(a,S),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,S)),null!=R&&(i.destroyHooks||(i.destroyHooks=[])).push(a,R)}}function Ms(i,s,a){ks(i,s,3,a)}function no(i,s,a,l){(3&i[2])===a&&ks(i,s,a,l)}function gs(i,s){let a=i[2];(3&a)===s&&(a&=2047,a+=1,i[2]=a)}function ks(i,s,a,l){const p=l??-1,v=s.length-1;let b=0;for(let C=void 0!==l?65535&i[18]:0;C<v;C++)if("number"==typeof s[C+1]){if(b=s[C],null!=l&&b>=l)break}else s[C]<0&&(i[18]+=65536),(b<p||-1==p)&&(dl(i,a,s,C),i[18]=(4294901760&i[18])+C+2),C++}function dl(i,s,a,l){const c=a[l]<0,p=a[l+1],b=i[c?-a[l]:a[l]];if(c){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{p.call(b)}finally{}}}else try{p.call(b)}finally{}}class ms{constructor(s,a,l){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function ro(i,s,a){let l=0;for(;l<a.length;){const c=a[l];if("number"==typeof c){if(0!==c)break;l++;const p=a[l++],v=a[l++],b=a[l++];i.setAttribute(s,v,b,p)}else{const p=c,v=a[++l];Ea(p)?i.setProperty(s,p,v):i.setAttribute(s,p,v),l++}}return l}function Rs(i){return 3===i||4===i||6===i}function Ea(i){return 64===i.charCodeAt(0)}function jo(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let l=0;l<s.length;l++){const c=s[l];"number"==typeof c?a=c:0===a||fl(i,a,c,null,-1===a||2===a?s[++l]:null)}}return i}function fl(i,s,a,l,c){let p=0,v=i.length;if(-1===s)v=-1;else for(;p<i.length;){const b=i[p++];if("number"==typeof b){if(b===s){v=-1;break}if(b>s){v=p-1;break}}}for(;p<i.length;){const b=i[p];if("number"==typeof b)break;if(b===a){if(null===l)return void(null!==c&&(i[p+1]=c));if(l===i[p+1])return void(i[p+2]=c)}p++,null!==l&&p++,null!==c&&p++}-1!==v&&(i.splice(v,0,s),p=v+1),i.splice(p++,0,a),null!==l&&i.splice(p++,0,l),null!==c&&i.splice(p++,0,c)}function pl(i){return-1!==i}function gr(i){return 32767&i}function E(i,s){let a=function ys(i){return i>>16}(i),l=s;for(;a>0;)l=l[15],a--;return l}let I=!0;function k(i){const s=I;return I=i,s}let zt=0;const Yn={};function si(i,s){const a=gl(i,s);if(-1!==a)return a;const l=s[1];l.firstCreatePass&&(i.injectorIndex=s.length,Os(l.data,i),Os(s,null),Os(l.blueprint,null));const c=ml(i,s),p=i.injectorIndex;if(pl(c)){const v=gr(c),b=E(c,s),C=b[1].data;for(let S=0;S<8;S++)s[p+S]=b[v+S]|C[v+S]}return s[p+8]=c,p}function Os(i,s){i.push(0,0,0,0,0,0,0,0,s)}function gl(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function ml(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,l=null,c=s;for(;null!==c;){if(l=Da(c),null===l)return-1;if(a++,c=c[15],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return-1}function io(i,s,a){!function ur(i,s,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(Lr)&&(l=a[Lr]),null==l&&(l=a[Lr]=zt++);const c=255&l;s.data[i+(c>>5)]|=1<<c}(i,s,a)}function so(i,s,a){if(a&Ke.Optional||void 0!==i)return i;Ee()}function sc(i,s,a,l){if(a&Ke.Optional&&void 0===l&&(l=null),0==(a&(Ke.Self|Ke.Host))){const c=i[9],p=hn(void 0);try{return c?c.get(s,l,a&Ke.Optional):ei(s,l,a&Ke.Optional)}finally{hn(p)}}return so(l,0,a)}function Ho(i,s,a,l=Ke.Default,c){if(null!==i){if(1024&s[2]){const v=function Ca(i,s,a,l,c){let p=i,v=s;for(;null!==p&&null!==v&&1024&v[2]&&!(256&v[2]);){const b=Cu(p,v,a,l|Ke.Self,Yn);if(b!==Yn)return b;let C=p.parent;if(!C){const S=v[21];if(S){const R=S.get(a,Yn,l);if(R!==Yn)return R}C=Da(v),v=v[15]}p=C}return c}(i,s,a,l,Yn);if(v!==Yn)return v}const p=Cu(i,s,a,l,Yn);if(p!==Yn)return p}return sc(s,a,l,c)}function Cu(i,s,a,l,c){const p=function oc(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(Lr)?i[Lr]:void 0;return"number"==typeof s?s>=0?255&s:ac:s}(a);if("function"==typeof p){if(!Uo(s,i,l))return l&Ke.Host?so(c,0,l):sc(s,a,l,c);try{const v=p(l);if(null!=v||l&Ke.Optional)return v;Ee()}finally{bu()}}else if("number"==typeof p){let v=null,b=gl(i,s),C=-1,S=l&Ke.Host?s[16][6]:null;for((-1===b||l&Ke.SkipSelf)&&(C=-1===b?ml(i,s):s[b+8],-1!==C&&Du(l,!1)?(v=s[1],b=gr(C),s=E(C,s)):b=-1);-1!==b;){const R=s[1];if(yl(p,b,R.data)){const U=cd(b,s,a,v,l,S);if(U!==Yn)return U}C=s[b+8],-1!==C&&Du(l,s[1].data[b+8]===S)&&yl(p,b,s)?(v=R,b=gr(C),s=E(C,s)):b=-1}}return c}function cd(i,s,a,l,c,p){const v=s[1],b=v.data[i+8],R=Ia(b,v,a,null==l?Ai(b)&&I:l!=v&&0!=(3&b.type),c&Ke.Host&&p===b);return null!==R?Ps(s,v,R,b):Yn}function Ia(i,s,a,l,c){const p=i.providerIndexes,v=s.data,b=1048575&p,C=i.directiveStart,R=p>>20,K=c?b+R:i.directiveEnd;for(let he=l?b:b+R;he<K;he++){const Me=v[he];if(he<C&&a===Me||he>=C&&Me.type===a)return he}if(c){const he=v[C];if(he&&kr(he)&&he.type===a)return C}return null}function Ps(i,s,a,l){let c=i[a];const p=s.data;if(function Ns(i){return i instanceof ms}(c)){const v=c;v.resolving&&function Pe(i,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new Ae(-200,`Circular dependency in DI detected for ${i}${a}`)}(function ge(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():we(i)}(p[a]));const b=k(v.canSeeViewProviders);v.resolving=!0;const C=v.injectImpl?hn(v.injectImpl):null;Uo(i,l,Ke.Default);try{c=i[a]=v.factory(void 0,p,i,l),s.firstCreatePass&&a>=l.directiveStart&&function cl(i,s,a){const{ngOnChanges:l,ngOnInit:c,ngDoCheck:p}=s.type.prototype;if(l){const v=pi(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,v),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,v)}c&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,c),p&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,p),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,p))}(a,p[a],s)}finally{null!==C&&hn(C),k(b),v.resolving=!1,bu()}}return c}function yl(i,s,a){return!!(a[s+(i>>5)]&1<<i)}function Du(i,s){return!(i&Ke.Self||i&Ke.Host&&s)}class $o{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,l){return Ho(this._tNode,this._lView,s,l,a)}}function ac(){return new $o(Nn(),Oe())}function Fs(i){return Bn(()=>{const s=i.prototype.constructor,a=s[rr]||vl(s),l=Object.prototype;let c=Object.getPrototypeOf(i.prototype).constructor;for(;c&&c!==l;){const p=c[rr]||vl(c);if(p&&p!==a)return p;c=Object.getPrototypeOf(c)}return p=>new p})}function vl(i){return Fe(i)?()=>{const s=vl(Y(i));return s&&s()}:Si(i)}function Da(i){const s=i[1],a=s.type;return 2===a?s.declTNode:1===a?i[6]:null}function _l(i){return function ld(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const l=a.length;let c=0;for(;c<l;){const p=a[c];if(Rs(p))break;if(0===p)c+=2;else if("number"==typeof p)for(c++;c<l&&"string"==typeof a[c];)c++;else{if(p===s)return a[c+1];c+=2}}}return null}(Nn(),i)}const oo="__parameters__";function Sa(i,s,a){return Bn(()=>{const l=function wl(i){return function(...a){if(i){const l=i(...a);for(const c in l)this[c]=l[c]}}}(s);function c(...p){if(this instanceof c)return l.apply(this,p),this;const v=new c(...p);return b.annotation=v,b;function b(C,S,R){const U=C.hasOwnProperty(oo)?C[oo]:Object.defineProperty(C,oo,{value:[]})[oo];for(;U.length<=R;)U.push(null);return(U[R]=U[R]||[]).push(v),C}}return a&&(c.prototype=Object.create(a.prototype)),c.prototype.ngMetadataName=i,c.annotationCls=c,c})}class On{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=yt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function $n(i,s){void 0===s&&(s=i);for(let a=0;a<i.length;a++){let l=i[a];Array.isArray(l)?(s===i&&(s=i.slice(0,a)),$n(l,s)):s!==i&&s.push(l)}return s}function ns(i,s){i.forEach(a=>Array.isArray(a)?ns(a,s):s(a))}function Au(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function zr(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function ut(i,s,a){let l=lo(i,s);return l>=0?i[1|l]=a:(l=~l,function lc(i,s,a,l){let c=i.length;if(c==s)i.push(a,l);else if(1===c)i.push(l,i[0]),i[0]=a;else{for(c--,i.push(i[c-1],i[c]);c>s;)i[c]=i[c-2],c--;i[s]=a,i[s+1]=l}}(i,l,s,a)),l}function xu(i,s){const a=lo(i,s);if(a>=0)return i[1|a]}function lo(i,s){return function Ma(i,s,a){let l=0,c=i.length>>a;for(;c!==l;){const p=l+(c-l>>1),v=i[p<<a];if(s===v)return p<<a;v>s?c=p:l=p+1}return~(c<<a)}(i,s,1)}const rs={},hc="__NG_DI_FLAG__",Na="ngTempTokenPath",Ls=/\n/gm,qr="__source";let fo;function Vs(i){const s=fo;return fo=i,s}function mr(i,s=Ke.Default){if(void 0===fo)throw new Ae(-203,!1);return null===fo?ei(i,void 0,s):fo.get(i,s&Ke.Optional?null:void 0,s)}function Vn(i,s=Ke.Default){return(function di(){return Er}()||mr)(Y(i),s)}function D(i,s=Ke.Default){return"number"!=typeof s&&(s=0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)),Vn(i,s)}function A(i){const s=[];for(let a=0;a<i.length;a++){const l=Y(i[a]);if(Array.isArray(l)){if(0===l.length)throw new Ae(900,!1);let c,p=Ke.Default;for(let v=0;v<l.length;v++){const b=l[v],C=B(b);"number"==typeof C?-1===C?c=b.token:p|=C:c=b}s.push(Vn(c,p))}else s.push(Vn(l))}return s}function N(i,s){return i[hc]=s,i.prototype[hc]=s,i}function B(i){return i[hc]}const $e=N(Sa("Optional"),8),Nt=N(Sa("SkipSelf"),4);let Ph;function Tp(i){Ph=i}class pd{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function bs(i){return i instanceof pd?i.changingThisBreaksApplicationSecurity:i}const Pu=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var lr=(()=>((lr=lr||{})[lr.NONE=0]="NONE",lr[lr.HTML=1]="HTML",lr[lr.STYLE=2]="STYLE",lr[lr.SCRIPT=3]="SCRIPT",lr[lr.URL=4]="URL",lr[lr.RESOURCE_URL=5]="RESOURCE_URL",lr))();function vd(i){const s=function Tl(){const i=Oe();return i&&i[12]}();return s?s.sanitize(lr.URL,i)||"":function Pa(i,s){const a=function Lh(i){return i instanceof pd&&i.getTypeName()||null}(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===s}(i,"URL")?bs(i):function gc(i){return(i=String(i)).match(Pu)?i:"unsafe:"+i}(we(i))}const Hh=new On("ENVIRONMENT_INITIALIZER"),Vp=new On("INJECTOR",-1),Up=new On("INJECTOR_DEF_TYPES");class Bp{get(s,a=rs){if(a===rs){const l=new Error(`NullInjectorError: No provider for ${re(s)}!`);throw l.name="NullInjectorError",l}return a}}function jp(...i){return{\u0275providers:Ed(0,i)}}function Ed(i,...s){const a=[],l=new Set;let c;return ns(s,p=>{const v=p;vc(v,a,[],l)&&(c||(c=[]),c.push(v))}),void 0!==c&&Id(c,a),a}function Id(i,s){for(let a=0;a<i.length;a++){const{providers:c}=i[a];ns(c,p=>{s.push(p)})}}function vc(i,s,a,l){if(!(i=Y(i)))return!1;let c=null,p=Tt(i);const v=!p&&oe(i);if(p||v){if(v&&!v.standalone)return!1;c=i}else{const C=i.ngModule;if(p=Tt(C),!p)return!1;c=C}const b=l.has(c);if(v){if(b)return!1;if(l.add(c),v.dependencies){const C="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const S of C)vc(S,s,a,l)}}else{if(!p)return!1;{if(null!=p.imports&&!b){let S;l.add(c);try{ns(p.imports,R=>{vc(R,s,a,l)&&(S||(S=[]),S.push(R))})}finally{}void 0!==S&&Id(S,s)}if(!b){const S=Si(c)||(()=>new c);s.push({provide:c,useFactory:S,deps:Pt},{provide:Up,useValue:c,multi:!0},{provide:Hh,useValue:()=>Vn(c),multi:!0})}const C=p.providers;null==C||b||ns(C,R=>{s.push(R)})}}return c!==i&&void 0!==i.providers}const Cd=ne({provide:String,useValue:ne});function _c(i){return null!==i&&"object"==typeof i&&Cd in i}function ss(i){return"function"==typeof i}const Al=new On("Set Injector scope."),Sl={},Uu={};let wc;function Dd(){return void 0===wc&&(wc=new Bp),wc}class Wr{}class Td extends Wr{constructor(s,a,l,c){super(),this.parent=a,this.source=l,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,La(s,v=>this.processProvider(v)),this.records.set(Vp,Or(void 0,this)),c.has("environment")&&this.records.set(Wr,Or(void 0,this));const p=this.records.get(Al);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(Up.multi,Pt,Ke.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();for(const s of this._onDestroyHooks)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(s){this._onDestroyHooks.push(s)}runInContext(s){this.assertNotDestroyed();const a=Vs(this),l=hn(void 0);try{return s()}finally{Vs(a),hn(l)}}get(s,a=rs,l=Ke.Default){this.assertNotDestroyed();const c=Vs(this),p=hn(void 0);try{if(!(l&Ke.SkipSelf)){let b=this.records.get(s);if(void 0===b){const C=function hy(i){return"function"==typeof i||"object"==typeof i&&i instanceof On}(s)&&rn(s);b=C&&this.injectableDefInScope(C)?Or(bc(s),Sl):null,this.records.set(s,b)}if(null!=b)return this.hydrate(s,b)}return(l&Ke.Self?Dd():this.parent).get(s,a=l&Ke.Optional&&a===rs?null:a)}catch(v){if("NullInjectorError"===v.name){if((v[Na]=v[Na]||[]).unshift(re(s)),c)throw v;return function te(i,s,a,l){const c=i[Na];throw s[qr]&&c.unshift(s[qr]),i.message=function me(i,s,a,l=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let c=re(s);if(Array.isArray(s))c=s.map(re).join(" -> ");else if("object"==typeof s){let p=[];for(let v in s)if(s.hasOwnProperty(v)){let b=s[v];p.push(v+":"+("string"==typeof b?JSON.stringify(b):re(b)))}c=`{${p.join(", ")}}`}return`${a}${l?"("+l+")":""}[${c}]: ${i.replace(Ls,"\n  ")}`}("\n"+i.message,c,a,l),i.ngTokenPath=c,i[Na]=null,i}(v,s,"R3InjectorError",this.source)}throw v}finally{hn(p),Vs(c)}}resolveInjectorInitializers(){const s=Vs(this),a=hn(void 0);try{const l=this.get(Hh.multi,Pt,Ke.Self);for(const c of l)c()}finally{Vs(s),hn(a)}}toString(){const s=[],a=this.records;for(const l of a.keys())s.push(re(l));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ae(205,!1)}processProvider(s){let a=ss(s=Y(s))?s:Y(s&&s.provide);const l=function $h(i){return _c(i)?Or(void 0,i.useValue):Or(Ec(i),Sl)}(s);if(ss(s)||!0!==s.multi)this.records.get(a);else{let c=this.records.get(a);c||(c=Or(void 0,Sl,!0),c.factory=()=>A(c.multi),this.records.set(a,c)),a=s,c.multi.push(s)}this.records.set(a,l)}hydrate(s,a){return a.value===Sl&&(a.value=Uu,a.value=a.factory()),"object"==typeof a.value&&a.value&&function Gh(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=Y(s.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function bc(i){const s=rn(i),a=null!==s?s.factory:Si(i);if(null!==a)return a;if(i instanceof On)throw new Ae(204,!1);if(i instanceof Function)return function $p(i){const s=i.length;if(s>0)throw function ao(i,s){const a=[];for(let l=0;l<i;l++)a.push(s);return a}(s,"?"),new Ae(204,!1);const a=function Ft(i){const s=i&&(i[Mn]||i[hr]);if(s){const a=function gn(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new Ae(204,!1)}function Ec(i,s,a){let l;if(ss(i)){const c=Y(i);return Si(c)||bc(c)}if(_c(i))l=()=>Y(i.useValue);else if(function Oi(i){return!(!i||!i.useFactory)}(i))l=()=>i.useFactory(...A(i.deps||[]));else if(function oi(i){return!(!i||!i.useExisting)}(i))l=()=>Vn(Y(i.useExisting));else{const c=Y(i&&(i.useClass||i.provide));if(!function Bu(i){return!!i.deps}(i))return Si(c)||bc(c);l=()=>new c(...A(i.deps))}return l}function Or(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function Us(i){return!!i.\u0275providers}function La(i,s){for(const a of i)Array.isArray(a)?La(a,s):Us(a)?La(a.\u0275providers,s):s(a)}class Ad{}class Md{resolveComponentFactory(s){throw function Gp(i){const s=Error(`No component factory found for ${re(i)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=i,s}(s)}}let ju=(()=>{class i{}return i.NULL=new Md,i})();function fy(){return y(Nn(),Oe())}function y(i,s){return new f(Nr(i,s))}let f=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=fy,i})();function g(i){return i instanceof f?i.nativeElement:i}class x{}let P=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function Q(){const i=Oe(),a=un(Nn().index,i);return(sr(a)?a:i)[11]}(),i})(),_e=(()=>{class i{}return i.\u0275prov=yt({token:i,providedIn:"root",factory:()=>null}),i})();class Ye{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const at=new Ye("14.2.6"),St={};function yy(i){return i.ngOriginalError}class Zh{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s);this._console.error("ERROR",s),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&yy(s);for(;a&&yy(a);)a=yy(a);return a||null}}const vy=new Map;let rC=0;const Yp="__ngContext__";function ai(i,s){sr(s)?(i[Yp]=s[20],function sC(i){vy.set(i[20],i)}(s)):i[Yp]=s}function Gu(i){return i instanceof Function?i():i}var Ua=(()=>((Ua=Ua||{})[Ua.Important=1]="Important",Ua[Ua.DashCase=2]="DashCase",Ua))();function Iy(i,s){return undefined(i,s)}function Od(i){const s=i[3];return Vr(s)?s[3]:s}function Xp(i){return Gw(i[13])}function eg(i){return Gw(i[4])}function Gw(i){for(;null!==i&&!Vr(i);)i=i[4];return i}function Pd(i,s,a,l,c){if(null!=l){let p,v=!1;Vr(l)?p=l:sr(l)&&(v=!0,l=l[0]);const b=In(l);0===i&&null!==a?null==c?Qw(s,a,b):Ba(s,a,b,c||null,!0):1===i&&null!==a?Ba(s,a,b,c||null,!0):2===i?function _C(i,s,a){const l=rg(i,s);l&&function vC(i,s,a,l){i.removeChild(s,a,l)}(i,l,s,a)}(s,b,v):3===i&&s.destroyNode(b),null!=p&&function MS(i,s,a,l,c){const p=a[7];p!==In(a)&&Pd(s,i,l,p,c);for(let b=10;b<a.length;b++){const C=a[b];Cc(C[1],C,i,s,l,p)}}(s,i,p,a,c)}}function tg(i,s,a){return i.createElement(s,a)}function Zw(i,s){const a=i[9],l=a.indexOf(s),c=s[3];512&s[2]&&(s[2]&=-513,Fn(c,-1)),a.splice(l,1)}function Ay(i,s){if(i.length<=10)return;const a=10+s,l=i[a];if(l){const c=l[17];null!==c&&c!==i&&Zw(c,l),s>0&&(i[a-1][4]=l[4]);const p=zr(i,10+s);!function Ty(i,s){Cc(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(l[1],l);const v=p[19];null!==v&&v.detachView(p[1]),l[3]=null,l[4]=null,l[2]&=-65}return l}function Qh(i,s){if(!(128&s[2])){const a=s[11];a.destroyNode&&Cc(i,s,a,3,null,null),function SS(i){let s=i[13];if(!s)return ng(i[1],i);for(;s;){let a=null;if(sr(s))a=s[13];else{const l=s[10];l&&(a=l)}if(!a){for(;s&&!s[4]&&s!==i;)sr(s)&&ng(s[1],s),s=s[3];null===s&&(s=i),sr(s)&&ng(s[1],s),a=s&&s[4]}s=a}}(s)}}function ng(i,s){if(!(128&s[2])){s[2]&=-65,s[2]|=128,function xy(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let l=0;l<a.length;l+=2){const c=s[a[l]];if(!(c instanceof ms)){const p=a[l+1];if(Array.isArray(p))for(let v=0;v<p.length;v+=2){const b=c[p[v]],C=p[v+1];try{C.call(b)}finally{}}else try{p.call(c)}finally{}}}}(i,s),function Sy(i,s){const a=i.cleanup,l=s[7];let c=-1;if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const v=a[p+1],b="function"==typeof v?v(s):In(s[v]),C=l[c=a[p+2]],S=a[p+3];"boolean"==typeof S?b.removeEventListener(a[p],C,S):S>=0?l[c=S]():l[c=-S].unsubscribe(),p+=2}else{const v=l[c=a[p+1]];a[p].call(v)}if(null!==l){for(let p=c+1;p<l.length;p++)(0,l[p])();s[7]=null}}(i,s),1===s[1].type&&s[11].destroy();const a=s[17];if(null!==a&&Vr(s[3])){a!==s[3]&&Zw(a,s);const l=s[19];null!==l&&l.detachView(i)}!function oC(i){vy.delete(i[20])}(s)}}function Kw(i,s,a){return function Yw(i,s,a){let l=s;for(;null!==l&&40&l.type;)l=(s=l).parent;if(null===l)return a[0];if(2&l.flags){const c=i.data[l.directiveStart].encapsulation;if(c===He.None||c===He.Emulated)return null}return Nr(l,a)}(i,s.parent,a)}function Ba(i,s,a,l,c){i.insertBefore(s,a,l,c)}function Qw(i,s,a){i.appendChild(s,a)}function Jw(i,s,a,l,c){null!==l?Ba(i,s,a,l,c):Qw(i,s,a)}function rg(i,s){return i.parentNode(s)}let My=function e0(i,s,a){return 40&i.type?Nr(i,a):null};function sg(i,s,a,l){const c=Kw(i,l,s),p=s[11],b=function ui(i,s,a){return My(i,s,a)}(l.parent||s[6],l,s);if(null!=c)if(Array.isArray(a))for(let C=0;C<a.length;C++)Jw(p,c,a[C],b,!1);else Jw(p,c,a,b,!1)}function og(i,s){if(null!==s){const a=s.type;if(3&a)return Nr(s,i);if(4&a)return t0(-1,i[s.index]);if(8&a){const l=s.child;if(null!==l)return og(i,l);{const c=i[s.index];return Vr(c)?t0(-1,c):In(c)}}if(32&a)return Iy(s,i)()||In(i[s.index]);{const l=ky(i,s);return null!==l?Array.isArray(l)?l[0]:og(Od(i[16]),l):og(i,s.next)}}return null}function ky(i,s){return null!==s?i[16][6].projection[s.projection]:null}function t0(i,s){const a=10+i+1;if(a<s.length){const l=s[a],c=l[1].firstChild;if(null!==c)return og(l,c)}return s[7]}function Ny(i,s,a,l,c,p,v){for(;null!=a;){const b=l[a.index],C=a.type;if(v&&0===s&&(b&&ai(In(b),l),a.flags|=4),64!=(64&a.flags))if(8&C)Ny(i,s,a.child,l,c,p,!1),Pd(s,i,c,b,p);else if(32&C){const S=Iy(a,l);let R;for(;R=S();)Pd(s,i,c,R,p);Pd(s,i,c,b,p)}else 16&C?Xh(i,s,l,a,c,p):Pd(s,i,c,b,p);a=v?a.projectionNext:a.next}}function Cc(i,s,a,l,c,p){Ny(a,l,i.firstChild,s,c,p,!1)}function Xh(i,s,a,l,c,p){const v=a[16],C=v[6].projection[l.projection];if(Array.isArray(C))for(let S=0;S<C.length;S++)Pd(s,i,c,C[S],p);else Ny(i,s,C,v[3],c,p,!0)}function Dc(i,s,a){i.setAttribute(s,"style",a)}function ef(i,s,a){""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a)}function wC(i,s,a){let l=i.length;for(;;){const c=i.indexOf(s,a);if(-1===c)return c;if(0===c||i.charCodeAt(c-1)<=32){const p=s.length;if(c+p===l||i.charCodeAt(c+p)<=32)return c}a=c+1}}const Ry="ng-template";function Oy(i,s,a){let l=0;for(;l<i.length;){let c=i[l++];if(a&&"class"===c){if(c=i[l],-1!==wC(c.toLowerCase(),s,0))return!0}else if(1===c){for(;l<i.length&&"string"==typeof(c=i[l++]);)if(c.toLowerCase()===s)return!0;return!1}}return!1}function s0(i){return 4===i.type&&i.value!==Ry}function EC(i,s,a){return s===(4!==i.type||a?i.value:Ry)}function IC(i,s,a){let l=4;const c=i.attrs||[],p=function kS(i){for(let s=0;s<i.length;s++)if(Rs(i[s]))return s;return i.length}(c);let v=!1;for(let b=0;b<s.length;b++){const C=s[b];if("number"!=typeof C){if(!v)if(4&l){if(l=2|1&l,""!==C&&!EC(i,C,a)||""===C&&1===s.length){if(yo(l))return!1;v=!0}}else{const S=8&l?C:s[++b];if(8&l&&null!==i.attrs){if(!Oy(i.attrs,S,a)){if(yo(l))return!1;v=!0}continue}const U=CC(8&l?"class":C,c,s0(i),a);if(-1===U){if(yo(l))return!1;v=!0;continue}if(""!==S){let K;K=U>p?"":c[U+1].toLowerCase();const he=8&l?K:null;if(he&&-1!==wC(he,S,0)||2&l&&S!==K){if(yo(l))return!1;v=!0}}}}else{if(!v&&!yo(l)&&!yo(C))return!1;if(v&&yo(C))continue;v=!1,l=C|1&l}}return yo(l)||v}function yo(i){return 0==(1&i)}function CC(i,s,a,l){if(null===s)return-1;let c=0;if(l||!a){let p=!1;for(;c<s.length;){const v=s[c];if(v===i)return c;if(3===v||6===v)p=!0;else{if(1===v||2===v){let b=s[++c];for(;"string"==typeof b;)b=s[++c];continue}if(4===v)break;if(0===v){c+=4;continue}}c+=p?1:2}return-1}return function o0(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const l=i[a];if("number"==typeof l)return-1;if(l===s)return a;a++}return-1}(s,i)}function DC(i,s,a=!1){for(let l=0;l<s.length;l++)if(IC(i,s[l],a))return!0;return!1}function a0(i,s){return i?":not("+s.trim()+")":s}function u0(i){let s=i[0],a=1,l=2,c="",p=!1;for(;a<i.length;){let v=i[a];if("string"==typeof v)if(2&l){const b=i[++a];c+="["+v+(b.length>0?'="'+b+'"':"")+"]"}else 8&l?c+="."+v:4&l&&(c+=" "+v);else""!==c&&!yo(v)&&(s+=a0(p,c),c=""),l=v,p=p||!yo(l);a++}return""!==c&&(s+=a0(p,c)),s}const en={};function l0(i){c0(sn(),Oe(),ar()+i,!1)}function c0(i,s,a,l){if(!l)if(3==(3&s[2])){const p=i.preOrderCheckHooks;null!==p&&Ms(s,p,a)}else{const p=i.preOrderHooks;null!==p&&no(s,p,0,a)}Gr(a)}function p0(i,s=null,a=null,l){const c=Fy(i,s,a,l);return c.resolveInjectorInitializers(),c}function Fy(i,s=null,a=null,l,c=new Set){const p=[a||Pt,jp(i)];return l=l||("object"==typeof i?void 0:re(i)),new Td(p,s||Dd(),l||null,c)}let Ac=(()=>{class i{static create(a,l){if(Array.isArray(a))return p0({name:""},l,a,"");{const c=a.name??"";return p0({name:c},a.parent,a.providers,c)}}}return i.THROW_IF_NOT_FOUND=rs,i.NULL=new Bp,i.\u0275prov=yt({token:i,providedIn:"any",factory:()=>Vn(Vp)}),i.__NG_ELEMENT_ID__=-1,i})();function Mc(i,s=Ke.Default){const a=Oe();return null===a?Vn(i,s):Ho(Nn(),a,Y(i),s)}function lg(){throw new Error("invalid")}function af(i,s){return i<<17|s<<2}function vo(i){return i>>17&32767}function ja(i){return 2|i}function Ha(i){return(131068&i)>>2}function C0(i,s){return-131069&i|s<<2}function cg(i){return 1|i}function O0(i,s){const a=i.contentQueries;if(null!==a)for(let l=0;l<a.length;l+=2){const c=a[l],p=a[l+1];if(-1!==p){const v=i.data[p];Vo(c),v.contentQueries(2,s[p],p)}}}function yg(i,s,a,l,c,p,v,b,C,S,R){const U=s.blueprint.slice();return U[0]=c,U[2]=76|l,(null!==R||i&&1024&i[2])&&(U[2]|=1024),pa(U),U[3]=U[15]=i,U[8]=a,U[10]=v||i&&i[10],U[11]=b||i&&i[11],U[12]=C||i&&i[12]||null,U[9]=S||i&&i[9]||null,U[6]=p,U[20]=function iC(){return rC++}(),U[21]=R,U[16]=2==s.type?i[16]:U,U}function Nc(i,s,a,l,c){let p=i.data[s];if(null===p)p=function Qy(i,s,a,l,c){const p=No(),v=Ro(),C=i.data[s]=function F0(i,s,a,l,c,p){return{type:a,index:l,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?p:p&&p.parent,a,s,l,c);return null===i.firstChild&&(i.firstChild=C),null!==p&&(v?null==p.child&&null!==C.parent&&(p.child=C):null===p.next&&(p.next=C)),C}(i,s,a,l,c),function ad(){return kt.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=a,p.value=l,p.attrs=c;const v=function Xs(){const i=kt.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();p.injectorIndex=null===v?-1:v.injectorIndex}return ri(p,!0),p}function df(i,s,a,l){if(0===a)return-1;const c=s.length;for(let p=0;p<a;p++)s.push(l),i.blueprint.push(l),i.data.push(null);return c}function Jy(i,s,a){Bo(s);try{const l=i.viewQuery;null!==l&&Ig(1,l,a);const c=i.template;null!==c&&qC(i,s,c,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&O0(i,s),i.staticViewQueries&&Ig(2,i.viewQuery,a);const p=i.components;null!==p&&function P0(i,s){for(let a=0;a<s.length;a++)XC(i,s[a])}(s,p)}catch(l){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),l}finally{s[2]&=-5,Xi()}}function hf(i,s,a,l){const c=s[2];if(128!=(128&c)){Bo(s);try{pa(s),function pu(i){return kt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&qC(i,s,a,2,l);const v=3==(3&c);if(v){const S=i.preOrderCheckHooks;null!==S&&Ms(s,S,null)}else{const S=i.preOrderHooks;null!==S&&no(s,S,0,null),gs(s,0)}if(function Eg(i){for(let s=Xp(i);null!==s;s=eg(s)){if(!s[2])continue;const a=s[9];for(let l=0;l<a.length;l++){const c=a[l],p=c[3];0==(512&c[2])&&Fn(p,1),c[2]|=512}}}(s),function QC(i){for(let s=Xp(i);null!==s;s=eg(s))for(let a=10;a<s.length;a++){const l=s[a],c=l[1];As(l)&&hf(c,l,c.template,l[8])}}(s),null!==i.contentQueries&&O0(i,s),v){const S=i.contentCheckHooks;null!==S&&Ms(s,S)}else{const S=i.contentHooks;null!==S&&no(s,S,1),gs(s,1)}!function mg(i,s){const a=i.hostBindingOpCodes;if(null!==a)try{for(let l=0;l<a.length;l++){const c=a[l];if(c<0)Gr(~c);else{const p=c,v=a[++l],b=a[++l];ud(v,p),b(2,s[p])}}}finally{Gr(-1)}}(i,s);const b=i.components;null!==b&&function zC(i,s){for(let a=0;a<s.length;a++)JC(i,s[a])}(s,b);const C=i.viewQuery;if(null!==C&&Ig(2,C,l),v){const S=i.viewCheckHooks;null!==S&&Ms(s,S)}else{const S=i.viewHooks;null!==S&&no(s,S,2),gs(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),s[2]&=-41,512&s[2]&&(s[2]&=-513,Fn(s[3],-1))}finally{Xi()}}}function qC(i,s,a,l,c){const p=ar(),v=2&l;try{Gr(-1),v&&s.length>22&&c0(i,s,22,!1),a(l,c)}finally{Gr(p)}}function Xy(i,s,a){!Ji()||(function WC(i,s,a,l){const c=a.directiveStart,p=a.directiveEnd;i.firstCreatePass||si(a,s),ai(l,s);const v=a.initialInputs;for(let b=c;b<p;b++){const C=i.data[b],S=kr(C);S&&YC(s,a,C);const R=Ps(s,i,b,a);ai(R,s),null!==v&&G0(0,b-c,R,C,0,v),S&&(un(a.index,s)[8]=R)}}(i,s,a,Nr(a,s)),128==(128&a.flags)&&function B0(i,s,a){const l=a.directiveStart,c=a.directiveEnd,p=a.index,v=function gu(){return kt.lFrame.currentDirectiveIndex}();try{Gr(p);for(let b=l;b<c;b++){const C=i.data[b],S=s[b];Fo(b),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&rv(C,S)}}finally{Gr(-1),Fo(v)}}(i,s,a))}function _g(i,s,a=Nr){const l=s.localNames;if(null!==l){let c=s.index+1;for(let p=0;p<l.length;p+=2){const v=l[p+1],b=-1===v?a(s,i):i[v];i[c++]=b}}}function wg(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=ev(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function ev(i,s,a,l,c,p,v,b,C,S){const R=22+l,U=R+c,K=function US(i,s){const a=[];for(let l=0;l<s;l++)a.push(l<i?null:en);return a}(R,U),he="function"==typeof S?S():S;return K[1]={type:i,blueprint:K,template:a,queries:null,viewQuery:b,declTNode:s,data:K.slice().fill(null,R),bindingStartIndex:R,expandoStartIndex:U,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:C,consts:he,incompleteFirstPass:!1}}function bg(i,s,a,l){const c=Cg(s);null===a?c.push(l):(c.push(a),i.firstCreatePass&&z0(i).push(l,c.length-1))}function tv(i,s,a){for(let l in i)if(i.hasOwnProperty(l)){const c=i[l];(a=null===a?{}:a).hasOwnProperty(l)?a[l].push(s,c):a[l]=[s,c]}return a}function Ud(i,s){const l=s.directiveEnd,c=i.data,p=s.attrs,v=[];let b=null,C=null;for(let S=s.directiveStart;S<l;S++){const R=c[S],U=R.inputs,K=null===p||s0(s)?null:ov(U,p);v.push(K),b=tv(U,S,b),C=tv(R.outputs,S,C)}null!==b&&(b.hasOwnProperty("class")&&(s.flags|=16),b.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=v,s.inputs=b,s.outputs=C}function Bs(i,s,a,l,c,p,v,b){const C=Nr(s,a);let R,S=s.inputs;!b&&null!=S&&(R=S[l])?(dv(i,a,R,l,c),Ai(s)&&nv(a,s.index)):3&s.type&&(l=function jS(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(l),c=null!=v?v(c,s.value||"",l):c,p.setProperty(C,l,c))}function nv(i,s){const a=un(s,i);16&a[2]||(a[2]|=32)}function L0(i,s,a,l){let c=!1;if(Ji()){const p=function j0(i,s,a){const l=i.directiveRegistry;let c=null;if(l)for(let p=0;p<l.length;p++){const v=l[p];DC(a,v.selectors,!1)&&(c||(c=[]),io(si(a,s),i,v.type),kr(v)?(H0(i,a),c.unshift(v)):c.push(v))}return c}(i,s,a),v=null===l?null:{"":-1};if(null!==p){c=!0,KC(a,i.data.length,p.length);for(let R=0;R<p.length;R++){const U=p[R];U.providersResolver&&U.providersResolver(U)}let b=!1,C=!1,S=df(i,s,p.length,null);for(let R=0;R<p.length;R++){const U=p[R];a.mergedAttrs=jo(a.mergedAttrs,U.hostAttrs),iv(i,a,s,S,U),ZC(S,U,v),null!==U.contentQueries&&(a.flags|=8),(null!==U.hostBindings||null!==U.hostAttrs||0!==U.hostVars)&&(a.flags|=128);const K=U.type.prototype;!b&&(K.ngOnChanges||K.ngOnInit||K.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),b=!0),!C&&(K.ngOnChanges||K.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),C=!0),S++}Ud(i,a)}v&&function $0(i,s,a){if(s){const l=i.localNames=[];for(let c=0;c<s.length;c+=2){const p=a[s[c+1]];if(null==p)throw new Ae(-301,!1);l.push(s[c],p)}}}(a,l,v)}return a.mergedAttrs=jo(a.mergedAttrs,a.attrs),c}function V0(i,s,a,l,c,p){const v=p.hostBindings;if(v){let b=i.hostBindingOpCodes;null===b&&(b=i.hostBindingOpCodes=[]);const C=~s.index;(function U0(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(b)!=C&&b.push(C),b.push(l,c,v)}}function rv(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function H0(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function ZC(i,s,a){if(a){if(s.exportAs)for(let l=0;l<s.exportAs.length;l++)a[s.exportAs[l]]=i;kr(s)&&(a[""]=i)}}function KC(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}function iv(i,s,a,l,c){i.data[l]=c;const p=c.factory||(c.factory=Si(c.type)),v=new ms(p,kr(c),Mc);i.blueprint[l]=v,a[l]=v,V0(i,s,0,l,df(i,a,c.hostVars,en),c)}function YC(i,s,a){const l=Nr(s,i),c=wg(a),p=i[10],v=gf(i,yg(i,c,null,a.onPush?32:16,l,s,p,p.createRenderer(l,a),null,null,null));i[s.index]=v}function Qo(i,s,a,l,c,p){const v=Nr(i,s);!function sv(i,s,a,l,c,p,v){if(null==p)i.removeAttribute(s,c,a);else{const b=null==v?we(p):v(p,l||"",c);i.setAttribute(s,c,b,a)}}(s[11],v,p,i.value,a,l,c)}function G0(i,s,a,l,c,p){const v=p[s];if(null!==v){const b=l.setInput;for(let C=0;C<v.length;){const S=v[C++],R=v[C++],U=v[C++];null!==b?l.setInput(a,U,S,R):a[R]=U}}}function ov(i,s){let a=null,l=0;for(;l<s.length;){const c=s[l];if(0!==c)if(5!==c){if("number"==typeof c)break;i.hasOwnProperty(c)&&(null===a&&(a=[]),a.push(c,i[c],s[l+1])),l+=2}else l+=2;else l+=4}return a}function av(i,s,a,l){return new Array(i,!0,!1,s,null,0,l,a,null,null)}function JC(i,s){const a=un(s,i);if(As(a)){const l=a[1];48&a[2]?hf(l,a,l.template,a[8]):a[5]>0&&pf(a)}}function pf(i){for(let l=Xp(i);null!==l;l=eg(l))for(let c=10;c<l.length;c++){const p=l[c];if(As(p))if(512&p[2]){const v=p[1];hf(v,p,v.template,p[8])}else p[5]>0&&pf(p)}const a=i[1].components;if(null!==a)for(let l=0;l<a.length;l++){const c=un(a[l],i);As(c)&&c[5]>0&&pf(c)}}function XC(i,s){const a=un(s,i),l=a[1];(function uv(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])})(l,a),Jy(l,a,a[8])}function gf(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function lv(i){for(;i;){i[2]|=32;const s=Od(i);if(tu(i)&&!s)return i;i=s}return null}function Bd(i,s,a,l=!0){const c=s[10];c.begin&&c.begin();try{hf(i,s,i.template,a)}catch(v){throw l&&cv(s,v),v}finally{c.end&&c.end()}}function Ig(i,s,a){Vo(0),s(i,a)}function Cg(i){return i[7]||(i[7]=[])}function z0(i){return i.cleanup||(i.cleanup=[])}function cv(i,s){const a=i[9],l=a?a.get(Zh,null):null;l&&l.handleError(s)}function dv(i,s,a,l,c){for(let p=0;p<a.length;){const v=a[p++],b=a[p++],C=s[v],S=i.data[v];null!==S.setInput?S.setInput(C,c,l,b):C[b]=c}}function jd(i,s,a){let l=a?i.styles:null,c=a?i.classes:null,p=0;if(null!==s)for(let v=0;v<s.length;v++){const b=s[v];"number"==typeof b?p=b:1==p?c=ce(c,b):2==p&&(l=ce(l,b+": "+s[++v]+";"))}a?i.styles=l:i.stylesWithoutHost=l,a?i.classes=c:i.classesWithoutHost=c}function Dg(i,s,a,l,c=!1){for(;null!==a;){const p=s[a.index];if(null!==p&&l.push(In(p)),Vr(p))for(let b=10;b<p.length;b++){const C=p[b],S=C[1].firstChild;null!==S&&Dg(C[1],C,S,l)}const v=a.type;if(8&v)Dg(i,s,a.child,l);else if(32&v){const b=Iy(a,s);let C;for(;C=b();)l.push(C)}else if(16&v){const b=ky(s,a);if(Array.isArray(b))l.push(...b);else{const C=Od(s[16]);Dg(C[1],C,b,l,!0)}}a=c?a.projectionNext:a.next}return l}class Hd{constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,a=s[1];return Dg(a,s,a.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(Vr(s)){const a=s[8],l=a?a.indexOf(this):-1;l>-1&&(Ay(s,l),zr(a,l))}this._attachedToViewContainer=!1}Qh(this._lView[1],this._lView)}onDestroy(s){bg(this._lView[1],this._lView,null,s)}markForCheck(){lv(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Bd(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ae(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ww(i,s){Cc(i,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Ae(902,!1);this._appRef=s}}class W0 extends Hd{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;Bd(s[1],s,s[8],!1)}checkNoChanges(){}get context(){return null}}class qu extends ju{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=oe(s);return new $d(a,this.ngModule)}}function Z0(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}class eD{constructor(s,a){this.injector=s,this.parentInjector=a}get(s,a,l){const c=this.injector.get(s,St,l);return c!==St||a===St?c:this.parentInjector.get(s,a,l)}}class $d extends Ad{constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function AC(i){return i.map(u0).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return Z0(this.componentDef.inputs)}get outputs(){return Z0(this.componentDef.outputs)}create(s,a,l,c){let p=(c=c||this.ngModule)instanceof Wr?c:c?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const v=p?new eD(s,p):s,b=v.get(x,null);if(null===b)throw new Ae(407,!1);const C=v.get(_e,null),S=b.createRenderer(null,this.componentDef),R=this.componentDef.selectors[0][0]||"div",U=l?function ff(i,s,a){return i.selectRootElement(s,a===He.ShadowDom)}(S,l,this.componentDef.encapsulation):tg(b.createRenderer(null,this.componentDef),R,function K0(i){const s=i.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(R)),K=this.componentDef.onPush?288:272,he=ev(0,null,null,1,0,null,null,null,null,null),Me=yg(null,he,null,K,null,null,b,S,C,v,null);let qe,et;Bo(Me);try{const gt=function rD(i,s,a,l,c,p){const v=a[1];a[22]=i;const C=Nc(v,22,2,"#host",null),S=C.mergedAttrs=s.hostAttrs;null!==S&&(jd(C,S,!0),null!==i&&(ro(c,i,S),null!==C.classes&&ef(c,i,C.classes),null!==C.styles&&Dc(c,i,C.styles)));const R=l.createRenderer(i,s),U=yg(a,wg(s),null,s.onPush?32:16,a[22],C,l,R,p||null,null,null);return v.firstCreatePass&&(io(si(C,a),v,s.type),H0(v,C),KC(C,a.length,1)),gf(a,U),a[22]=U}(U,this.componentDef,Me,b,S);if(U)if(l)ro(S,U,["ng-version",at.full]);else{const{attrs:Mt,classes:Le}=function SC(i){const s=[],a=[];let l=1,c=2;for(;l<i.length;){let p=i[l];if("string"==typeof p)2===c?""!==p&&s.push(p,i[++l]):8===c&&a.push(p);else{if(!yo(c))break;c=p}l++}return{attrs:s,classes:a}}(this.componentDef.selectors[0]);Mt&&ro(S,U,Mt),Le&&Le.length>0&&ef(S,U,Le.join(" "))}if(et=Ki(he,22),void 0!==a){const Mt=et.projection=[];for(let Le=0;Le<this.ngContentSelectors.length;Le++){const Lt=a[Le];Mt.push(null!=Lt?Array.from(Lt):null)}}qe=function Y0(i,s,a,l){const c=a[1],p=function $S(i,s,a){const l=Nn();i.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),iv(i,l,s,df(i,s,1,null),a),Ud(i,l));const c=Ps(s,i,l.directiveStart,l);ai(c,s);const p=Nr(l,s);return p&&ai(p,s),c}(c,a,s);if(i[8]=a[8]=p,null!==l)for(const b of l)b(p,s);if(s.contentQueries){const b=Nn();s.contentQueries(1,p,b.directiveStart)}const v=Nn();return!c.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(Gr(v.index),V0(a[1],v,0,v.directiveStart,v.directiveEnd,s),rv(s,p)),p}(gt,this.componentDef,Me,[iD]),Jy(he,Me,null)}finally{Xi()}return new hv(this.componentType,qe,y(et,Me),Me,et)}}class hv extends class zh{}{constructor(s,a,l,c,p){super(),this.location=l,this._rootLView=c,this._tNode=p,this.instance=a,this.hostView=this.changeDetectorRef=new W0(c),this.componentType=s}setInput(s,a){const l=this._tNode.inputs;let c;if(null!==l&&(c=l[s])){const p=this._rootLView;dv(p[1],p,c,s,a),nv(p,this._tNode.index)}}get injector(){return new $o(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function iD(){const i=Nn();va(Oe()[1],i)}function pv(i){let s=function fv(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const l=[i];for(;s;){let c;if(kr(i))c=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Ae(903,!1);c=s.\u0275dir}if(c){if(a){l.push(c);const v=i;v.inputs=gv(i.inputs),v.declaredInputs=gv(i.declaredInputs),v.outputs=gv(i.outputs);const b=c.hostBindings;b&&KS(i,b);const C=c.viewQuery,S=c.contentQueries;if(C&&J0(i,C),S&&ZS(i,S),se(i.inputs,c.inputs),se(i.declaredInputs,c.declaredInputs),se(i.outputs,c.outputs),kr(c)&&c.data.animation){const R=i.data;R.animation=(R.animation||[]).concat(c.data.animation)}}const p=c.features;if(p)for(let v=0;v<p.length;v++){const b=p[v];b&&b.ngInherit&&b(i),b===pv&&(a=!1)}}s=Object.getPrototypeOf(s)}!function Q0(i){let s=0,a=null;for(let l=i.length-1;l>=0;l--){const c=i[l];c.hostVars=s+=c.hostVars,c.hostAttrs=jo(c.hostAttrs,a=jo(a,c.hostAttrs))}}(l)}function gv(i){return i===jr?{}:i===Pt?[]:i}function J0(i,s){const a=i.viewQuery;i.viewQuery=a?(l,c)=>{s(l,c),a(l,c)}:s}function ZS(i,s){const a=i.contentQueries;i.contentQueries=a?(l,c,p)=>{s(l,c,p),a(l,c,p)}:s}function KS(i,s){const a=i.hostBindings;i.hostBindings=a?(l,c)=>{s(l,c),a(l,c)}:s}let mf=null;function Ol(){if(!mf){const i=mn.Symbol;if(i&&i.iterator)mf=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const l=s[a];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(mf=l)}}}return mf}function Tg(i){return!!eb(i)&&(Array.isArray(i)||!(i instanceof Map)&&Ol()in i)}function eb(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Li(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function Jo(i,s,a,l){const c=Oe();return Li(c,Ss(),s)&&(sn(),Qo(An(),c,i,s,a,l)),Jo}function Gd(i,s,a,l){return Li(i,Ss(),a)?s+we(a)+l:en}function wv(i,s,a,l,c,p,v,b){const C=Oe(),S=sn(),R=i+22,U=S.firstCreatePass?function Sg(i,s,a,l,c,p,v,b,C){const S=s.consts,R=Nc(s,i,4,v||null,gi(S,b));L0(s,a,R,gi(S,C)),va(s,R);const U=R.tViews=ev(2,R,l,c,p,s.directiveRegistry,s.pipeRegistry,null,s.schemas,S);return null!==s.queries&&(s.queries.template(s,R),U.queries=s.queries.embeddedTView(R)),R}(R,S,C,s,a,l,c,p,v):S.data[R];ri(U,!1);const K=C[11].createComment("");sg(S,C,K,U),ai(K,C),gf(C,C[R]=av(K,C,K,U)),aa(U)&&Xy(S,C,U),null!=v&&_g(C,U,b)}function xg(i,s,a){const l=Oe();return Li(l,Ss(),s)&&Bs(sn(),An(),l,i,s,l[11],a,!1),xg}function Mg(i,s,a,l,c){const v=c?"class":"style";dv(i,a,s.inputs[v],v,l)}function Ev(i,s,a,l){const c=Oe(),p=sn(),v=22+i,b=c[11],C=c[v]=tg(b,s,function ya(){return kt.lFrame.currentNamespace}()),S=p.firstCreatePass?function aD(i,s,a,l,c,p,v){const b=s.consts,S=Nc(s,i,2,c,gi(b,p));return L0(s,a,S,gi(b,v)),null!==S.attrs&&jd(S,S.attrs,!1),null!==S.mergedAttrs&&jd(S,S.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,S),S}(v,p,c,0,s,a,l):p.data[v];ri(S,!0);const R=S.mergedAttrs;null!==R&&ro(b,C,R);const U=S.classes;null!==U&&ef(b,C,U);const K=S.styles;return null!==K&&Dc(b,C,K),64!=(64&S.flags)&&sg(p,c,C,S),0===function Qi(){return kt.lFrame.elementDepthCount}()&&ai(C,c),function ga(){kt.lFrame.elementDepthCount++}(),aa(S)&&(Xy(p,c,S),function vg(i,s,a){if(oa(s)){const c=s.directiveEnd;for(let p=s.directiveStart;p<c;p++){const v=i.data[p];v.contentQueries&&v.contentQueries(1,a[p],p)}}}(p,S,c)),null!==l&&_g(c,S),Ev}function Iv(){let i=Nn();Ro()?function eo(){kt.lFrame.isParent=!1}():(i=i.parent,ri(i,!1));const s=i;!function uu(){kt.lFrame.elementDepthCount--}();const a=sn();return a.firstCreatePass&&(va(a,i),oa(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function ba(i){return 0!=(16&i.flags)}(s)&&Mg(a,s,Oe(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function hl(i){return 0!=(32&i.flags)}(s)&&Mg(a,s,Oe(),s.stylesWithoutHost,!1),Iv}function sb(i,s,a,l){return Ev(i,s,a,l),Iv(),sb}function ub(i){return!!i&&"function"==typeof i.then}function lb(i){return!!i&&"function"==typeof i.subscribe}const cb=lb;function kg(i,s,a,l){const c=Oe(),p=sn(),v=Nn();return function Dv(i,s,a,l,c,p,v,b){const C=aa(l),R=i.firstCreatePass&&z0(i),U=s[8],K=Cg(s);let he=!0;if(3&l.type||b){const et=Nr(l,s),gt=b?b(et):et,Mt=K.length,Le=b?xn=>b(In(xn[l.index])):l.index;let Lt=null;if(!b&&C&&(Lt=function Cv(i,s,a,l){const c=i.cleanup;if(null!=c)for(let p=0;p<c.length-1;p+=2){const v=c[p];if(v===a&&c[p+1]===l){const b=s[7],C=c[p+2];return b.length>C?b[C]:null}"string"==typeof v&&(p+=2)}return null}(i,s,c,l.index)),null!==Lt)(Lt.__ngLastListenerFn__||Lt).__ngNextListenerFn__=p,Lt.__ngLastListenerFn__=p,he=!1;else{p=Rg(l,s,U,p,!1);const xn=a.listen(gt,c,p);K.push(p,xn),R&&R.push(c,Le,Mt,Mt+1)}}else p=Rg(l,s,U,p,!1);const Me=l.outputs;let qe;if(he&&null!==Me&&(qe=Me[c])){const et=qe.length;if(et)for(let gt=0;gt<et;gt+=2){const dr=s[qe[gt]][qe[gt+1]].subscribe(p),Qc=K.length;K.push(p,dr),R&&R.push(c,l.index,Qc,-(Qc+1))}}}(p,c,c[11],v,i,s,0,l),kg}function db(i,s,a,l){try{return!1!==a(l)}catch(c){return cv(i,c),!1}}function Rg(i,s,a,l,c){return function p(v){if(v===Function)return l;lv(2&i.flags?un(i.index,s):s);let C=db(s,0,l,v),S=p.__ngNextListenerFn__;for(;S;)C=db(s,0,S,v)&&C,S=S.__ngNextListenerFn__;return c&&!1===C&&(v.preventDefault(),v.returnValue=!1),C}}function Tv(i,s,a){return hb(i,"",s,"",a),Tv}function hb(i,s,a,l,c){const p=Oe(),v=Gd(p,s,a,l);return v!==en&&Bs(sn(),An(),p,i,v,p[11],c,!1),hb}function wo(i,s,a,l,c){const p=i[a+1],v=null===s;let b=l?vo(p):Ha(p),C=!1;for(;0!==b&&(!1===C||v);){const R=i[b+1];rx(i[b],s)&&(C=!0,i[b+1]=l?cg(R):ja(R)),b=l?vo(R):Ha(R)}C&&(i[a+1]=l?ja(p):cg(p))}function rx(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&lo(i,s)>=0}function Sv(i,s){return function zn(i,s,a,l){const c=Oe(),p=sn(),v=function ii(i){const s=kt.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}(2);p.firstUpdatePass&&function Eb(i,s,a,l){const c=i.data;if(null===c[a+1]){const p=c[ar()],v=function bb(i,s){return s>=i.expandoStartIndex}(i,a);(function Fc(i,s){return 0!=(i.flags&(s?16:32))})(p,l)&&null===s&&!v&&(s=!1),s=function Ib(i,s,a,l){const c=function Lo(i){const s=kt.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let p=l?s.residualClasses:s.residualStyles;if(null===c)0===(l?s.classBindings:s.styleBindings)&&(a=Fl(a=Mv(null,i,s,a,l),s.attrs,l),p=null);else{const v=s.directiveStylingLast;if(-1===v||i[v]!==c)if(a=Mv(c,i,s,a,l),null===p){let C=function xv(i,s,a){const l=a?s.classBindings:s.styleBindings;if(0!==Ha(l))return i[vo(l)]}(i,s,l);void 0!==C&&Array.isArray(C)&&(C=Mv(null,i,s,C[1],l),C=Fl(C,s.attrs,l),function Cb(i,s,a,l){i[vo(a?s.classBindings:s.styleBindings)]=l}(i,s,l,C))}else p=function Ui(i,s,a){let l;const c=s.directiveEnd;for(let p=1+s.directiveStylingLast;p<c;p++)l=Fl(l,i[p].hostAttrs,a);return Fl(l,s.attrs,a)}(i,s,l)}return void 0!==p&&(l?s.residualClasses=p:s.residualStyles=p),a}(c,p,s,l),function hD(i,s,a,l,c,p){let v=p?s.classBindings:s.styleBindings,b=vo(v),C=Ha(v);i[l]=a;let R,S=!1;if(Array.isArray(a)){const U=a;R=U[1],(null===R||lo(U,R)>0)&&(S=!0)}else R=a;if(c)if(0!==C){const K=vo(i[b+1]);i[l+1]=af(K,b),0!==K&&(i[K+1]=C0(i[K+1],l)),i[b+1]=function as(i,s){return 131071&i|s<<17}(i[b+1],l)}else i[l+1]=af(b,0),0!==b&&(i[b+1]=C0(i[b+1],l)),b=l;else i[l+1]=af(C,0),0===b?b=l:i[C+1]=C0(i[C+1],l),C=l;S&&(i[l+1]=ja(i[l+1])),wo(i,R,l,!0),wo(i,R,l,!1),function fD(i,s,a,l,c){const p=c?i.residualClasses:i.residualStyles;null!=p&&"string"==typeof s&&lo(p,s)>=0&&(a[l+1]=cg(a[l+1]))}(s,R,i,l,p),v=af(b,C),p?s.classBindings=v:s.styleBindings=v}(c,p,s,a,v,l)}}(p,i,v,l),s!==en&&Li(c,v,s)&&function Xo(i,s,a,l,c,p,v,b){if(!(3&s.type))return;const C=i.data,S=C[b+1];Bg(function LC(i){return 1==(1&i)}(S)?Ug(C,s,a,c,Ha(S),v):void 0)||(Bg(p)||function Gy(i){return 2==(2&i)}(S)&&(p=Ug(C,null,a,c,b,v)),function r0(i,s,a,l,c){if(s)c?i.addClass(a,l):i.removeClass(a,l);else{let p=-1===l.indexOf("-")?void 0:Ua.DashCase;null==c?i.removeStyle(a,l,p):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),p|=Ua.Important),i.setStyle(a,l,c,p))}}(l,v,ni(ar(),a),c,p))}(p,p.data[ar()],c,c[11],i,c[v+1]=function gD(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=re(bs(i)))),i}(s,a),l,v)}(i,s,null,!0),Sv}function Mv(i,s,a,l,c){let p=null;const v=a.directiveEnd;let b=a.directiveStylingLast;for(-1===b?b=a.directiveStart:b++;b<v&&(p=s[b],l=Fl(l,p.hostAttrs,c),p!==i);)b++;return null!==i&&(a.directiveStylingLast=b),l}function Fl(i,s,a){const l=a?1:2;let c=-1;if(null!==s)for(let p=0;p<s.length;p++){const v=s[p];"number"==typeof v?c=v:c===l&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),ut(i,v,!!a||s[++p]))}return void 0===i?null:i}function Ug(i,s,a,l,c,p){const v=null===s;let b;for(;c>0;){const C=i[c],S=Array.isArray(C),R=S?C[1]:C,U=null===R;let K=a[c+1];K===en&&(K=U?Pt:void 0);let he=U?xu(K,l):R===l?K:void 0;if(S&&!Bg(he)&&(he=xu(C,l)),Bg(he)&&(b=he,v))return b;const Me=i[c+1];c=v?vo(Me):Ha(Me)}if(null!==s){let C=p?s.residualClasses:s.residualStyles;null!=C&&(b=xu(C,l))}return b}function Bg(i){return void 0!==i}function kv(i,s=""){const a=Oe(),l=sn(),c=i+22,p=l.firstCreatePass?Nc(l,c,1,s,null):l.data[c],v=a[c]=function Dy(i,s){return i.createText(s)}(a[11],s);sg(l,a,v,p),ri(p,!1)}function bf(i){return Ef("",i,""),bf}function Ef(i,s,a){const l=Oe(),c=Gd(l,i,s,a);return c!==en&&function Rl(i,s,a){const l=ni(s,i);!function zw(i,s,a){i.setValue(s,a)}(i[11],l,a)}(l,ar(),c),Ef}const cr=void 0;var Yg=["en",[["a","p"],["AM","PM"],cr],[["AM","PM"],cr,cr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],cr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],cr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",cr,"{1} 'at' {0}",cr],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function wi(i){const a=Math.floor(Math.abs(i)),l=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let Ll={};function Gv(i){const s=function ED(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=Fb(s);if(a)return a;const l=s.split("-")[0];if(a=Fb(l),a)return a;if("en"===l)return Yg;throw new Ae(701,!1)}function Pb(i){return Gv(i)[xt.PluralCase]}function Fb(i){return i in Ll||(Ll[i]=mn.ng&&mn.ng.common&&mn.ng.common.locales&&mn.ng.common.locales[i]),Ll[i]}var xt=(()=>((xt=xt||{})[xt.LocaleId=0]="LocaleId",xt[xt.DayPeriodsFormat=1]="DayPeriodsFormat",xt[xt.DayPeriodsStandalone=2]="DayPeriodsStandalone",xt[xt.DaysFormat=3]="DaysFormat",xt[xt.DaysStandalone=4]="DaysStandalone",xt[xt.MonthsFormat=5]="MonthsFormat",xt[xt.MonthsStandalone=6]="MonthsStandalone",xt[xt.Eras=7]="Eras",xt[xt.FirstDayOfWeek=8]="FirstDayOfWeek",xt[xt.WeekendRange=9]="WeekendRange",xt[xt.DateFormat=10]="DateFormat",xt[xt.TimeFormat=11]="TimeFormat",xt[xt.DateTimeFormat=12]="DateTimeFormat",xt[xt.NumberSymbols=13]="NumberSymbols",xt[xt.NumberFormats=14]="NumberFormats",xt[xt.CurrencyCode=15]="CurrencyCode",xt[xt.CurrencySymbol=16]="CurrencySymbol",xt[xt.CurrencyName=17]="CurrencyName",xt[xt.Currencies=18]="Currencies",xt[xt.Directionality=19]="Directionality",xt[xt.PluralCase=20]="PluralCase",xt[xt.ExtraData=21]="ExtraData",xt))();const Yd="en-US";let Xd=Yd;function l_(i,s,a,l,c){if(i=Y(i),Array.isArray(i))for(let p=0;p<i.length;p++)l_(i[p],s,a,l,c);else{const p=sn(),v=Oe();let b=ss(i)?i:Y(i.provide),C=Ec(i);const S=Nn(),R=1048575&S.providerIndexes,U=S.directiveStart,K=S.providerIndexes>>20;if(ss(i)||!i.multi){const he=new ms(C,c,Mc),Me=Bc(b,s,c?R:R+K,U);-1===Me?(io(si(S,v),p,b),c_(p,i,s.length),s.push(b),S.directiveStart++,S.directiveEnd++,c&&(S.providerIndexes+=1048576),a.push(he),v.push(he)):(a[Me]=he,v[Me]=he)}else{const he=Bc(b,s,R+K,U),Me=Bc(b,s,R,R+K),qe=he>=0&&a[he],et=Me>=0&&a[Me];if(c&&!et||!c&&!qe){io(si(S,v),p,b);const gt=function Lf(i,s,a,l,c){const p=new ms(i,a,Mc);return p.multi=[],p.index=s,p.componentProviders=0,Ff(p,c,l&&!a),p}(c?d_:im,a.length,c,l,C);!c&&et&&(a[Me].providerFactory=gt),c_(p,i,s.length,0),s.push(b),S.directiveStart++,S.directiveEnd++,c&&(S.providerIndexes+=1048576),a.push(gt),v.push(gt)}else c_(p,i,he>-1?he:Me,Ff(a[c?Me:he],C,!c&&l));!c&&l&&et&&a[Me].componentProviders++}}}function c_(i,s,a,l){const c=ss(s),p=function Hp(i){return!!i.useClass}(s);if(c||p){const C=(p?Y(s.useClass):s).prototype.ngOnDestroy;if(C){const S=i.destroyHooks||(i.destroyHooks=[]);if(!c&&s.multi){const R=S.indexOf(a);-1===R?S.push(a,[l,C]):S[R+1].push(l,C)}else S.push(a,C)}}}function Ff(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function Bc(i,s,a,l){for(let c=a;c<l;c++)if(s[c]===i)return c;return-1}function im(i,s,a,l){return sm(this.multi,[])}function d_(i,s,a,l){const c=this.multi;let p;if(this.providerFactory){const v=this.providerFactory.componentProviders,b=Ps(a,a[1],this.providerFactory.index,l);p=b.slice(0,v),sm(c,p);for(let C=v;C<b.length;C++)p.push(b[C])}else p=[],sm(c,p);return p}function sm(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function oh(i,s=[]){return a=>{a.providersResolver=(l,c)=>function RD(i,s,a){const l=sn();if(l.firstCreatePass){const c=kr(i);l_(a,l.data,l.blueprint,c,!0),l_(s,l.data,l.blueprint,c,!1)}}(l,c?c(i):i,s)}}class ah{}class vr{}function sE(i,s){return new oE(i,s??null)}class oE extends ah{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new qu(this);const l=En(s);this._bootstrapComponents=Gu(l.bootstrap),this._r3Injector=Fy(s,a,[{provide:ah,useValue:this},{provide:ju,useValue:this.componentFactoryResolver}],re(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class h_ extends vr{constructor(s){super(),this.moduleType=s}create(s){return new oE(this.moduleType,s)}}class aE extends ah{constructor(s,a,l){super(),this.componentFactoryResolver=new qu(this),this.instance=null;const c=new Td([...s,{provide:ah,useValue:this},{provide:ju,useValue:this.componentFactoryResolver}],a||Dd(),l,new Set(["environment"]));this.injector=c,c.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function om(i,s,a=null){return new aE(i,s,a).injector}let uE=(()=>{class i{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const l=Ed(0,a.type),c=l.length>0?om([l],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,c)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return i.\u0275prov=yt({token:i,providedIn:"environment",factory:()=>new i(Vn(Wr))}),i})();function Vf(i){i.getStandaloneInjector=s=>s.get(uE).getOrCreateStandaloneInjector(i)}function w_(i,s,a,l,c,p){const v=s+a;return Li(i,v,c)?function Wu(i,s,a){return i[s]=a}(i,v+1,p?l.call(p,c):l(c)):function bi(i,s){const a=i[s];return a===en?void 0:a}(i,v+1)}function hm(i,s){const a=sn();let l;const c=i+22;a.firstCreatePass?(l=function FD(i,s){if(s)for(let a=s.length-1;a>=0;a--){const l=s[a];if(i===l.name)return l}}(s,a.pipeRegistry),a.data[c]=l,l.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(c,l.onDestroy)):l=a.data[c];const p=l.factory||(l.factory=Si(l.type)),v=hn(Mc);try{const b=k(!1),C=p();return k(b),function bv(i,s,a,l){a>=i.data.length&&(i.data[a]=null,i.blueprint[a]=null),s[a]=l}(a,Oe(),c,C),C}finally{hn(v)}}function E_(i,s,a){const l=i+22,c=Oe(),p=function Yi(i,s){return i[s]}(c,l);return function Ar(i,s){return i[1].data[s].pure}(c,l)?w_(c,function Rn(){const i=kt.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}(),s,p.transform,a,p):p.transform(a)}function Wa(i){return s=>{setTimeout(i,void 0,s)}}const bo=class uh extends h.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,l){let c=s,p=a||(()=>null),v=l;if(s&&"object"==typeof s){const C=s;c=C.next?.bind(C),p=C.error?.bind(C),v=C.complete?.bind(C)}this.__isAsync&&(p=Wa(p),c&&(c=Wa(c)),v&&(v=Wa(v)));const b=super.subscribe({next:c,error:p,complete:v});return s instanceof F.w0&&s.add(b),b}};function UD(){return this._results[Ol()]()}class Ge{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Ol(),l=Ge.prototype;l[a]||(l[a]=UD)}get changes(){return this._changes||(this._changes=new bo)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const l=this;l.dirty=!1;const c=$n(s);(this._changesDetected=!function Ni(i,s,a){if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++){let c=i[l],p=s[l];if(a&&(c=a(c),p=a(p)),p!==c)return!1}return!0}(l._results,c,a))&&(l._results=c,l.length=c.length,l.last=c[this.length-1],l.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let tr=(()=>{class i{}return i.__NG_ELEMENT_ID__=ht,i})();const $c=tr,I_=class extends $c{constructor(s,a,l){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=l}createEmbeddedView(s,a){const l=this._declarationTContainer.tViews,c=yg(this._declarationLView,l,s,16,null,l.declTNode,null,null,null,null,a||null);c[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(c[19]=v.createEmbeddedView(l)),Jy(l,c,s),new Hd(c)}};function ht(){return Rt(Nn(),Oe())}function Rt(i,s){return 4&i.type?new I_(s,i,y(i,s)):null}let pm=(()=>{class i{}return i.__NG_ELEMENT_ID__=nt,i})();function nt(){return EE(Nn(),Oe())}const be=pm,Ue=class extends be{constructor(s,a,l){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=l}get element(){return y(this._hostTNode,this._hostLView)}get injector(){return new $o(this._hostTNode,this._hostLView)}get parentInjector(){const s=ml(this._hostTNode,this._hostLView);if(pl(s)){const a=E(s,this._hostLView),l=gr(s);return new $o(a[1].data[l+8],a)}return new $o(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=Br(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,a,l){let c,p;"number"==typeof l?c=l:null!=l&&(c=l.index,p=l.injector);const v=s.createEmbeddedView(a||{},p);return this.insert(v,c),v}createComponent(s,a,l,c,p){const v=s&&!function ts(i){return"function"==typeof i}(s);let b;if(v)b=a;else{const U=a||{};b=U.index,l=U.injector,c=U.projectableNodes,p=U.environmentInjector||U.ngModuleRef}const C=v?s:new $d(oe(s)),S=l||this.parentInjector;if(!p&&null==C.ngModule){const K=(v?S:this.parentInjector).get(Wr,null);K&&(p=K)}const R=C.create(S,c,void 0,p);return this.insert(R.hostView,b),R}insert(s,a){const l=s._lView,c=l[1];if(function fa(i){return Vr(i[3])}(l)){const R=this.indexOf(s);if(-1!==R)this.detach(R);else{const U=l[3],K=new Ue(U,U[6],U[3]);K.detach(K.indexOf(s))}}const p=this._adjustIndex(a),v=this._lContainer;!function mC(i,s,a,l){const c=10+l,p=a.length;l>0&&(a[c-1][4]=s),l<p-10?(s[4]=a[c],Au(a,10+l,s)):(a.push(s),s[4]=null),s[3]=a;const v=s[17];null!==v&&a!==v&&function yC(i,s){const a=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===a?i[9]=[s]:a.push(s)}(v,s);const b=s[19];null!==b&&b.insertView(i),s[2]|=64}(c,l,v,p);const b=t0(p,v),C=l[11],S=rg(C,v[7]);return null!==S&&function qw(i,s,a,l,c,p){l[0]=c,l[6]=s,Cc(i,l,a,1,c,p)}(c,v[6],C,l,S,b),s.attachToViewContainerRef(),Au(gm(v),p,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=Br(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),l=Ay(this._lContainer,a);l&&(zr(gm(this._lContainer),a),Qh(l[1],l))}detach(s){const a=this._adjustIndex(s,-1),l=Ay(this._lContainer,a);return l&&null!=zr(gm(this._lContainer),a)?new Hd(l):null}_adjustIndex(s,a=0){return s??this.length+a}};function Br(i){return i[8]}function gm(i){return i[8]||(i[8]=[])}function EE(i,s){let a;const l=s[i.index];if(Vr(l))a=l;else{let c;if(8&i.type)c=In(l);else{const p=s[11];c=p.createComment("");const v=Nr(i,s);Ba(p,rg(p,v),c,function Xw(i,s){return i.nextSibling(s)}(p,v),!1)}s[i.index]=a=av(l,s,c,i),gf(s,a)}return new Ue(a,i,s)}class C_{constructor(s){this.queryList=s,this.matches=null}clone(){return new C_(this.queryList)}setDirty(){this.queryList.setDirty()}}class mm{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const l=null!==s.contentQueries?s.contentQueries[0]:a.length,c=[];for(let p=0;p<l;p++){const v=a.getByIndex(p);c.push(this.queries[v.indexInDeclarationView].clone())}return new mm(c)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==SE(s,a).matches&&this.queries[a].setDirty()}}class IE{constructor(s,a,l=null){this.predicate=s,this.flags=a,this.read=l}}class CE{constructor(s=[]){this.queries=s}elementStart(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let l=0;l<this.length;l++){const c=null!==a?a.length:0,p=this.getByIndex(l).embeddedTView(s,c);p&&(p.indexInDeclarationView=l,null!==a?a.push(p):a=[p])}return null!==a?new CE(a):null}template(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class D_{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new D_(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let l=s.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let c=0;c<l.length;c++){const p=l[c];this.matchTNodeWithReadOption(s,a,DE(a,p)),this.matchTNodeWithReadOption(s,a,Ia(a,s,p,!1,!1))}else l===tr?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,Ia(a,s,l,!1,!1))}matchTNodeWithReadOption(s,a,l){if(null!==l){const c=this.metadata.read;if(null!==c)if(c===f||c===pm||c===tr&&4&a.type)this.addMatch(a.index,-2);else{const p=Ia(a,s,c,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,l)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function DE(i,s){const a=i.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===s)return a[l+1];return null}function lh(i,s,a,l){return-1===a?function Kt(i,s){return 11&i.type?y(i,s):4&i.type?Rt(i,s):null}(s,i):-2===a?function TE(i,s,a){return a===f?y(s,i):a===tr?Rt(s,i):a===pm?EE(s,i):void 0}(i,s,l):Ps(i,i[1],a,s)}function nr(i,s,a,l){const c=s[19].queries[l];if(null===c.matches){const p=i.data,v=a.matches,b=[];for(let C=0;C<v.length;C+=2){const S=v[C];b.push(S<0?null:lh(s,p[S],v[C+1],a.metadata.read))}c.matches=b}return c.matches}function Ot(i,s,a,l){const c=i.queries.getByIndex(a),p=c.matches;if(null!==p){const v=nr(i,s,c,a);for(let b=0;b<p.length;b+=2){const C=p[b];if(C>0)l.push(v[b/2]);else{const S=p[b+1],R=s[-C];for(let U=10;U<R.length;U++){const K=R[U];K[17]===K[3]&&Ot(K[1],K,S,l)}if(null!==R[9]){const U=R[9];for(let K=0;K<U.length;K++){const he=U[K];Ot(he[1],he,S,l)}}}}}return l}function ch(i){const s=Oe(),a=sn(),l=mu();Vo(l+1);const c=SE(a,l);if(i.dirty&&function ha(i){return 4==(4&i[2])}(s)===(2==(2&c.metadata.flags))){if(null===c.matches)i.reset([]);else{const p=c.crossesNgTemplate?Ot(a,s,l,[]):nr(a,s,c,l);i.reset(p,g),i.notifyOnChanges()}return!0}return!1}function AE(i,s,a,l){const c=sn();if(c.firstCreatePass){const p=Nn();(function ym(i,s,a){null===i.queries&&(i.queries=new CE),i.queries.track(new D_(s,a))})(c,new IE(s,a,l),p.index),function Gc(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(c,i),2==(2&a)&&(c.staticContentQueries=!0)}!function jf(i,s,a){const l=new Ge(4==(4&a));bg(i,s,l,l.destroy),null===s[19]&&(s[19]=new mm),s[19].queries.push(new C_(l))}(c,Oe(),a)}function _r(){return function tt(i,s){return i[19].queries[s].queryList}(Oe(),mu())}function SE(i,s){return i.queries.getByIndex(s)}function Wf(...i){}const mh=new On("Application Initializer");let Zf=(()=>{class i{constructor(a){this.appInits=a,this.resolve=Wf,this.reject=Wf,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,c)=>{this.resolve=l,this.reject=c})}runInitializers(){if(this.initialized)return;const a=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const p=this.appInits[c]();if(ub(p))a.push(p);else if(cb(p)){const v=new Promise((b,C)=>{p.subscribe({complete:b,error:C})});a.push(v)}}Promise.all(a).then(()=>{l()}).catch(c=>{this.reject(c)}),0===a.length&&l(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(Vn(mh,8))},i.\u0275prov=yt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const UE=new On("AppId",{providedIn:"root",factory:function BE(){return`${Im()}${Im()}${Im()}`}});function Im(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ci=new On("Platform Initializer"),jE=new On("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Wn=new On("appBootstrapListener");let Zc=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=yt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const zl=new On("LocaleId",{providedIn:"root",factory:()=>D(zl,Ke.Optional|Ke.SkipSelf)||function ZD(){return typeof $localize<"u"&&$localize.locale||Yd}()}),Cm=new On("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Ei{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let QD=(()=>{class i{compileModuleSync(a){return new h_(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const l=this.compileModuleSync(a),p=Gu(En(a).declarations).reduce((v,b)=>{const C=oe(b);return C&&v.push(new $d(C)),v},[]);return new Ei(l,p)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=yt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const ql=(()=>Promise.resolve(0))();function Wl(i){typeof Zone>"u"?ql.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class zs{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new bo(!1),this.onMicrotaskEmpty=new bo(!1),this.onStable=new bo(!1),this.onError=new bo(!1),typeof Zone>"u")throw new Ae(908,!1);Zone.assertZonePatched();const c=this;if(c._nesting=0,c._outer=c._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const p=Zone.AsyncStackTaggingZoneSpec;c._inner=c._inner.fork(new p("Angular"))}Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!l&&a,c.shouldCoalesceRunChangeDetection=l,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function XD(){let i=mn.requestAnimationFrame,s=mn.cancelAnimationFrame;if(typeof Zone<"u"&&i&&s){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function yh(i){const s=()=>{!function qE(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(mn,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Dm(i),i.isCheckStableRunning=!0,na(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Dm(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,c,p,v,b)=>{try{return Tm(i),a.invokeTask(c,p,v,b)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||i.shouldCoalesceRunChangeDetection)&&s(),Am(i)}},onInvoke:(a,l,c,p,v,b,C)=>{try{return Tm(i),a.invoke(c,p,v,b,C)}finally{i.shouldCoalesceRunChangeDetection&&s(),Am(i)}},onHasTask:(a,l,c,p)=>{a.hasTask(c,p),l===c&&("microTask"==p.change?(i._hasPendingMicrotasks=p.microTask,Dm(i),na(i)):"macroTask"==p.change&&(i.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,l,c,p)=>(a.handleError(c,p),i.runOutsideAngular(()=>i.onError.emit(p)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!zs.isInAngularZone())throw new Ae(909,!1)}static assertNotInAngularZone(){if(zs.isInAngularZone())throw new Ae(909,!1)}run(s,a,l){return this._inner.run(s,a,l)}runTask(s,a,l,c){const p=this._inner,v=p.scheduleEventTask("NgZoneEvent: "+c,s,zE,Wf,Wf);try{return p.runTask(v,a,l)}finally{p.cancelTask(v)}}runGuarded(s,a,l){return this._inner.runGuarded(s,a,l)}runOutsideAngular(s){return this._outer.run(s)}}const zE={};function na(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Dm(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function Tm(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function Am(i){i._nesting--,na(i)}class P_{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new bo,this.onMicrotaskEmpty=new bo,this.onStable=new bo,this.onError=new bo}run(s,a,l){return s.apply(a,l)}runGuarded(s,a,l){return s.apply(a,l)}runOutsideAngular(s){return s()}runTask(s,a,l,c){return s.apply(a,l)}}const Kc=new On(""),ji=new On("");let Kf,Sm=(()=>{class i{constructor(a,l,c){this._ngZone=a,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Kf||(function WE(i){Kf=i}(c),c.addToWindow(l)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{zs.assertNotInAngularZone(),Wl(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Wl(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(a)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,l,c){let p=-1;l&&l>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==p),a(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:c})}whenStable(a,l,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,l,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,l,c){return[]}}return i.\u0275fac=function(a){return new(a||i)(Vn(zs),Vn(vh),Vn(ji))},i.\u0275prov=yt({token:i,factory:i.\u0275fac}),i})(),vh=(()=>{class i{constructor(){this._applications=new Map}registerApplication(a,l){this._applications.set(a,l)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,l=!0){return Kf?.findTestabilityInTree(this,a,l)??null}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=yt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})(),Ka=null;const F_=new On("AllowMultipleToken"),xm=new On("PlatformDestroyListeners");class Mm{constructor(s,a){this.name=s,this.token=a}}function Zl(i,s,a=[]){const l=`Platform: ${s}`,c=new On(l);return(p=[])=>{let v=Yl();if(!v||v.injector.get(F_,!1)){const b=[...a,...p,{provide:c,useValue:!0}];i?i(b):function tT(i){if(Ka&&!Ka.get(F_,!1))throw new Ae(400,!1);Ka=i;const s=i.get(V_);(function L_(i){const s=i.get(ci,null);s&&s.forEach(a=>a())})(i)}(function Kl(i=[],s){return Ac.create({name:s,providers:[{provide:Al,useValue:"platform"},{provide:xm,useValue:new Set([()=>Ka=null])},...i]})}(b,l))}return function YE(i){const s=Yl();if(!s)throw new Ae(401,!1);return s}()}}function Yl(){return Ka?.get(V_)??null}let V_=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,l){const c=function _h(i,s){let a;return a="noop"===i?new P_:("zone.js"===i?void 0:i)||new zs(s),a}(l?.ngZone,function U_(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!i||!i.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!i||!i.ngZoneRunCoalescing)||!1}}(l)),p=[{provide:zs,useValue:c}];return c.run(()=>{const v=Ac.create({providers:p,parent:this.injector,name:a.moduleType.name}),b=a.create(v),C=b.injector.get(Zh,null);if(!C)throw new Ae(402,!1);return c.runOutsideAngular(()=>{const S=c.onError.subscribe({next:R=>{C.handleError(R)}});b.onDestroy(()=>{Yc(this._modules,b),S.unsubscribe()})}),function QE(i,s,a){try{const l=a();return ub(l)?l.catch(c=>{throw s.runOutsideAngular(()=>i.handleError(c)),c}):l}catch(l){throw s.runOutsideAngular(()=>i.handleError(l)),l}}(C,c,()=>{const S=b.injector.get(Zf);return S.runInitializers(),S.donePromise.then(()=>(function qv(i){Dt(i,"Expected localeId to be defined"),"string"==typeof i&&(Xd=i.toLowerCase().replace(/_/g,"-"))}(b.injector.get(zl,Yd)||Yd),this._moduleDoBootstrap(b),b))})})}bootstrapModule(a,l=[]){const c=JE({},l);return function ZE(i,s,a){const l=new h_(a);return Promise.resolve(l)}(0,0,a).then(p=>this.bootstrapModuleFactory(p,c))}_moduleDoBootstrap(a){const l=a.injector.get(Zn);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(c=>l.bootstrap(c));else{if(!a.instance.ngDoBootstrap)throw new Ae(403,!1);a.instance.ngDoBootstrap(l)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ae(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const a=this._injector.get(xm,null);a&&(a.forEach(l=>l()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(Vn(Ac))},i.\u0275prov=yt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function JE(i,s){return Array.isArray(s)?s.reduce(JE,i):{...i,...s}}let Zn=(()=>{class i{constructor(a,l,c){this._zone=a,this._injector=l,this._exceptionHandler=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new L.y(b=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{b.next(this._stable),b.complete()})}),v=new L.y(b=>{let C;this._zone.runOutsideAngular(()=>{C=this._zone.onStable.subscribe(()=>{zs.assertNotInAngularZone(),Wl(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,b.next(!0))})})});const S=this._zone.onUnstable.subscribe(()=>{zs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{b.next(!1)}))});return()=>{C.unsubscribe(),S.unsubscribe()}});this.isStable=(0,ae.T)(p,v.pipe((0,de.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,l){const c=a instanceof Ad;if(!this._injector.get(Zf).done)throw!c&&ln(a),new Ae(405,false);let v;v=c?a:this._injector.get(ju).resolveComponentFactory(a),this.componentTypes.push(v.componentType);const b=function KE(i){return i.isBoundToModule}(v)?void 0:this._injector.get(ah),S=v.create(Ac.NULL,[],l||v.selector,b),R=S.location.nativeElement,U=S.injector.get(Kc,null);return U?.registerApplication(R),S.onDestroy(()=>{this.detachView(S.hostView),Yc(this.components,S),U?.unregisterApplication(R)}),this._loadComponent(S),S}tick(){if(this._runningTick)throw new Ae(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const l=a;this._views.push(l),l.attachToAppRef(this)}detachView(a){const l=a;Yc(this._views,l),l.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(Wn,[]).concat(this._bootstrapListeners).forEach(c=>c(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>Yc(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new Ae(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return i.\u0275fac=function(a){return new(a||i)(Vn(zs),Vn(Wr),Vn(Zh))},i.\u0275prov=yt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Yc(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}let eI=!0,wh=!1;function iT(){return wh=!0,eI}function tI(){if(wh)throw new Error("Cannot enable prod mode after platform setup.");eI=!1}let nI=(()=>{class i{}return i.__NG_ELEMENT_ID__=rI,i})();function rI(i){return function bh(i,s,a){if(Ai(i)&&!a){const l=un(i.index,s);return new Hd(l,l)}return 47&i.type?new Hd(s[16],s):null}(Nn(),Oe(),16==(16&i))}class ep{constructor(){}supports(s){return Tg(s)}create(s){return new aI(s)}}const oI=(i,s)=>s;class aI{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||oI}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,l=this._removalsHead,c=0,p=null;for(;a||l;){const v=!l||a&&a.currentIndex<W_(l,c,p)?a:l,b=W_(v,c,p),C=v.currentIndex;if(v===l)c--,l=l._nextRemoved;else if(a=a._next,null==v.previousIndex)c++;else{p||(p=[]);const S=b-c,R=C-c;if(S!=R){for(let K=0;K<S;K++){const he=K<p.length?p[K]:p[K]=0,Me=he+K;R<=Me&&Me<S&&(p[K]=he+1)}p[v.previousIndex]=R-S}}b!==C&&s(v,b,C)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!Tg(s))throw new Ae(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let c,p,v,a=this._itHead,l=!1;if(Array.isArray(s)){this.length=s.length;for(let b=0;b<this.length;b++)p=s[b],v=this._trackByFn(b,p),null!==a&&Object.is(a.trackById,v)?(l&&(a=this._verifyReinsertion(a,p,v,b)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,v,b),l=!0),a=a._next}else c=0,function oD(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[Ol()]();let l;for(;!(l=a.next()).done;)s(l.value)}}(s,b=>{v=this._trackByFn(c,b),null!==a&&Object.is(a.trackById,v)?(l&&(a=this._verifyReinsertion(a,b,v,c)),Object.is(a.item,b)||this._addIdentityChange(a,b)):(a=this._mismatch(a,b,v,c),l=!0),a=a._next,c++}),this.length=c;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,l,c){let p;return null===s?p=this._itTail:(p=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,p,c)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(l,c))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,p,c)):s=this._addAfter(new uI(a,l),p,c),s}_verifyReinsertion(s,a,l,c){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==p?s=this._reinsertAfter(p,s._prev,c):s.currentIndex!=c&&(s.currentIndex=c,this._addToMoves(s,c)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const c=s._prevRemoved,p=s._nextRemoved;return null===c?this._removalsHead=p:c._nextRemoved=p,null===p?this._removalsTail=c:p._prevRemoved=c,this._insertAfter(s,a,l),this._addToMoves(s,l),s}_moveAfter(s,a,l){return this._unlink(s),this._insertAfter(s,a,l),this._addToMoves(s,l),s}_addAfter(s,a,l){return this._insertAfter(s,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,l){const c=null===a?this._itHead:a._next;return s._next=c,s._prev=a,null===c?this._itTail=s:c._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new q_),this._linkedRecords.put(s),s.currentIndex=l,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,l=s._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new q_),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class uI{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class aT{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,s))return l;return null}remove(s){const a=s._prevDup,l=s._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class q_{constructor(){this.map=new Map}put(s){const a=s.trackById;let l=this.map.get(a);l||(l=new aT,this.map.set(a,l)),l.add(s)}get(s,a){const c=this.map.get(s);return c?c.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function W_(i,s,a){const l=i.previousIndex;if(null===l)return l;let c=0;return a&&l<a.length&&(c=a[l]),l+s+c}class lI{constructor(){}supports(s){return s instanceof Map||eb(s)}create(){return new uT}}class uT{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||eb(s)))throw new Ae(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(l,c)=>{if(a&&a.key===c)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(c,l);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const l=s._prev;return a._next=s,a._prev=l,s._prev=a,l&&(l._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const c=this._records.get(s);this._maybeAddToChanges(c,a);const p=c._prev,v=c._next;return p&&(p._next=v),v&&(v._prev=p),c._next=null,c._prev=null,c}const l=new lT(s);return this._records.set(s,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(l=>a(s[l],l))}}class lT{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Eh(){return new Om([new ep])}let Om=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(null!=l){const c=l.factories.slice();a=a.concat(c)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||Eh()),deps:[[i,new Nt,new $e]]}}find(a){const l=this.factories.find(c=>c.supports(a));if(null!=l)return l;throw new Ae(901,!1)}}return i.\u0275prov=yt({token:i,providedIn:"root",factory:Eh}),i})();function Jr(){return new tp([new lI])}let tp=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(l){const c=l.factories.slice();a=a.concat(c)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||Jr()),deps:[[i,new Nt,new $e]]}}find(a){const l=this.factories.find(c=>c.supports(a));if(l)return l;throw new Ae(901,!1)}}return i.\u0275prov=yt({token:i,providedIn:"root",factory:Jr}),i})();const hI=Zl(null,"core",[]);let rp=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(Vn(Zn))},i.\u0275mod=$t({type:i}),i.\u0275inj=pt({}),i})();function fI(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}},3942:(ft,le,V)=>{"use strict";V.d(le,{Z:()=>Ae});var h=V(2090),F=V(4859),L=V(9681),ae=V(1877);class de{constructor(we,ge){this._delegate=we,this.firebase=ge,(0,L._addComponent)(we,new F.wA("app-compat",()=>this,"PUBLIC")),this.container=we.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(we){this._delegate.automaticDataCollectionEnabled=we}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(we=>{this._delegate.checkDestroyed(),we()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,L.deleteApp)(this._delegate)))}_getService(we,ge=L._DEFAULT_ENTRY_NAME){var Pe;this._delegate.checkDestroyed();const rt=this._delegate.container.getProvider(we);return!rt.isInitialized()&&"EXPLICIT"===(null===(Pe=rt.getComponent())||void 0===Pe?void 0:Pe.instantiationMode)&&rt.initialize(),rt.getImmediate({identifier:ge})}_removeServiceInstance(we,ge=L._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(we).clearInstance(ge)}_addComponent(we){(0,L._addComponent)(this._delegate,we)}_addOrOverwriteComponent(we){(0,L._addOrOverwriteComponent)(this._delegate,we)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const se=new h.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),H=function ce(){const Qe=function re(Qe){const we={},ge={__esModule:!0,initializeApp:function De(ve,j={}){const ee=L.initializeApp(ve,j);if((0,h.r3)(we,ee.name))return we[ee.name];const W=new Qe(ee,ge);return we[ee.name]=W,W},app:rt,registerVersion:L.registerVersion,setLogLevel:L.setLogLevel,onLog:L.onLog,apps:null,SDK_VERSION:L.SDK_VERSION,INTERNAL:{registerComponent:function Te(ve){const j=ve.name,ee=j.replace("-compat","");if(L._registerComponent(ve)&&"PUBLIC"===ve.type){const W=(ie=rt())=>{if("function"!=typeof ie[ee])throw se.create("invalid-app-argument",{appName:j});return ie[ee]()};void 0!==ve.serviceProps&&(0,h.ZB)(W,ve.serviceProps),ge[ee]=W,Qe.prototype[ee]=function(...ie){return this._getService.bind(this,j).apply(this,ve.multipleInstances?ie:[])}}return"PUBLIC"===ve.type?ge[ee]:null},removeApp:function Pe(ve){delete we[ve]},useAsService:function Ie(ve,j){return"serverAuth"===j?null:j},modularAPIs:L}};function rt(ve){if(!(0,h.r3)(we,ve=ve||L._DEFAULT_ENTRY_NAME))throw se.create("no-app",{appName:ve});return we[ve]}return ge.default=ge,Object.defineProperty(ge,"apps",{get:function Ee(){return Object.keys(we).map(ve=>we[ve])}}),rt.App=Qe,ge}(de);return Qe.INTERNAL=Object.assign(Object.assign({},Qe.INTERNAL),{createFirebaseNamespace:ce,extendNamespace:function we(ge){(0,h.ZB)(Qe,ge)},createSubscribe:h.ne,ErrorFactory:h.LL,deepExtend:h.ZB}),Qe}(),G=new ae.Yd("@firebase/app-compat");if((0,h.jU)()&&void 0!==self.firebase){G.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Qe=self.firebase.SDK_VERSION;Qe&&Qe.indexOf("LITE")>=0&&G.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ae=H;!function ke(Qe){(0,L.registerVersion)("@firebase/app-compat","0.1.37",Qe)}()},9681:(ft,le,V)=>{"use strict";V.r(le),V.d(le,{FirebaseError:()=>ae.ZR,SDK_VERSION:()=>Tt,_DEFAULT_ENTRY_NAME:()=>Dt,_addComponent:()=>Ct,_addOrOverwriteComponent:()=>yt,_apps:()=>jt,_clearComponents:()=>dn,_components:()=>Xt,_getProvider:()=>pt,_registerComponent:()=>Ht,_removeServiceInstance:()=>rn,deleteApp:()=>Un,getApp:()=>Qn,getApps:()=>hr,initializeApp:()=>Mn,onLog:()=>di,registerVersion:()=>Er,setLogLevel:()=>hn});var h=V(5861),F=V(4859),L=V(1877),ae=V(2090),de=V(8766);class ne{constructor(Re){this.container=Re}getPlatformInfoString(){return this.container.getProviders().map(ot=>{if(function se(st){return"VERSION"===st.getComponent()?.type}(ot)){const It=ot.getImmediate();return`${It.library}/${It.version}`}return null}).filter(ot=>ot).join(" ")}}const re="@firebase/app",H=new L.Yd("@firebase/app"),Dt="[DEFAULT]",We={[re]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},jt=new Map,Xt=new Map;function Ct(st,Re){try{st.container.addComponent(Re)}catch(ot){H.debug(`Component ${Re.name} failed to register with FirebaseApp ${st.name}`,ot)}}function yt(st,Re){st.container.addOrOverwriteComponent(Re)}function Ht(st){const Re=st.name;if(Xt.has(Re))return H.debug(`There were multiple attempts to register component ${Re}.`),!1;Xt.set(Re,st);for(const ot of jt.values())Ct(ot,st);return!0}function pt(st,Re){const ot=st.container.getProvider("heartbeat").getImmediate({optional:!0});return ot&&ot.triggerHeartbeat(),st.container.getProvider(Re)}function rn(st,Re,ot=Dt){pt(st,Re).clearInstance(ot)}function dn(){Xt.clear()}const Ft=new ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class gn{constructor(Re,ot,It){this._isDeleted=!1,this._options=Object.assign({},Re),this._config=Object.assign({},ot),this._name=ot.name,this._automaticDataCollectionEnabled=ot.automaticDataCollectionEnabled,this._container=It,this.container.addComponent(new F.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Re){this.checkDestroyed(),this._automaticDataCollectionEnabled=Re}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Re){this._isDeleted=Re}checkDestroyed(){if(this.isDeleted)throw Ft.create("app-deleted",{appName:this._name})}}const Tt="9.12.1";function Mn(st,Re={}){let ot=st;"object"!=typeof Re&&(Re={name:Re});const It=Object.assign({name:Dt,automaticDataCollectionEnabled:!1},Re),At=It.name;if("string"!=typeof At||!At)throw Ft.create("bad-app-name",{appName:String(At)});if(ot||(ot=(0,ae.aH)()),!ot)throw Ft.create("no-options");const $t=jt.get(At);if($t){if((0,ae.vZ)(ot,$t.options)&&(0,ae.vZ)(It,$t.config))return $t;throw Ft.create("duplicate-app",{appName:At})}const Z=new F.H0(At);for(const J of Xt.values())Z.addComponent(J);const z=new gn(ot,It,Z);return jt.set(At,z),z}function Qn(st=Dt){const Re=jt.get(st);if(!Re&&st===Dt)return Mn();if(!Re)throw Ft.create("no-app",{appName:st});return Re}function hr(){return Array.from(jt.values())}function Un(st){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,h.Z)(function*(st){const Re=st.name;jt.has(Re)&&(jt.delete(Re),yield Promise.all(st.container.getProviders().map(ot=>ot.delete())),st.isDeleted=!0)})).apply(this,arguments)}function Er(st,Re,ot){var It;let At=null!==(It=We[st])&&void 0!==It?It:st;ot&&(At+=`-${ot}`);const $t=At.match(/\s|\//),Z=Re.match(/\s|\//);if($t||Z){const z=[`Unable to register library "${At}" with version "${Re}":`];return $t&&z.push(`library name "${At}" contains illegal characters (whitespace or "/")`),$t&&Z&&z.push("and"),Z&&z.push(`version name "${Re}" contains illegal characters (whitespace or "/")`),void H.warn(z.join(" "))}Ht(new F.wA(`${At}-version`,()=>({library:At,version:Re}),"VERSION"))}function di(st,Re){if(null!==st&&"function"!=typeof st)throw Ft.create("invalid-log-argument");(0,L.Am)(st,Re)}function hn(st){(0,L.Ub)(st)}const Bn="firebase-heartbeat-store";let jn=null;function Tn(){return jn||(jn=(0,de.X3)("firebase-heartbeat-database",1,{upgrade:(st,Re)=>{0===Re&&st.createObjectStore(Bn)}}).catch(st=>{throw Ft.create("idb-open",{originalErrorMessage:st.message})})),jn}function He(){return(He=(0,h.Z)(function*(st){var Re;try{return(yield Tn()).transaction(Bn).objectStore(Bn).get(Kn(st))}catch(ot){if(ot instanceof ae.ZR)H.warn(ot.message);else{const It=Ft.create("idb-get",{originalErrorMessage:null===(Re=ot)||void 0===Re?void 0:Re.message});H.warn(It.message)}}})).apply(this,arguments)}function mn(st,Re){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,h.Z)(function*(st,Re){var ot;try{const At=(yield Tn()).transaction(Bn,"readwrite");return yield At.objectStore(Bn).put(Re,Kn(st)),At.done}catch(It){if(It instanceof ae.ZR)H.warn(It.message);else{const At=Ft.create("idb-set",{originalErrorMessage:null===(ot=It)||void 0===ot?void 0:ot.message});H.warn(At.message)}}})).apply(this,arguments)}function Kn(st){return`${st.name}!${st.options.appId}`}class Fr{constructor(Re){this.container=Re,this._heartbeatsCache=null;const ot=this.container.getProvider("app").getImmediate();this._storage=new pn(ot),this._heartbeatsCachePromise=this._storage.read().then(It=>(this._heartbeatsCache=It,It))}triggerHeartbeat(){var Re=this;return(0,h.Z)(function*(){const It=Re.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),At=fn();if(null===Re._heartbeatsCache&&(Re._heartbeatsCache=yield Re._heartbeatsCachePromise),Re._heartbeatsCache.lastSentHeartbeatDate!==At&&!Re._heartbeatsCache.heartbeats.some($t=>$t.date===At))return Re._heartbeatsCache.heartbeats.push({date:At,agent:It}),Re._heartbeatsCache.heartbeats=Re._heartbeatsCache.heartbeats.filter($t=>{const Z=new Date($t.date).valueOf();return Date.now()-Z<=2592e6}),Re._storage.overwrite(Re._heartbeatsCache)})()}getHeartbeatsHeader(){var Re=this;return(0,h.Z)(function*(){if(null===Re._heartbeatsCache&&(yield Re._heartbeatsCachePromise),null===Re._heartbeatsCache||0===Re._heartbeatsCache.heartbeats.length)return"";const ot=fn(),{heartbeatsToSend:It,unsentEntries:At}=function Ci(st,Re=1024){const ot=[];let It=st.slice();for(const At of st){const $t=ot.find(Z=>Z.agent===At.agent);if($t){if($t.dates.push(At.date),rr(ot)>Re){$t.dates.pop();break}}else if(ot.push({agent:At.agent,dates:[At.date]}),rr(ot)>Re){ot.pop();break}It=It.slice(1)}return{heartbeatsToSend:ot,unsentEntries:It}}(Re._heartbeatsCache.heartbeats),$t=(0,ae.L)(JSON.stringify({version:2,heartbeats:It}));return Re._heartbeatsCache.lastSentHeartbeatDate=ot,At.length>0?(Re._heartbeatsCache.heartbeats=At,yield Re._storage.overwrite(Re._heartbeatsCache)):(Re._heartbeatsCache.heartbeats=[],Re._storage.overwrite(Re._heartbeatsCache)),$t})()}}function fn(){return(new Date).toISOString().substring(0,10)}class pn{constructor(Re){this.app=Re,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,h.Z)(function*(){return!!(0,ae.hl)()&&(0,ae.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Re=this;return(0,h.Z)(function*(){return(yield Re._canUseIndexedDBPromise)&&(yield function wt(st){return He.apply(this,arguments)}(Re.app))||{heartbeats:[]}})()}overwrite(Re){var ot=this;return(0,h.Z)(function*(){var It;if(yield ot._canUseIndexedDBPromise){const $t=yield ot.read();return mn(ot.app,{lastSentHeartbeatDate:null!==(It=Re.lastSentHeartbeatDate)&&void 0!==It?It:$t.lastSentHeartbeatDate,heartbeats:Re.heartbeats})}})()}add(Re){var ot=this;return(0,h.Z)(function*(){var It;if(yield ot._canUseIndexedDBPromise){const $t=yield ot.read();return mn(ot.app,{lastSentHeartbeatDate:null!==(It=Re.lastSentHeartbeatDate)&&void 0!==It?It:$t.lastSentHeartbeatDate,heartbeats:[...$t.heartbeats,...Re.heartbeats]})}})()}}function rr(st){return(0,ae.L)(JSON.stringify({version:2,heartbeats:st})).length}!function Lr(st){Ht(new F.wA("platform-logger",Re=>new ne(Re),"PRIVATE")),Ht(new F.wA("heartbeat",Re=>new Fr(Re),"PRIVATE")),Er(re,"0.8.2",st),Er(re,"0.8.2","esm2017"),Er("fire-js","")}("")},4859:(ft,le,V)=>{"use strict";V.d(le,{H0:()=>re,wA:()=>L});var h=V(5861),F=V(2090);class L{constructor(H,G,Y){this.name=H,this.instanceFactory=G,this.type=Y,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(H){return this.instantiationMode=H,this}setMultipleInstances(H){return this.multipleInstances=H,this}setServiceProps(H){return this.serviceProps=H,this}setInstanceCreatedCallback(H){return this.onInstanceCreated=H,this}}const ae="[DEFAULT]";class de{constructor(H,G){this.name=H,this.container=G,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(H){const G=this.normalizeInstanceIdentifier(H);if(!this.instancesDeferred.has(G)){const Y=new F.BH;if(this.instancesDeferred.set(G,Y),this.isInitialized(G)||this.shouldAutoInitialize())try{const Fe=this.getOrInitializeService({instanceIdentifier:G});Fe&&Y.resolve(Fe)}catch{}}return this.instancesDeferred.get(G).promise}getImmediate(H){var G;const Y=this.normalizeInstanceIdentifier(H?.identifier),Fe=null!==(G=H?.optional)&&void 0!==G&&G;if(!this.isInitialized(Y)&&!this.shouldAutoInitialize()){if(Fe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Y})}catch(ke){if(Fe)return null;throw ke}}getComponent(){return this.component}setComponent(H){if(H.name!==this.name)throw Error(`Mismatching Component ${H.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=H,this.shouldAutoInitialize()){if(function se(ce){return"EAGER"===ce.instantiationMode}(H))try{this.getOrInitializeService({instanceIdentifier:ae})}catch{}for(const[G,Y]of this.instancesDeferred.entries()){const Fe=this.normalizeInstanceIdentifier(G);try{const ke=this.getOrInitializeService({instanceIdentifier:Fe});Y.resolve(ke)}catch{}}}}clearInstance(H=ae){this.instancesDeferred.delete(H),this.instancesOptions.delete(H),this.instances.delete(H)}delete(){var H=this;return(0,h.Z)(function*(){const G=Array.from(H.instances.values());yield Promise.all([...G.filter(Y=>"INTERNAL"in Y).map(Y=>Y.INTERNAL.delete()),...G.filter(Y=>"_delete"in Y).map(Y=>Y._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(H=ae){return this.instances.has(H)}getOptions(H=ae){return this.instancesOptions.get(H)||{}}initialize(H={}){const{options:G={}}=H,Y=this.normalizeInstanceIdentifier(H.instanceIdentifier);if(this.isInitialized(Y))throw Error(`${this.name}(${Y}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Fe=this.getOrInitializeService({instanceIdentifier:Y,options:G});for(const[ke,Ae]of this.instancesDeferred.entries())Y===this.normalizeInstanceIdentifier(ke)&&Ae.resolve(Fe);return Fe}onInit(H,G){var Y;const Fe=this.normalizeInstanceIdentifier(G),ke=null!==(Y=this.onInitCallbacks.get(Fe))&&void 0!==Y?Y:new Set;ke.add(H),this.onInitCallbacks.set(Fe,ke);const Ae=this.instances.get(Fe);return Ae&&H(Ae,Fe),()=>{ke.delete(H)}}invokeOnInitCallbacks(H,G){const Y=this.onInitCallbacks.get(G);if(Y)for(const Fe of Y)try{Fe(H,G)}catch{}}getOrInitializeService({instanceIdentifier:H,options:G={}}){let Y=this.instances.get(H);if(!Y&&this.component&&(Y=this.component.instanceFactory(this.container,{instanceIdentifier:(ce=H,ce===ae?void 0:ce),options:G}),this.instances.set(H,Y),this.instancesOptions.set(H,G),this.invokeOnInitCallbacks(Y,H),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,H,Y)}catch{}var ce;return Y||null}normalizeInstanceIdentifier(H=ae){return this.component?this.component.multipleInstances?H:ae:H}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class re{constructor(H){this.name=H,this.providers=new Map}addComponent(H){const G=this.getProvider(H.name);if(G.isComponentSet())throw new Error(`Component ${H.name} has already been registered with ${this.name}`);G.setComponent(H)}addOrOverwriteComponent(H){this.getProvider(H.name).isComponentSet()&&this.providers.delete(H.name),this.addComponent(H)}getProvider(H){if(this.providers.has(H))return this.providers.get(H);const G=new de(H,this);return this.providers.set(H,G),G}getProviders(){return Array.from(this.providers.values())}}},1877:(ft,le,V)=>{"use strict";V.d(le,{Am:()=>ce,Ub:()=>re,Yd:()=>se,in:()=>F});const h=[];var F=(()=>{return(H=F||(F={}))[H.DEBUG=0]="DEBUG",H[H.VERBOSE=1]="VERBOSE",H[H.INFO=2]="INFO",H[H.WARN=3]="WARN",H[H.ERROR=4]="ERROR",H[H.SILENT=5]="SILENT",F;var H})();const L={debug:F.DEBUG,verbose:F.VERBOSE,info:F.INFO,warn:F.WARN,error:F.ERROR,silent:F.SILENT},ae=F.INFO,de={[F.DEBUG]:"log",[F.VERBOSE]:"log",[F.INFO]:"info",[F.WARN]:"warn",[F.ERROR]:"error"},ne=(H,G,...Y)=>{if(G<H.logLevel)return;const Fe=(new Date).toISOString(),ke=de[G];if(!ke)throw new Error(`Attempted to log a message with an invalid logType (value: ${G})`);console[ke](`[${Fe}]  ${H.name}:`,...Y)};class se{constructor(G){this.name=G,this._logLevel=ae,this._logHandler=ne,this._userLogHandler=null,h.push(this)}get logLevel(){return this._logLevel}set logLevel(G){if(!(G in F))throw new TypeError(`Invalid value "${G}" assigned to \`logLevel\``);this._logLevel=G}setLogLevel(G){this._logLevel="string"==typeof G?L[G]:G}get logHandler(){return this._logHandler}set logHandler(G){if("function"!=typeof G)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=G}get userLogHandler(){return this._userLogHandler}set userLogHandler(G){this._userLogHandler=G}debug(...G){this._userLogHandler&&this._userLogHandler(this,F.DEBUG,...G),this._logHandler(this,F.DEBUG,...G)}log(...G){this._userLogHandler&&this._userLogHandler(this,F.VERBOSE,...G),this._logHandler(this,F.VERBOSE,...G)}info(...G){this._userLogHandler&&this._userLogHandler(this,F.INFO,...G),this._logHandler(this,F.INFO,...G)}warn(...G){this._userLogHandler&&this._userLogHandler(this,F.WARN,...G),this._logHandler(this,F.WARN,...G)}error(...G){this._userLogHandler&&this._userLogHandler(this,F.ERROR,...G),this._logHandler(this,F.ERROR,...G)}}function re(H){h.forEach(G=>{G.setLogLevel(H)})}function ce(H,G){for(const Y of h){let Fe=null;G&&G.level&&(Fe=L[G.level]),Y.userLogHandler=null===H?null:(ke,Ae,...Qe)=>{const we=Qe.map(ge=>{if(null==ge)return null;if("string"==typeof ge)return ge;if("number"==typeof ge||"boolean"==typeof ge)return ge.toString();if(ge instanceof Error)return ge.message;try{return JSON.stringify(ge)}catch{return null}}).filter(ge=>ge).join(" ");Ae>=(Fe??ke.logLevel)&&H({level:F[Ae].toLowerCase(),message:we,args:Qe,type:ke.name})}}}},8766:(ft,le,V)=>{"use strict";V.d(le,{Lj:()=>De,X3:()=>rt});var h=V(5861);let L,ae;const se=new WeakMap,re=new WeakMap,ce=new WeakMap,H=new WeakMap,G=new WeakMap;let ke={get(j,ee,W){if(j instanceof IDBTransaction){if("done"===ee)return re.get(j);if("objectStoreNames"===ee)return j.objectStoreNames||ce.get(j);if("store"===ee)return W.objectStoreNames[1]?void 0:W.objectStore(W.objectStoreNames[0])}return ge(j[ee])},set:(j,ee,W)=>(j[ee]=W,!0),has:(j,ee)=>j instanceof IDBTransaction&&("done"===ee||"store"===ee)||ee in j};function we(j){return"function"==typeof j?function Qe(j){return j!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ne(){return ae||(ae=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(j)?function(...ee){return j.apply(Pe(this),ee),ge(se.get(this))}:function(...ee){return ge(j.apply(Pe(this),ee))}:function(ee,...W){const ie=j.call(Pe(this),ee,...W);return ce.set(ie,ee.sort?ee.sort():[ee]),ge(ie)}}(j):(j instanceof IDBTransaction&&function Fe(j){if(re.has(j))return;const ee=new Promise((W,ie)=>{const fe=()=>{j.removeEventListener("complete",ue),j.removeEventListener("error",Ve),j.removeEventListener("abort",Ve)},ue=()=>{W(),fe()},Ve=()=>{ie(j.error||new DOMException("AbortError","AbortError")),fe()};j.addEventListener("complete",ue),j.addEventListener("error",Ve),j.addEventListener("abort",Ve)});re.set(j,ee)}(j),((j,ee)=>ee.some(W=>j instanceof W))(j,function de(){return L||(L=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(j,ke):j)}function ge(j){if(j instanceof IDBRequest)return function Y(j){const ee=new Promise((W,ie)=>{const fe=()=>{j.removeEventListener("success",ue),j.removeEventListener("error",Ve)},ue=()=>{W(ge(j.result)),fe()},Ve=()=>{ie(j.error),fe()};j.addEventListener("success",ue),j.addEventListener("error",Ve)});return ee.then(W=>{W instanceof IDBCursor&&se.set(W,j)}).catch(()=>{}),G.set(ee,j),ee}(j);if(H.has(j))return H.get(j);const ee=we(j);return ee!==j&&(H.set(j,ee),G.set(ee,j)),ee}const Pe=j=>G.get(j);function rt(j,ee,{blocked:W,upgrade:ie,blocking:fe,terminated:ue}={}){const Ve=indexedDB.open(j,ee),Be=ge(Ve);return ie&&Ve.addEventListener("upgradeneeded",lt=>{ie(ge(Ve.result),lt.oldVersion,lt.newVersion,ge(Ve.transaction))}),W&&Ve.addEventListener("blocked",()=>W()),Be.then(lt=>{ue&&lt.addEventListener("close",()=>ue()),fe&&lt.addEventListener("versionchange",()=>fe())}).catch(()=>{}),Be}function De(j,{blocked:ee}={}){const W=indexedDB.deleteDatabase(j);return ee&&W.addEventListener("blocked",()=>ee()),ge(W).then(()=>{})}const Ee=["get","getKey","getAll","getAllKeys","count"],Te=["put","add","delete","clear"],Ie=new Map;function ve(j,ee){if(!(j instanceof IDBDatabase)||ee in j||"string"!=typeof ee)return;if(Ie.get(ee))return Ie.get(ee);const W=ee.replace(/FromIndex$/,""),ie=ee!==W,fe=Te.includes(W);if(!(W in(ie?IDBIndex:IDBObjectStore).prototype)||!fe&&!Ee.includes(W))return;const ue=function(){var Ve=(0,h.Z)(function*(Be,...lt){const qt=this.transaction(Be,fe?"readwrite":"readonly");let Dt=qt.store;return ie&&(Dt=Dt.index(lt.shift())),(yield Promise.all([Dt[W](...lt),fe&&qt.done]))[0]});return function(lt){return Ve.apply(this,arguments)}}();return Ie.set(ee,ue),ue}!function Ae(j){ke=j(ke)}(j=>({...j,get:(ee,W,ie)=>ve(ee,W)||j.get(ee,W,ie),has:(ee,W)=>!!ve(ee,W)||j.has(ee,W)}))},5861:(ft,le,V)=>{"use strict";function h(L,ae,de,ne,se,re,ce){try{var H=L[re](ce),G=H.value}catch(Y){return void de(Y)}H.done?ae(G):Promise.resolve(G).then(ne,se)}function F(L){return function(){var ae=this,de=arguments;return new Promise(function(ne,se){var re=L.apply(ae,de);function ce(G){h(re,ne,se,ce,H,"next",G)}function H(G){h(re,ne,se,ce,H,"throw",G)}ce(void 0)})}}V.d(le,{Z:()=>F})}},ft=>{ft(ft.s=8858)}]);